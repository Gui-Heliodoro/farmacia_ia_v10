var mb=Object.defineProperty;var yb=(t,e,n)=>e in t?mb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e,n)=>yb(t,typeof e!="symbol"?e+"":e,n);function vb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var A0={exports:{}},Ec={},N0={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),wb=Symbol.for("react.portal"),bb=Symbol.for("react.fragment"),_b=Symbol.for("react.strict_mode"),Sb=Symbol.for("react.profiler"),kb=Symbol.for("react.provider"),Cb=Symbol.for("react.context"),Eb=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Tb=Symbol.for("react.memo"),jb=Symbol.for("react.lazy"),hp=Symbol.iterator;function Ob(t){return t===null||typeof t!="object"?null:(t=hp&&t[hp]||t["@@iterator"],typeof t=="function"?t:null)}var L0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I0=Object.assign,$0={};function ps(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||L0}ps.prototype.isReactComponent={};ps.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ps.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F0(){}F0.prototype=ps.prototype;function Rh(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||L0}var Dh=Rh.prototype=new F0;Dh.constructor=Rh;I0(Dh,ps.prototype);Dh.isPureReactComponent=!0;var fp=Array.isArray,z0=Object.prototype.hasOwnProperty,Ah={current:null},B0={key:!0,ref:!0,__self:!0,__source:!0};function U0(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)z0.call(e,r)&&!B0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ua,type:t,key:s,ref:o,props:i,_owner:Ah.current}}function Mb(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function Rb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pp=/\/+/g;function uu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rb(""+t.key):e.toString(36)}function hl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ua:case wb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uu(o,0):r,fp(i)?(n="",t!=null&&(n=t.replace(pp,"$&/")+"/"),hl(i,e,n,"",function(c){return c})):i!=null&&(Nh(i)&&(i=Mb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",fp(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+uu(s,a);o+=hl(s,e,n,l,i)}else if(l=Ob(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+uu(s,a++),o+=hl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ea(t,e,n){if(t==null)return t;var r=[],i=0;return hl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Db(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mt={current:null},fl={transition:null},Ab={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:fl,ReactCurrentOwner:Ah};function V0(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Ea,forEach:function(t,e,n){Ea(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ea(t,function(){e++}),e},toArray:function(t){return Ea(t,function(e){return e})||[]},only:function(t){if(!Nh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=ps;se.Fragment=bb;se.Profiler=Sb;se.PureComponent=Rh;se.StrictMode=_b;se.Suspense=Pb;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ab;se.act=V0;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=I0({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ah.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)z0.call(e,l)&&!B0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ua,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:Cb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kb,_context:t},t.Consumer=t};se.createElement=U0;se.createFactory=function(t){var e=U0.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Eb,render:t}};se.isValidElement=Nh;se.lazy=function(t){return{$$typeof:jb,_payload:{_status:-1,_result:t},_init:Db}};se.memo=function(t,e){return{$$typeof:Tb,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=fl.transition;fl.transition={};try{t()}finally{fl.transition=e}};se.unstable_act=V0;se.useCallback=function(t,e){return mt.current.useCallback(t,e)};se.useContext=function(t){return mt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return mt.current.useDeferredValue(t)};se.useEffect=function(t,e){return mt.current.useEffect(t,e)};se.useId=function(){return mt.current.useId()};se.useImperativeHandle=function(t,e,n){return mt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return mt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return mt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return mt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return mt.current.useReducer(t,e,n)};se.useRef=function(t){return mt.current.useRef(t)};se.useState=function(t){return mt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return mt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return mt.current.useTransition()};se.version="18.3.1";N0.exports=se;var b=N0.exports;const de=Cc(b),Nb=vb({__proto__:null,default:de},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=b,Ib=Symbol.for("react.element"),$b=Symbol.for("react.fragment"),Fb=Object.prototype.hasOwnProperty,zb=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bb={key:!0,ref:!0,__self:!0,__source:!0};function H0(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fb.call(e,r)&&!Bb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ib,type:t,key:s,ref:o,props:i,_owner:zb.current}}Ec.Fragment=$b;Ec.jsx=H0;Ec.jsxs=H0;A0.exports=Ec;var g=A0.exports,W0={exports:{}},zt={},q0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var F=T.length;T.push(I);e:for(;0<F;){var X=F-1>>>1,K=T[X];if(0<i(K,I))T[X]=I,T[F]=K,F=X;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],F=T.pop();if(F!==I){T[0]=F;e:for(var X=0,K=T.length,Z=K>>>1;X<Z;){var ee=2*(X+1)-1,ue=T[ee],re=ee+1,Le=T[re];if(0>i(ue,F))re<K&&0>i(Le,ue)?(T[X]=Le,T[re]=F,X=re):(T[X]=ue,T[ee]=F,X=ee);else if(re<K&&0>i(Le,F))T[X]=Le,T[re]=F,X=re;else break e}}return I}function i(T,I){var F=T.sortIndex-I.sortIndex;return F!==0?F:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=T)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function _(T){if(v=!1,x(T),!m)if(n(l)!==null)m=!0,R(S);else{var I=n(c);I!==null&&L(_,I.startTime-T)}}function S(T,I){m=!1,v&&(v=!1,y(P),P=-1),f=!0;var F=h;try{for(x(I),d=n(l);d!==null&&(!(d.expirationTime>I)||T&&!N());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var K=X(d.expirationTime<=I);I=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),x(I)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var ee=n(c);ee!==null&&L(_,ee.startTime-I),Z=!1}return Z}finally{d=null,h=F,f=!1}}var E=!1,C=null,P=-1,$=5,D=-1;function N(){return!(t.unstable_now()-D<$)}function U(){if(C!==null){var T=t.unstable_now();D=T;var I=!0;try{I=C(!0,T)}finally{I?V():(E=!1,C=null)}}else E=!1}var V;if(typeof p=="function")V=function(){p(U)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,M=O.port2;O.port1.onmessage=U,V=function(){M.postMessage(null)}}else V=function(){w(U,0)};function R(T){C=T,E||(E=!0,V())}function L(T,I){P=w(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(S))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var F=h;h=I;try{return T()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=h;h=T;try{return I()}finally{h=F}},t.unstable_scheduleCallback=function(T,I,F){var X=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?X+F:X):F=X,T){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=F+K,T={id:u++,callback:I,priorityLevel:T,startTime:F,expirationTime:K,sortIndex:-1},F>X?(T.sortIndex=F,e(c,T),n(l)===null&&T===n(c)&&(v?(y(P),P=-1):v=!0,L(_,F-X))):(T.sortIndex=K,e(l,T),m||f||(m=!0,R(S))),T},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(T){var I=h;return function(){var F=h;h=I;try{return T.apply(this,arguments)}finally{h=F}}}})(Y0);q0.exports=Y0;var Ub=q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb=b,Ft=Ub;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K0=new Set,Ro={};function yi(t,e){ts(t,e),ts(t+"Capture",e)}function ts(t,e){for(Ro[t]=e,t=0;t<e.length;t++)K0.add(e[t])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=Object.prototype.hasOwnProperty,Hb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gp={},mp={};function Wb(t){return ld.call(mp,t)?!0:ld.call(gp,t)?!1:Hb.test(t)?mp[t]=!0:(gp[t]=!0,!1)}function qb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yb(t,e,n,r){if(e===null||typeof e>"u"||qb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lh=/[\-:]([a-z])/g;function Ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lh,Ih);tt[e]=new yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lh,Ih);tt[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lh,Ih);tt[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new yt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function $h(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yb(e,n,i,r)&&(n=null),r||i===null?Wb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gn=Vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),Fh=Symbol.for("react.strict_mode"),cd=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),zh=Symbol.for("react.forward_ref"),ud=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),Bh=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),G0=Symbol.for("react.offscreen"),yp=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=yp&&t[yp]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,du;function Qs(t){if(du===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);du=e&&e[1]||""}return`
`+du+t}var hu=!1;function fu(t,e){if(!t||hu)return"";hu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qs(t):""}function Kb(t){switch(t.tag){case 5:return Qs(t.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return t=fu(t.type,!1),t;case 11:return t=fu(t.type.render,!1),t;case 1:return t=fu(t.type,!0),t;default:return""}}function hd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Mi:return"Portal";case cd:return"Profiler";case Fh:return"StrictMode";case ud:return"Suspense";case dd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J0:return(t.displayName||"Context")+".Consumer";case X0:return(t._context.displayName||"Context")+".Provider";case zh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bh:return e=t.displayName||null,e!==null?e:hd(t.type)||"Memo";case ur:e=t._payload,t=t._init;try{return hd(t(e))}catch{}}return null}function Xb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hd(e);case 8:return e===Fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jb(t){var e=Q0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=Jb(t))}function Z0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fd(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ey(t,e){e=e.checked,e!=null&&$h(t,"checked",e,!1)}function pd(t,e){ey(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gd(t,e.type,n):e.hasOwnProperty("defaultValue")&&gd(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gd(t,e,n){(e!=="number"||Rl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zs=Array.isArray;function Hi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function md(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Zs(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function ty(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ny(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ny(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ja,ry=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Do(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gb=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(t){Gb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),co[e]=co[t]})});function iy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||co.hasOwnProperty(t)&&co[t]?(""+e).trim():e+"px"}function sy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=iy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Qb=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vd(t,e){if(e){if(Qb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function xd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wd=null;function Uh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bd=null,Wi=null,qi=null;function _p(t){if(t=fa(t)){if(typeof bd!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Mc(e),bd(t.stateNode,t.type,e))}}function oy(t){Wi?qi?qi.push(t):qi=[t]:Wi=t}function ay(){if(Wi){var t=Wi,e=qi;if(qi=Wi=null,_p(t),e)for(t=0;t<e.length;t++)_p(e[t])}}function ly(t,e){return t(e)}function cy(){}var pu=!1;function uy(t,e,n){if(pu)return t(e,n);pu=!0;try{return ly(t,e,n)}finally{pu=!1,(Wi!==null||qi!==null)&&(cy(),ay())}}function Ao(t,e){var n=t.stateNode;if(n===null)return null;var r=Mc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var _d=!1;if(qn)try{var Is={};Object.defineProperty(Is,"passive",{get:function(){_d=!0}}),window.addEventListener("test",Is,Is),window.removeEventListener("test",Is,Is)}catch{_d=!1}function Zb(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var uo=!1,Dl=null,Al=!1,Sd=null,e_={onError:function(t){uo=!0,Dl=t}};function t_(t,e,n,r,i,s,o,a,l){uo=!1,Dl=null,Zb.apply(e_,arguments)}function n_(t,e,n,r,i,s,o,a,l){if(t_.apply(this,arguments),uo){if(uo){var c=Dl;uo=!1,Dl=null}else throw Error(B(198));Al||(Al=!0,Sd=c)}}function vi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function dy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sp(t){if(vi(t)!==t)throw Error(B(188))}function r_(t){var e=t.alternate;if(!e){if(e=vi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sp(i),t;if(s===r)return Sp(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function hy(t){return t=r_(t),t!==null?fy(t):null}function fy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fy(t);if(e!==null)return e;t=t.sibling}return null}var py=Ft.unstable_scheduleCallback,kp=Ft.unstable_cancelCallback,i_=Ft.unstable_shouldYield,s_=Ft.unstable_requestPaint,De=Ft.unstable_now,o_=Ft.unstable_getCurrentPriorityLevel,Vh=Ft.unstable_ImmediatePriority,gy=Ft.unstable_UserBlockingPriority,Nl=Ft.unstable_NormalPriority,a_=Ft.unstable_LowPriority,my=Ft.unstable_IdlePriority,Pc=null,Cn=null;function l_(t){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Pc,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:d_,c_=Math.log,u_=Math.LN2;function d_(t){return t>>>=0,t===0?32:31-(c_(t)/u_|0)|0}var Oa=64,Ma=4194304;function eo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=eo(a):(s&=o,s!==0&&(r=eo(s)))}else o=n&~i,o!==0?r=eo(o):s!==0&&(r=eo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function h_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=h_(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function kd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yy(){var t=Oa;return Oa<<=1,!(Oa&4194240)&&(Oa=64),t}function gu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function da(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function p_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Hh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fe=0;function vy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xy,Wh,wy,by,_y,Cd=!1,Ra=[],Cr=null,Er=null,Pr=null,No=new Map,Lo=new Map,pr=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cp(t,e){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":No.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(e.pointerId)}}function $s(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fa(e),e!==null&&Wh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function m_(t,e,n,r,i){switch(e){case"focusin":return Cr=$s(Cr,t,e,n,r,i),!0;case"dragenter":return Er=$s(Er,t,e,n,r,i),!0;case"mouseover":return Pr=$s(Pr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return No.set(s,$s(No.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lo.set(s,$s(Lo.get(s)||null,t,e,n,r,i)),!0}return!1}function Sy(t){var e=ni(t.target);if(e!==null){var n=vi(e);if(n!==null){if(e=n.tag,e===13){if(e=dy(n),e!==null){t.blockedOn=e,_y(t.priority,function(){wy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ed(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wd=r,n.target.dispatchEvent(r),wd=null}else return e=fa(n),e!==null&&Wh(e),t.blockedOn=n,!1;e.shift()}return!0}function Ep(t,e,n){pl(t)&&n.delete(e)}function y_(){Cd=!1,Cr!==null&&pl(Cr)&&(Cr=null),Er!==null&&pl(Er)&&(Er=null),Pr!==null&&pl(Pr)&&(Pr=null),No.forEach(Ep),Lo.forEach(Ep)}function Fs(t,e){t.blockedOn===e&&(t.blockedOn=null,Cd||(Cd=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,y_)))}function Io(t){function e(i){return Fs(i,t)}if(0<Ra.length){Fs(Ra[0],t);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cr!==null&&Fs(Cr,t),Er!==null&&Fs(Er,t),Pr!==null&&Fs(Pr,t),No.forEach(e),Lo.forEach(e),n=0;n<pr.length;n++)r=pr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)Sy(n),n.blockedOn===null&&pr.shift()}var Yi=Gn.ReactCurrentBatchConfig,Il=!0;function v_(t,e,n,r){var i=fe,s=Yi.transition;Yi.transition=null;try{fe=1,qh(t,e,n,r)}finally{fe=i,Yi.transition=s}}function x_(t,e,n,r){var i=fe,s=Yi.transition;Yi.transition=null;try{fe=4,qh(t,e,n,r)}finally{fe=i,Yi.transition=s}}function qh(t,e,n,r){if(Il){var i=Ed(t,e,n,r);if(i===null)Cu(t,e,r,$l,n),Cp(t,r);else if(m_(i,t,e,n,r))r.stopPropagation();else if(Cp(t,r),e&4&&-1<g_.indexOf(t)){for(;i!==null;){var s=fa(i);if(s!==null&&xy(s),s=Ed(t,e,n,r),s===null&&Cu(t,e,r,$l,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cu(t,e,r,null,n)}}var $l=null;function Ed(t,e,n,r){if($l=null,t=Uh(r),t=ni(t),t!==null)if(e=vi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=dy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $l=t,null}function ky(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o_()){case Vh:return 1;case gy:return 4;case Nl:case a_:return 16;case my:return 536870912;default:return 16}default:return 16}}var xr=null,Yh=null,gl=null;function Cy(){if(gl)return gl;var t,e=Yh,n=e.length,r,i="value"in xr?xr.value:xr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gl=i.slice(t,1<r?1-r:void 0)}function ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Da(){return!0}function Pp(){return!1}function Bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Da:Pp,this.isPropagationStopped=Pp,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),e}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kh=Bt(gs),ha=Te({},gs,{view:0,detail:0}),w_=Bt(ha),mu,yu,zs,Tc=Te({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(mu=t.screenX-zs.screenX,yu=t.screenY-zs.screenY):yu=mu=0,zs=t),mu)},movementY:function(t){return"movementY"in t?t.movementY:yu}}),Tp=Bt(Tc),b_=Te({},Tc,{dataTransfer:0}),__=Bt(b_),S_=Te({},ha,{relatedTarget:0}),vu=Bt(S_),k_=Te({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),C_=Bt(k_),E_=Te({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P_=Bt(E_),T_=Te({},gs,{data:0}),jp=Bt(T_),j_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M_[t])?!!e[t]:!1}function Xh(){return R_}var D_=Te({},ha,{key:function(t){if(t.key){var e=j_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?O_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(t){return t.type==="keypress"?ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A_=Bt(D_),N_=Te({},Tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Op=Bt(N_),L_=Te({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),I_=Bt(L_),$_=Te({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),F_=Bt($_),z_=Te({},Tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=Bt(z_),U_=[9,13,27,32],Jh=qn&&"CompositionEvent"in window,ho=null;qn&&"documentMode"in document&&(ho=document.documentMode);var V_=qn&&"TextEvent"in window&&!ho,Ey=qn&&(!Jh||ho&&8<ho&&11>=ho),Mp=" ",Rp=!1;function Py(t,e){switch(t){case"keyup":return U_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Di=!1;function H_(t,e){switch(t){case"compositionend":return Ty(e);case"keypress":return e.which!==32?null:(Rp=!0,Mp);case"textInput":return t=e.data,t===Mp&&Rp?null:t;default:return null}}function W_(t,e){if(Di)return t==="compositionend"||!Jh&&Py(t,e)?(t=Cy(),gl=Yh=xr=null,Di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ey&&e.locale!=="ko"?null:e.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q_[t.type]:e==="textarea"}function jy(t,e,n,r){oy(r),e=Fl(e,"onChange"),0<e.length&&(n=new Kh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fo=null,$o=null;function Y_(t){zy(t,0)}function jc(t){var e=Li(t);if(Z0(e))return t}function K_(t,e){if(t==="change")return e}var Oy=!1;if(qn){var xu;if(qn){var wu="oninput"in document;if(!wu){var Ap=document.createElement("div");Ap.setAttribute("oninput","return;"),wu=typeof Ap.oninput=="function"}xu=wu}else xu=!1;Oy=xu&&(!document.documentMode||9<document.documentMode)}function Np(){fo&&(fo.detachEvent("onpropertychange",My),$o=fo=null)}function My(t){if(t.propertyName==="value"&&jc($o)){var e=[];jy(e,$o,t,Uh(t)),uy(Y_,e)}}function X_(t,e,n){t==="focusin"?(Np(),fo=e,$o=n,fo.attachEvent("onpropertychange",My)):t==="focusout"&&Np()}function J_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jc($o)}function G_(t,e){if(t==="click")return jc(e)}function Q_(t,e){if(t==="input"||t==="change")return jc(e)}function Z_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:Z_;function Fo(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ld.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function Lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ip(t,e){var n=Lp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lp(n)}}function Ry(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ry(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dy(){for(var t=window,e=Rl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rl(t.document)}return e}function Gh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e1(t){var e=Dy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ry(n.ownerDocument.documentElement,n)){if(r!==null&&Gh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ip(n,s);var o=Ip(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t1=qn&&"documentMode"in document&&11>=document.documentMode,Ai=null,Pd=null,po=null,Td=!1;function $p(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Td||Ai==null||Ai!==Rl(r)||(r=Ai,"selectionStart"in r&&Gh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),po&&Fo(po,r)||(po=r,r=Fl(Pd,"onSelect"),0<r.length&&(e=new Kh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ai)))}function Aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ni={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},bu={},Ay={};qn&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Oc(t){if(bu[t])return bu[t];if(!Ni[t])return t;var e=Ni[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ay)return bu[t]=e[n];return t}var Ny=Oc("animationend"),Ly=Oc("animationiteration"),Iy=Oc("animationstart"),$y=Oc("transitionend"),Fy=new Map,Fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){Fy.set(t,e),yi(e,[t])}for(var _u=0;_u<Fp.length;_u++){var Su=Fp[_u],n1=Su.toLowerCase(),r1=Su[0].toUpperCase()+Su.slice(1);$r(n1,"on"+r1)}$r(Ny,"onAnimationEnd");$r(Ly,"onAnimationIteration");$r(Iy,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r($y,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i1=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function zp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n_(r,e,void 0,t),t.currentTarget=null}function zy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zp(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zp(i,a,c),s=l}}}if(Al)throw t=Sd,Al=!1,Sd=null,t}function xe(t,e){var n=e[Dd];n===void 0&&(n=e[Dd]=new Set);var r=t+"__bubble";n.has(r)||(By(e,t,2,!1),n.add(r))}function ku(t,e,n){var r=0;e&&(r|=4),By(n,t,r,e)}var Na="_reactListening"+Math.random().toString(36).slice(2);function zo(t){if(!t[Na]){t[Na]=!0,K0.forEach(function(n){n!=="selectionchange"&&(i1.has(n)||ku(n,!1,t),ku(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Na]||(e[Na]=!0,ku("selectionchange",!1,e))}}function By(t,e,n,r){switch(ky(e)){case 1:var i=v_;break;case 4:i=x_;break;default:i=qh}n=i.bind(null,e,n,t),i=void 0,!_d||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cu(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uy(function(){var c=s,u=Uh(n),d=[];e:{var h=Fy.get(t);if(h!==void 0){var f=Kh,m=t;switch(t){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":f=A_;break;case"focusin":m="focus",f=vu;break;case"focusout":m="blur",f=vu;break;case"beforeblur":case"afterblur":f=vu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Tp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=I_;break;case Ny:case Ly:case Iy:f=C_;break;case $y:f=F_;break;case"scroll":f=w_;break;case"wheel":f=B_;break;case"copy":case"cut":case"paste":f=P_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Op}var v=(e&4)!==0,w=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var p=c,x;p!==null;){x=p;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,y!==null&&(_=Ao(p,y),_!=null&&v.push(Bo(p,_,x)))),w)break;p=p.return}0<v.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==wd&&(m=n.relatedTarget||n.fromElement)&&(ni(m)||m[Yn]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?ni(m):null,m!==null&&(w=vi(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(v=Tp,_="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Op,_="onPointerLeave",y="onPointerEnter",p="pointer"),w=f==null?h:Li(f),x=m==null?h:Li(m),h=new v(_,p+"leave",f,n,u),h.target=w,h.relatedTarget=x,_=null,ni(u)===c&&(v=new v(y,p+"enter",m,n,u),v.target=x,v.relatedTarget=w,_=v),w=_,f&&m)t:{for(v=f,y=m,p=0,x=v;x;x=Si(x))p++;for(x=0,_=y;_;_=Si(_))x++;for(;0<p-x;)v=Si(v),p--;for(;0<x-p;)y=Si(y),x--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=Si(v),y=Si(y)}v=null}else v=null;f!==null&&Bp(d,h,f,v,!1),m!==null&&w!==null&&Bp(d,w,m,v,!0)}}e:{if(h=c?Li(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=K_;else if(Dp(h))if(Oy)S=Q_;else{S=J_;var E=X_}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=G_);if(S&&(S=S(t,c))){jy(d,S,n,u);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&gd(h,"number",h.value)}switch(E=c?Li(c):window,t){case"focusin":(Dp(E)||E.contentEditable==="true")&&(Ai=E,Pd=c,po=null);break;case"focusout":po=Pd=Ai=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,$p(d,n,u);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":$p(d,n,u)}var C;if(Jh)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Di?Py(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Ey&&n.locale!=="ko"&&(Di||P!=="onCompositionStart"?P==="onCompositionEnd"&&Di&&(C=Cy()):(xr=u,Yh="value"in xr?xr.value:xr.textContent,Di=!0)),E=Fl(c,P),0<E.length&&(P=new jp(P,t,null,n,u),d.push({event:P,listeners:E}),C?P.data=C:(C=Ty(n),C!==null&&(P.data=C)))),(C=V_?H_(t,n):W_(t,n))&&(c=Fl(c,"onBeforeInput"),0<c.length&&(u=new jp("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}zy(d,e)})}function Bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ao(t,n),s!=null&&r.unshift(Bo(t,s,i)),s=Ao(t,e),s!=null&&r.push(Bo(t,s,i))),t=t.return}return r}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ao(n,s),l!=null&&o.unshift(Bo(n,l,a))):i||(l=Ao(n,s),l!=null&&o.push(Bo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(s1,`
`).replace(o1,"")}function La(t,e,n){if(e=Up(e),Up(t)!==e&&n)throw Error(B(425))}function zl(){}var jd=null,Od=null;function Md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rd=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(t){return Vp.resolve(null).then(t).catch(c1)}:Rd;function c1(t){setTimeout(function(){throw t})}function Eu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Io(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Io(e)}function Tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Sn="__reactFiber$"+ms,Uo="__reactProps$"+ms,Yn="__reactContainer$"+ms,Dd="__reactEvents$"+ms,u1="__reactListeners$"+ms,d1="__reactHandles$"+ms;function ni(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yn]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hp(t);t!==null;){if(n=t[Sn])return n;t=Hp(t)}return e}t=n,n=t.parentNode}return null}function fa(t){return t=t[Sn]||t[Yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Li(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Mc(t){return t[Uo]||null}var Ad=[],Ii=-1;function Fr(t){return{current:t}}function _e(t){0>Ii||(t.current=Ad[Ii],Ad[Ii]=null,Ii--)}function ye(t,e){Ii++,Ad[Ii]=t.current,t.current=e}var Lr={},ut=Fr(Lr),Ct=Fr(!1),ui=Lr;function ns(t,e){var n=t.type.contextTypes;if(!n)return Lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Et(t){return t=t.childContextTypes,t!=null}function Bl(){_e(Ct),_e(ut)}function Wp(t,e,n){if(ut.current!==Lr)throw Error(B(168));ye(ut,e),ye(Ct,n)}function Uy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,Xb(t)||"Unknown",i));return Te({},n,r)}function Ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,ui=ut.current,ye(ut,t),ye(Ct,Ct.current),!0}function qp(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Uy(t,e,ui),r.__reactInternalMemoizedMergedChildContext=t,_e(Ct),_e(ut),ye(ut,t)):_e(Ct),ye(Ct,n)}var zn=null,Rc=!1,Pu=!1;function Vy(t){zn===null?zn=[t]:zn.push(t)}function h1(t){Rc=!0,Vy(t)}function zr(){if(!Pu&&zn!==null){Pu=!0;var t=0,e=fe;try{var n=zn;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zn=null,Rc=!1}catch(i){throw zn!==null&&(zn=zn.slice(t+1)),py(Vh,zr),i}finally{fe=e,Pu=!1}}return null}var $i=[],Fi=0,Vl=null,Hl=0,qt=[],Yt=0,di=null,Un=1,Vn="";function Xr(t,e){$i[Fi++]=Hl,$i[Fi++]=Vl,Vl=t,Hl=e}function Hy(t,e,n){qt[Yt++]=Un,qt[Yt++]=Vn,qt[Yt++]=di,di=t;var r=Un;t=Vn;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Un=1<<32-cn(e)+i|n<<i|r,Vn=s+t}else Un=1<<s|n<<i|r,Vn=t}function Qh(t){t.return!==null&&(Xr(t,1),Hy(t,1,0))}function Zh(t){for(;t===Vl;)Vl=$i[--Fi],$i[Fi]=null,Hl=$i[--Fi],$i[Fi]=null;for(;t===di;)di=qt[--Yt],qt[Yt]=null,Vn=qt[--Yt],qt[Yt]=null,Un=qt[--Yt],qt[Yt]=null}var $t=null,It=null,Se=!1,on=null;function Wy(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Yp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,It=Tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=di!==null?{id:Un,overflow:Vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,It=null,!0):!1;default:return!1}}function Nd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ld(t){if(Se){var e=It;if(e){var n=e;if(!Yp(t,e)){if(Nd(t))throw Error(B(418));e=Tr(n.nextSibling);var r=$t;e&&Yp(t,e)?Wy(r,n):(t.flags=t.flags&-4097|2,Se=!1,$t=t)}}else{if(Nd(t))throw Error(B(418));t.flags=t.flags&-4097|2,Se=!1,$t=t}}}function Kp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Ia(t){if(t!==$t)return!1;if(!Se)return Kp(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Md(t.type,t.memoizedProps)),e&&(e=It)){if(Nd(t))throw qy(),Error(B(418));for(;e;)Wy(t,e),e=Tr(e.nextSibling)}if(Kp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=Tr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=$t?Tr(t.stateNode.nextSibling):null;return!0}function qy(){for(var t=It;t;)t=Tr(t.nextSibling)}function rs(){It=$t=null,Se=!1}function ef(t){on===null?on=[t]:on.push(t)}var f1=Gn.ReactCurrentBatchConfig;function Bs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function $a(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xp(t){var e=t._init;return e(t._payload)}function Yy(t){function e(y,p){if(t){var x=y.deletions;x===null?(y.deletions=[p],y.flags|=16):x.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Rr(y,p),y.index=0,y.sibling=null,y}function s(y,p,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<p?(y.flags|=2,p):x):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,x,_){return p===null||p.tag!==6?(p=Au(x,y.mode,_),p.return=y,p):(p=i(p,x),p.return=y,p)}function l(y,p,x,_){var S=x.type;return S===Ri?u(y,p,x.props.children,_,x.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ur&&Xp(S)===p.type)?(_=i(p,x.props),_.ref=Bs(y,p,x),_.return=y,_):(_=Sl(x.type,x.key,x.props,null,y.mode,_),_.ref=Bs(y,p,x),_.return=y,_)}function c(y,p,x,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=Nu(x,y.mode,_),p.return=y,p):(p=i(p,x.children||[]),p.return=y,p)}function u(y,p,x,_,S){return p===null||p.tag!==7?(p=li(x,y.mode,_,S),p.return=y,p):(p=i(p,x),p.return=y,p)}function d(y,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Au(""+p,y.mode,x),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pa:return x=Sl(p.type,p.key,p.props,null,y.mode,x),x.ref=Bs(y,null,p),x.return=y,x;case Mi:return p=Nu(p,y.mode,x),p.return=y,p;case ur:var _=p._init;return d(y,_(p._payload),x)}if(Zs(p)||Ls(p))return p=li(p,y.mode,x,null),p.return=y,p;$a(y,p)}return null}function h(y,p,x,_){var S=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(y,p,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Pa:return x.key===S?l(y,p,x,_):null;case Mi:return x.key===S?c(y,p,x,_):null;case ur:return S=x._init,h(y,p,S(x._payload),_)}if(Zs(x)||Ls(x))return S!==null?null:u(y,p,x,_,null);$a(y,x)}return null}function f(y,p,x,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(x)||null,a(p,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pa:return y=y.get(_.key===null?x:_.key)||null,l(p,y,_,S);case Mi:return y=y.get(_.key===null?x:_.key)||null,c(p,y,_,S);case ur:var E=_._init;return f(y,p,x,E(_._payload),S)}if(Zs(_)||Ls(_))return y=y.get(x)||null,u(p,y,_,S,null);$a(p,_)}return null}function m(y,p,x,_){for(var S=null,E=null,C=p,P=p=0,$=null;C!==null&&P<x.length;P++){C.index>P?($=C,C=null):$=C.sibling;var D=h(y,C,x[P],_);if(D===null){C===null&&(C=$);break}t&&C&&D.alternate===null&&e(y,C),p=s(D,p,P),E===null?S=D:E.sibling=D,E=D,C=$}if(P===x.length)return n(y,C),Se&&Xr(y,P),S;if(C===null){for(;P<x.length;P++)C=d(y,x[P],_),C!==null&&(p=s(C,p,P),E===null?S=C:E.sibling=C,E=C);return Se&&Xr(y,P),S}for(C=r(y,C);P<x.length;P++)$=f(C,y,P,x[P],_),$!==null&&(t&&$.alternate!==null&&C.delete($.key===null?P:$.key),p=s($,p,P),E===null?S=$:E.sibling=$,E=$);return t&&C.forEach(function(N){return e(y,N)}),Se&&Xr(y,P),S}function v(y,p,x,_){var S=Ls(x);if(typeof S!="function")throw Error(B(150));if(x=S.call(x),x==null)throw Error(B(151));for(var E=S=null,C=p,P=p=0,$=null,D=x.next();C!==null&&!D.done;P++,D=x.next()){C.index>P?($=C,C=null):$=C.sibling;var N=h(y,C,D.value,_);if(N===null){C===null&&(C=$);break}t&&C&&N.alternate===null&&e(y,C),p=s(N,p,P),E===null?S=N:E.sibling=N,E=N,C=$}if(D.done)return n(y,C),Se&&Xr(y,P),S;if(C===null){for(;!D.done;P++,D=x.next())D=d(y,D.value,_),D!==null&&(p=s(D,p,P),E===null?S=D:E.sibling=D,E=D);return Se&&Xr(y,P),S}for(C=r(y,C);!D.done;P++,D=x.next())D=f(C,y,P,D.value,_),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?P:D.key),p=s(D,p,P),E===null?S=D:E.sibling=D,E=D);return t&&C.forEach(function(U){return e(y,U)}),Se&&Xr(y,P),S}function w(y,p,x,_){if(typeof x=="object"&&x!==null&&x.type===Ri&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Pa:e:{for(var S=x.key,E=p;E!==null;){if(E.key===S){if(S=x.type,S===Ri){if(E.tag===7){n(y,E.sibling),p=i(E,x.props.children),p.return=y,y=p;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ur&&Xp(S)===E.type){n(y,E.sibling),p=i(E,x.props),p.ref=Bs(y,E,x),p.return=y,y=p;break e}n(y,E);break}else e(y,E);E=E.sibling}x.type===Ri?(p=li(x.props.children,y.mode,_,x.key),p.return=y,y=p):(_=Sl(x.type,x.key,x.props,null,y.mode,_),_.ref=Bs(y,p,x),_.return=y,y=_)}return o(y);case Mi:e:{for(E=x.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){n(y,p.sibling),p=i(p,x.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Nu(x,y.mode,_),p.return=y,y=p}return o(y);case ur:return E=x._init,w(y,p,E(x._payload),_)}if(Zs(x))return m(y,p,x,_);if(Ls(x))return v(y,p,x,_);$a(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,x),p.return=y,y=p):(n(y,p),p=Au(x,y.mode,_),p.return=y,y=p),o(y)):n(y,p)}return w}var is=Yy(!0),Ky=Yy(!1),Wl=Fr(null),ql=null,zi=null,tf=null;function nf(){tf=zi=ql=null}function rf(t){var e=Wl.current;_e(Wl),t._currentValue=e}function Id(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ki(t,e){ql=t,tf=zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(tf!==t)if(t={context:t,memoizedValue:e,next:null},zi===null){if(ql===null)throw Error(B(308));zi=t,ql.dependencies={lanes:0,firstContext:t}}else zi=zi.next=t;return e}var ri=null;function sf(t){ri===null?ri=[t]:ri.push(t)}function Xy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Kn(t,r)}function Kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dr=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Kn(t,n)}return i=r.interleaved,i===null?(e.next=e,sf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Kn(t,n)}function yl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hh(t,n)}}function Jp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yl(t,e,n,r){var i=t.updateQueue;dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Te({},d,h);break e;case 2:dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);fi|=o,t.lanes=o,t.memoizedState=d}}function Gp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var pa={},En=Fr(pa),Vo=Fr(pa),Ho=Fr(pa);function ii(t){if(t===pa)throw Error(B(174));return t}function af(t,e){switch(ye(Ho,e),ye(Vo,t),ye(En,pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yd(e,t)}_e(En),ye(En,e)}function ss(){_e(En),_e(Vo),_e(Ho)}function Gy(t){ii(Ho.current);var e=ii(En.current),n=yd(e,t.type);e!==n&&(ye(Vo,t),ye(En,n))}function lf(t){Vo.current===t&&(_e(En),_e(Vo))}var Ce=Fr(0);function Kl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Tu=[];function cf(){for(var t=0;t<Tu.length;t++)Tu[t]._workInProgressVersionPrimary=null;Tu.length=0}var vl=Gn.ReactCurrentDispatcher,ju=Gn.ReactCurrentBatchConfig,hi=0,Ee=null,Be=null,Xe=null,Xl=!1,go=!1,Wo=0,p1=0;function it(){throw Error(B(321))}function uf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function df(t,e,n,r,i,s){if(hi=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vl.current=t===null||t.memoizedState===null?v1:x1,t=n(r,i),go){s=0;do{if(go=!1,Wo=0,25<=s)throw Error(B(301));s+=1,Xe=Be=null,e.updateQueue=null,vl.current=w1,t=n(r,i)}while(go)}if(vl.current=Jl,e=Be!==null&&Be.next!==null,hi=0,Xe=Be=Ee=null,Xl=!1,e)throw Error(B(300));return t}function hf(){var t=Wo!==0;return Wo=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ee.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Qt(){if(Be===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=Xe===null?Ee.memoizedState:Xe.next;if(e!==null)Xe=e,Be=t;else{if(t===null)throw Error(B(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Xe===null?Ee.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function qo(t,e){return typeof e=="function"?e(t):e}function Ou(t){var e=Qt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Be,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((hi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ee.lanes|=u,fi|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,dn(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,fi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mu(t){var e=Qt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dn(s,e.memoizedState)||(St=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Qy(){}function Zy(t,e){var n=Ee,r=Qt(),i=e(),s=!dn(r.memoizedState,i);if(s&&(r.memoizedState=i,St=!0),r=r.queue,ff(nv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,Yo(9,tv.bind(null,n,r,i,e),void 0,null),Ge===null)throw Error(B(349));hi&30||ev(n,e,i)}return i}function ev(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tv(t,e,n,r){e.value=n,e.getSnapshot=r,rv(e)&&iv(t)}function nv(t,e,n){return n(function(){rv(e)&&iv(t)})}function rv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function iv(t){var e=Kn(t,1);e!==null&&un(e,t,1,-1)}function Qp(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:t},e.queue=t,t=t.dispatch=y1.bind(null,Ee,t),[e.memoizedState,t]}function Yo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sv(){return Qt().memoizedState}function xl(t,e,n,r){var i=wn();Ee.flags|=t,i.memoizedState=Yo(1|e,n,void 0,r===void 0?null:r)}function Dc(t,e,n,r){var i=Qt();r=r===void 0?null:r;var s=void 0;if(Be!==null){var o=Be.memoizedState;if(s=o.destroy,r!==null&&uf(r,o.deps)){i.memoizedState=Yo(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=Yo(1|e,n,s,r)}function Zp(t,e){return xl(8390656,8,t,e)}function ff(t,e){return Dc(2048,8,t,e)}function ov(t,e){return Dc(4,2,t,e)}function av(t,e){return Dc(4,4,t,e)}function lv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cv(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4,4,lv.bind(null,e,t),n)}function pf(){}function uv(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dv(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hv(t,e,n){return hi&21?(dn(n,e)||(n=yy(),Ee.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function g1(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=ju.transition;ju.transition={};try{t(!1),e()}finally{fe=n,ju.transition=r}}function fv(){return Qt().memoizedState}function m1(t,e,n){var r=Mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pv(t))gv(e,n);else if(n=Xy(t,e,n,r),n!==null){var i=gt();un(n,t,r,i),mv(n,e,r)}}function y1(t,e,n){var r=Mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pv(t))gv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dn(a,o)){var l=e.interleaved;l===null?(i.next=i,sf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Xy(t,e,i,r),n!==null&&(i=gt(),un(n,t,r,i),mv(n,e,r))}}function pv(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function gv(t,e){go=Xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hh(t,n)}}var Jl={readContext:Gt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},v1={readContext:Gt,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:Zp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xl(4194308,4,lv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return xl(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=m1.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:Qp,useDebugValue:pf,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Qp(!1),e=t[0];return t=g1.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=wn();if(Se){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ge===null)throw Error(B(349));hi&30||ev(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Zp(nv.bind(null,r,s,t),[t]),r.flags|=2048,Yo(9,tv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=wn(),e=Ge.identifierPrefix;if(Se){var n=Vn,r=Un;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=p1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x1={readContext:Gt,useCallback:uv,useContext:Gt,useEffect:ff,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:av,useMemo:dv,useReducer:Ou,useRef:sv,useState:function(){return Ou(qo)},useDebugValue:pf,useDeferredValue:function(t){var e=Qt();return hv(e,Be.memoizedState,t)},useTransition:function(){var t=Ou(qo)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:Qy,useSyncExternalStore:Zy,useId:fv,unstable_isNewReconciler:!1},w1={readContext:Gt,useCallback:uv,useContext:Gt,useEffect:ff,useImperativeHandle:cv,useInsertionEffect:ov,useLayoutEffect:av,useMemo:dv,useReducer:Mu,useRef:sv,useState:function(){return Mu(qo)},useDebugValue:pf,useDeferredValue:function(t){var e=Qt();return Be===null?e.memoizedState=t:hv(e,Be.memoizedState,t)},useTransition:function(){var t=Mu(qo)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:Qy,useSyncExternalStore:Zy,useId:fv,unstable_isNewReconciler:!1};function nn(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $d(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ac={isMounted:function(t){return(t=t._reactInternals)?vi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=Mr(t),s=Wn(r,i);s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(un(e,t,i,r),yl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=Mr(t),s=Wn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(un(e,t,i,r),yl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=Mr(t),i=Wn(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(un(e,t,r,n),yl(e,t,r))}};function eg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fo(n,r)||!Fo(i,s):!0}function yv(t,e,n){var r=!1,i=Lr,s=e.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=Et(e)?ui:ut.current,r=e.contextTypes,s=(r=r!=null)?ns(t,i):Lr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ac,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ac.enqueueReplaceState(e,e.state,null)}function Fd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},of(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=Et(e)?ui:ut.current,i.context=ns(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($d(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ac.enqueueReplaceState(i,i.state,null),Yl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function os(t,e){try{var n="",r=e;do n+=Kb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ru(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b1=typeof WeakMap=="function"?WeakMap:Map;function vv(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ql||(Ql=!0,Jd=r),zd(t,e)},n}function xv(t,e,n){n=Wn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zd(t,e),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ng(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=N1.bind(null,t,e,n),e.then(t,t))}function rg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ig(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var _1=Gn.ReactCurrentOwner,St=!1;function ht(t,e,n,r){e.child=t===null?Ky(e,null,n,r):is(e,t.child,n,r)}function sg(t,e,n,r,i){n=n.render;var s=e.ref;return Ki(e,i),r=df(t,e,n,r,s,i),n=hf(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Se&&n&&Qh(e),e.flags|=1,ht(t,e,r,i),e.child)}function og(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!_f(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wv(t,e,s,r,i)):(t=Sl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Fo,n(o,r)&&t.ref===e.ref)return Xn(t,e,i)}return e.flags|=1,t=Rr(s,r),t.ref=e.ref,t.return=e,e.child=t}function wv(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Fo(s,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,Xn(t,e,i)}return Bd(t,e,n,r,i)}function bv(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ui,Nt),Nt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ui,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(Ui,Nt),Nt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(Ui,Nt),Nt|=r;return ht(t,e,i,n),e.child}function _v(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bd(t,e,n,r,i){var s=Et(n)?ui:ut.current;return s=ns(e,s),Ki(e,i),n=df(t,e,n,r,s,i),r=hf(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(Se&&r&&Qh(e),e.flags|=1,ht(t,e,n,i),e.child)}function ag(t,e,n,r,i){if(Et(n)){var s=!0;Ul(e)}else s=!1;if(Ki(e,i),e.stateNode===null)wl(t,e),yv(e,n,r),Fd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Gt(c):(c=Et(n)?ui:ut.current,c=ns(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tg(e,o,r,c),dr=!1;var h=e.memoizedState;o.state=h,Yl(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Ct.current||dr?(typeof u=="function"&&($d(e,n,u,r),l=e.memoizedState),(a=dr||eg(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Jy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:nn(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Et(n)?ui:ut.current,l=ns(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&tg(e,o,r,l),dr=!1,h=e.memoizedState,o.state=h,Yl(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Ct.current||dr?(typeof f=="function"&&($d(e,n,f,r),m=e.memoizedState),(c=dr||eg(e,n,c,r,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ud(t,e,n,r,s,i)}function Ud(t,e,n,r,i,s){_v(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&qp(e,n,!1),Xn(t,e,s);r=e.stateNode,_1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=is(e,t.child,null,s),e.child=is(e,null,a,s)):ht(t,e,a,s),e.memoizedState=r.state,i&&qp(e,n,!0),e.child}function Sv(t){var e=t.stateNode;e.pendingContext?Wp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wp(t,e.context,!1),af(t,e.containerInfo)}function lg(t,e,n,r,i){return rs(),ef(i),e.flags|=256,ht(t,e,n,r),e.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Hd(t){return{baseLanes:t,cachePool:null,transitions:null}}function kv(t,e,n){var r=e.pendingProps,i=Ce.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(Ce,i&1),t===null)return Ld(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ic(o,r,0,null),t=li(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hd(n),e.memoizedState=Vd,t):gf(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return S1(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Rr(a,s):(s=li(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vd,r}return s=t.child,t=s.sibling,r=Rr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gf(t,e){return e=Ic({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fa(t,e,n,r){return r!==null&&ef(r),is(e,t.child,null,n),t=gf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ru(Error(B(422))),Fa(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ic({mode:"visible",children:r.children},i,0,null),s=li(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&is(e,t.child,null,o),e.child.memoizedState=Hd(o),e.memoizedState=Vd,s);if(!(e.mode&1))return Fa(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=Ru(s,r,void 0),Fa(t,e,o,r)}if(a=(o&t.childLanes)!==0,St||a){if(r=Ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Kn(t,i),un(r,t,i,-1))}return bf(),r=Ru(Error(B(421))),Fa(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=L1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,It=Tr(i.nextSibling),$t=e,Se=!0,on=null,t!==null&&(qt[Yt++]=Un,qt[Yt++]=Vn,qt[Yt++]=di,Un=t.id,Vn=t.overflow,di=e),e=gf(e,r.children),e.flags|=4096,e)}function cg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Id(t.return,e,n)}function Du(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Cv(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ht(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,n,e);else if(t.tag===19)cg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Du(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Du(e,!0,n,null,s);break;case"together":Du(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Rr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k1(t,e,n){switch(e.tag){case 3:Sv(e),rs();break;case 5:Gy(e);break;case 1:Et(e.type)&&Ul(e);break;case 4:af(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(Wl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?kv(t,e,n):(ye(Ce,Ce.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cv(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,bv(t,e,n)}return Xn(t,e,n)}var Ev,Wd,Pv,Tv;Ev=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wd=function(){};Pv=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ii(En.current);var s=null;switch(n){case"input":i=fd(t,i),r=fd(t,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=md(t,i),r=md(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zl)}vd(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ro.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Tv=function(t,e,n,r){n!==r&&(e.flags|=4)};function Us(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C1(t,e,n){var r=e.pendingProps;switch(Zh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return Et(e.type)&&Bl(),st(e),null;case 3:return r=e.stateNode,ss(),_e(Ct),_e(ut),cf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Zd(on),on=null))),Wd(t,e),st(e),null;case 5:lf(e);var i=ii(Ho.current);if(n=e.type,t!==null&&e.stateNode!=null)Pv(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return st(e),null}if(t=ii(En.current),Ia(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[Uo]=s,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<to.length;i++)xe(to[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":vp(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":wp(r,s),xe("invalid",r)}vd(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&La(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&La(r.textContent,a,t),i=["children",""+a]):Ro.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Ta(r),xp(r,s,!0);break;case"textarea":Ta(r),bp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ny(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[Uo]=r,Ev(t,e,!1,!1),e.stateNode=t;e:{switch(o=xd(n,r),n){case"dialog":xe("cancel",t),xe("close",t),i=r;break;case"iframe":case"object":case"embed":xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<to.length;i++)xe(to[i],t);i=r;break;case"source":xe("error",t),i=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=r;break;case"details":xe("toggle",t),i=r;break;case"input":vp(t,r),i=fd(t,r),xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),xe("invalid",t);break;case"textarea":wp(t,r),i=md(t,r),xe("invalid",t);break;default:i=r}vd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?sy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ry(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Do(t,l):typeof l=="number"&&Do(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ro.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",t):l!=null&&$h(t,s,l,o))}switch(n){case"input":Ta(t),xp(t,r,!1);break;case"textarea":Ta(t),bp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Hi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)Tv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ii(Ho.current),ii(En.current),Ia(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(s=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:La(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&La(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return st(e),null;case 13:if(_e(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&It!==null&&e.mode&1&&!(e.flags&128))qy(),rs(),e.flags|=98560,s=!1;else if(s=Ia(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Sn]=e}else rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),s=!1}else on!==null&&(Zd(on),on=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?He===0&&(He=3):bf())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return ss(),Wd(t,e),t===null&&zo(e.stateNode.containerInfo),st(e),null;case 10:return rf(e.type._context),st(e),null;case 17:return Et(e.type)&&Bl(),st(e),null;case 19:if(_e(Ce),s=e.memoizedState,s===null)return st(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Us(s,!1);else{if(He!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kl(t),o!==null){for(e.flags|=128,Us(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),e.child}t=t.sibling}s.tail!==null&&De()>as&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304)}else{if(!r)if(t=Kl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return st(e),null}else 2*De()-s.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,Us(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=De(),e.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return wf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function E1(t,e){switch(Zh(e),e.tag){case 1:return Et(e.type)&&Bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ss(),_e(Ct),_e(ut),cf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lf(e),null;case 13:if(_e(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ce),null;case 4:return ss(),null;case 10:return rf(e.type._context),null;case 22:case 23:return wf(),null;case 24:return null;default:return null}}var za=!1,lt=!1,P1=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Bi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function qd(t,e,n){try{n()}catch(r){je(t,e,r)}}var ug=!1;function T1(t,e){if(jd=Il,t=Dy(),Gh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Od={focusedElem:t,selectionRange:n},Il=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,w=m.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:nn(e.type,v),w);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(_){je(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return m=ug,ug=!1,m}function mo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qd(e,n,s)}i=i.next}while(i!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jv(t){var e=t.alternate;e!==null&&(t.alternate=null,jv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[Uo],delete e[Dd],delete e[u1],delete e[d1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ov(t){return t.tag===5||t.tag===3||t.tag===4}function dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ov(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zl));else if(r!==4&&(t=t.child,t!==null))for(Kd(t,e,n),t=t.sibling;t!==null;)Kd(t,e,n),t=t.sibling}function Xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xd(t,e,n),t=t.sibling;t!==null;)Xd(t,e,n),t=t.sibling}var Ze=null,rn=!1;function sr(t,e,n){for(n=n.child;n!==null;)Mv(t,e,n),n=n.sibling}function Mv(t,e,n){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Pc,n)}catch{}switch(n.tag){case 5:lt||Bi(n,e);case 6:var r=Ze,i=rn;Ze=null,sr(t,e,n),Ze=r,rn=i,Ze!==null&&(rn?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(rn?(t=Ze,n=n.stateNode,t.nodeType===8?Eu(t.parentNode,n):t.nodeType===1&&Eu(t,n),Io(t)):Eu(Ze,n.stateNode));break;case 4:r=Ze,i=rn,Ze=n.stateNode.containerInfo,rn=!0,sr(t,e,n),Ze=r,rn=i;break;case 0:case 11:case 14:case 15:if(!lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qd(n,e,o),i=i.next}while(i!==r)}sr(t,e,n);break;case 1:if(!lt&&(Bi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}sr(t,e,n);break;case 21:sr(t,e,n);break;case 22:n.mode&1?(lt=(r=lt)||n.memoizedState!==null,sr(t,e,n),lt=r):sr(t,e,n);break;default:sr(t,e,n)}}function hg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P1),e.forEach(function(r){var i=I1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,rn=!1;break e;case 3:Ze=a.stateNode.containerInfo,rn=!0;break e;case 4:Ze=a.stateNode.containerInfo,rn=!0;break e}a=a.return}if(Ze===null)throw Error(B(160));Mv(s,o,i),Ze=null,rn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){je(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Rv(e,t),e=e.sibling}function Rv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tn(e,t),mn(t),r&4){try{mo(3,t,t.return),Nc(3,t)}catch(v){je(t,t.return,v)}try{mo(5,t,t.return)}catch(v){je(t,t.return,v)}}break;case 1:tn(e,t),mn(t),r&512&&n!==null&&Bi(n,n.return);break;case 5:if(tn(e,t),mn(t),r&512&&n!==null&&Bi(n,n.return),t.flags&32){var i=t.stateNode;try{Do(i,"")}catch(v){je(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ey(i,s),xd(a,o);var c=xd(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?sy(i,d):u==="dangerouslySetInnerHTML"?ry(i,d):u==="children"?Do(i,d):$h(i,u,d,c)}switch(a){case"input":pd(i,s);break;case"textarea":ty(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Hi(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Hi(i,!!s.multiple,s.defaultValue,!0):Hi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Uo]=s}catch(v){je(t,t.return,v)}}break;case 6:if(tn(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){je(t,t.return,v)}}break;case 3:if(tn(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Io(e.containerInfo)}catch(v){je(t,t.return,v)}break;case 4:tn(e,t),mn(t);break;case 13:tn(e,t),mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vf=De())),r&4&&hg(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(lt=(c=lt)||u,tn(e,t),lt=c):tn(e,t),mn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Y=t,u=t.child;u!==null;){for(d=Y=u;Y!==null;){switch(h=Y,f=h.child,h.tag){case 0:case 11:case 14:case 15:mo(4,h,h.return);break;case 1:Bi(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){je(r,n,v)}}break;case 5:Bi(h,h.return);break;case 22:if(h.memoizedState!==null){pg(d);continue}}f!==null?(f.return=h,Y=f):pg(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=iy("display",o))}catch(v){je(t,t.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){je(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tn(e,t),mn(t),r&4&&hg(t);break;case 21:break;default:tn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ov(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Do(i,""),r.flags&=-33);var s=dg(t);Xd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dg(t);Kd(t,a,o);break;default:throw Error(B(161))}}catch(l){je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j1(t,e,n){Y=t,Dv(t)}function Dv(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||za;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||lt;a=za;var c=lt;if(za=o,(lt=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?gg(i):l!==null?(l.return=o,Y=l):gg(i);for(;s!==null;)Y=s,Dv(s),s=s.sibling;Y=i,za=a,lt=c}fg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):fg(t)}}function fg(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:lt||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Gp(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Io(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}lt||e.flags&512&&Yd(e)}catch(h){je(e,e.return,h)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function pg(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function gg(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(l){je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){je(e,i,l)}}var s=e.return;try{Yd(e)}catch(l){je(e,s,l)}break;case 5:var o=e.return;try{Yd(e)}catch(l){je(e,o,l)}}}catch(l){je(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var O1=Math.ceil,Gl=Gn.ReactCurrentDispatcher,mf=Gn.ReactCurrentOwner,Jt=Gn.ReactCurrentBatchConfig,le=0,Ge=null,$e=null,et=0,Nt=0,Ui=Fr(0),He=0,Ko=null,fi=0,Lc=0,yf=0,yo=null,wt=null,vf=0,as=1/0,$n=null,Ql=!1,Jd=null,Or=null,Ba=!1,wr=null,Zl=0,vo=0,Gd=null,bl=-1,_l=0;function gt(){return le&6?De():bl!==-1?bl:bl=De()}function Mr(t){return t.mode&1?le&2&&et!==0?et&-et:f1.transition!==null?(_l===0&&(_l=yy()),_l):(t=fe,t!==0||(t=window.event,t=t===void 0?16:ky(t.type)),t):1}function un(t,e,n,r){if(50<vo)throw vo=0,Gd=null,Error(B(185));da(t,n,r),(!(le&2)||t!==Ge)&&(t===Ge&&(!(le&2)&&(Lc|=n),He===4&&gr(t,et)),Pt(t,r),n===1&&le===0&&!(e.mode&1)&&(as=De()+500,Rc&&zr()))}function Pt(t,e){var n=t.callbackNode;f_(t,e);var r=Ll(t,t===Ge?et:0);if(r===0)n!==null&&kp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kp(n),e===1)t.tag===0?h1(mg.bind(null,t)):Vy(mg.bind(null,t)),l1(function(){!(le&6)&&zr()}),n=null;else{switch(vy(r)){case 1:n=Vh;break;case 4:n=gy;break;case 16:n=Nl;break;case 536870912:n=my;break;default:n=Nl}n=Bv(n,Av.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Av(t,e){if(bl=-1,_l=0,le&6)throw Error(B(327));var n=t.callbackNode;if(Xi()&&t.callbackNode!==n)return null;var r=Ll(t,t===Ge?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ec(t,r);else{e=r;var i=le;le|=2;var s=Lv();(Ge!==t||et!==e)&&($n=null,as=De()+500,ai(t,e));do try{D1();break}catch(a){Nv(t,a)}while(!0);nf(),Gl.current=s,le=i,$e!==null?e=0:(Ge=null,et=0,e=He)}if(e!==0){if(e===2&&(i=kd(t),i!==0&&(r=i,e=Qd(t,i))),e===1)throw n=Ko,ai(t,0),gr(t,r),Pt(t,De()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!M1(i)&&(e=ec(t,r),e===2&&(s=kd(t),s!==0&&(r=s,e=Qd(t,s))),e===1))throw n=Ko,ai(t,0),gr(t,r),Pt(t,De()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Jr(t,wt,$n);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=vf+500-De(),10<e)){if(Ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rd(Jr.bind(null,t,wt,$n),e);break}Jr(t,wt,$n);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*O1(r/1960))-r,10<r){t.timeoutHandle=Rd(Jr.bind(null,t,wt,$n),r);break}Jr(t,wt,$n);break;case 5:Jr(t,wt,$n);break;default:throw Error(B(329))}}}return Pt(t,De()),t.callbackNode===n?Av.bind(null,t):null}function Qd(t,e){var n=yo;return t.current.memoizedState.isDehydrated&&(ai(t,e).flags|=256),t=ec(t,e),t!==2&&(e=wt,wt=n,e!==null&&Zd(e)),t}function Zd(t){wt===null?wt=t:wt.push.apply(wt,t)}function M1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~yf,e&=~Lc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function mg(t){if(le&6)throw Error(B(327));Xi();var e=Ll(t,0);if(!(e&1))return Pt(t,De()),null;var n=ec(t,e);if(t.tag!==0&&n===2){var r=kd(t);r!==0&&(e=r,n=Qd(t,r))}if(n===1)throw n=Ko,ai(t,0),gr(t,e),Pt(t,De()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jr(t,wt,$n),Pt(t,De()),null}function xf(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(as=De()+500,Rc&&zr())}}function pi(t){wr!==null&&wr.tag===0&&!(le&6)&&Xi();var e=le;le|=1;var n=Jt.transition,r=fe;try{if(Jt.transition=null,fe=1,t)return t()}finally{fe=r,Jt.transition=n,le=e,!(le&6)&&zr()}}function wf(){Nt=Ui.current,_e(Ui)}function ai(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a1(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bl();break;case 3:ss(),_e(Ct),_e(ut),cf();break;case 5:lf(r);break;case 4:ss();break;case 13:_e(Ce);break;case 19:_e(Ce);break;case 10:rf(r.type._context);break;case 22:case 23:wf()}n=n.return}if(Ge=t,$e=t=Rr(t.current,null),et=Nt=e,He=0,Ko=null,yf=Lc=fi=0,wt=yo=null,ri!==null){for(e=0;e<ri.length;e++)if(n=ri[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ri=null}return t}function Nv(t,e){do{var n=$e;try{if(nf(),vl.current=Jl,Xl){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xl=!1}if(hi=0,Xe=Be=Ee=null,go=!1,Wo=0,mf.current=null,n===null||n.return===null){He=1,Ko=e,$e=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=rg(o);if(f!==null){f.flags&=-257,ig(f,o,a,s,e),f.mode&1&&ng(s,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){ng(s,c,e),bf();break e}l=Error(B(426))}}else if(Se&&a.mode&1){var w=rg(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ig(w,o,a,s,e),ef(os(l,a));break e}}s=l=os(l,a),He!==4&&(He=2),yo===null?yo=[s]:yo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=vv(s,l,e);Jp(s,y);break e;case 1:a=l;var p=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Or===null||!Or.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=xv(s,a,e);Jp(s,_);break e}}s=s.return}while(s!==null)}$v(n)}catch(S){e=S,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function Lv(){var t=Gl.current;return Gl.current=Jl,t===null?Jl:t}function bf(){(He===0||He===3||He===2)&&(He=4),Ge===null||!(fi&268435455)&&!(Lc&268435455)||gr(Ge,et)}function ec(t,e){var n=le;le|=2;var r=Lv();(Ge!==t||et!==e)&&($n=null,ai(t,e));do try{R1();break}catch(i){Nv(t,i)}while(!0);if(nf(),le=n,Gl.current=r,$e!==null)throw Error(B(261));return Ge=null,et=0,He}function R1(){for(;$e!==null;)Iv($e)}function D1(){for(;$e!==null&&!i_();)Iv($e)}function Iv(t){var e=zv(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?$v(t):$e=e,mf.current=null}function $v(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=E1(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{He=6,$e=null;return}}else if(n=C1(n,e,Nt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);He===0&&(He=5)}function Jr(t,e,n){var r=fe,i=Jt.transition;try{Jt.transition=null,fe=1,A1(t,e,n,r)}finally{Jt.transition=i,fe=r}return null}function A1(t,e,n,r){do Xi();while(wr!==null);if(le&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(p_(t,s),t===Ge&&($e=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ba||(Ba=!0,Bv(Nl,function(){return Xi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var o=fe;fe=1;var a=le;le|=4,mf.current=null,T1(t,n),Rv(n,t),e1(Od),Il=!!jd,Od=jd=null,t.current=n,j1(n),s_(),le=a,fe=o,Jt.transition=s}else t.current=n;if(Ba&&(Ba=!1,wr=t,Zl=i),s=t.pendingLanes,s===0&&(Or=null),l_(n.stateNode),Pt(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,t=Jd,Jd=null,t;return Zl&1&&t.tag!==0&&Xi(),s=t.pendingLanes,s&1?t===Gd?vo++:(vo=0,Gd=t):vo=0,zr(),null}function Xi(){if(wr!==null){var t=vy(Zl),e=Jt.transition,n=fe;try{if(Jt.transition=null,fe=16>t?16:t,wr===null)var r=!1;else{if(t=wr,wr=null,Zl=0,le&6)throw Error(B(331));var i=le;for(le|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var u=Y;switch(u.tag){case 0:case 11:case 15:mo(8,u,s)}var d=u.child;if(d!==null)d.return=u,Y=d;else for(;Y!==null;){u=Y;var h=u.sibling,f=u.return;if(jv(u),u===c){Y=null;break}if(h!==null){h.return=f,Y=h;break}Y=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mo(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Y=y;break e}Y=s.return}}var p=t.current;for(Y=p;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=p;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Nc(9,a)}}catch(S){je(a,a.return,S)}if(a===o){Y=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Y=_;break e}Y=a.return}}if(le=i,zr(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Pc,t)}catch{}r=!0}return r}finally{fe=n,Jt.transition=e}}return!1}function yg(t,e,n){e=os(n,e),e=vv(t,e,1),t=jr(t,e,1),e=gt(),t!==null&&(da(t,1,e),Pt(t,e))}function je(t,e,n){if(t.tag===3)yg(t,t,n);else for(;e!==null;){if(e.tag===3){yg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))){t=os(n,t),t=xv(e,t,1),e=jr(e,t,1),t=gt(),e!==null&&(da(e,1,t),Pt(e,t));break}}e=e.return}}function N1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(et&n)===n&&(He===4||He===3&&(et&130023424)===et&&500>De()-vf?ai(t,0):yf|=n),Pt(t,e)}function Fv(t,e){e===0&&(t.mode&1?(e=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):e=1);var n=gt();t=Kn(t,e),t!==null&&(da(t,e,n),Pt(t,n))}function L1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fv(t,n)}function I1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Fv(t,n)}var zv;zv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,k1(t,e,n);St=!!(t.flags&131072)}else St=!1,Se&&e.flags&1048576&&Hy(e,Hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wl(t,e),t=e.pendingProps;var i=ns(e,ut.current);Ki(e,n),i=df(null,e,r,t,i,n);var s=hf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Et(r)?(s=!0,Ul(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,of(e),i.updater=Ac,e.stateNode=i,i._reactInternals=e,Fd(e,r,t,n),e=Ud(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&Qh(e),ht(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=F1(r),t=nn(r,t),i){case 0:e=Bd(null,e,r,t,n);break e;case 1:e=ag(null,e,r,t,n);break e;case 11:e=sg(null,e,r,t,n);break e;case 14:e=og(null,e,r,nn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Bd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),ag(t,e,r,i,n);case 3:e:{if(Sv(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Jy(t,e),Yl(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=os(Error(B(423)),e),e=lg(t,e,r,n,i);break e}else if(r!==i){i=os(Error(B(424)),e),e=lg(t,e,r,n,i);break e}else for(It=Tr(e.stateNode.containerInfo.firstChild),$t=e,Se=!0,on=null,n=Ky(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),r===i){e=Xn(t,e,n);break e}ht(t,e,r,n)}e=e.child}return e;case 5:return Gy(e),t===null&&Ld(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Md(r,i)?o=null:s!==null&&Md(r,s)&&(e.flags|=32),_v(t,e),ht(t,e,o,n),e.child;case 6:return t===null&&Ld(e),null;case 13:return kv(t,e,n);case 4:return af(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=is(e,null,r,n):ht(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),sg(t,e,r,i,n);case 7:return ht(t,e,e.pendingProps,n),e.child;case 8:return ht(t,e,e.pendingProps.children,n),e.child;case 12:return ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(Wl,r._currentValue),r._currentValue=o,s!==null)if(dn(s.value,o)){if(s.children===i.children&&!Ct.current){e=Xn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Id(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Id(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ht(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ki(e,n),i=Gt(i),r=r(i),e.flags|=1,ht(t,e,r,n),e.child;case 14:return r=e.type,i=nn(r,e.pendingProps),i=nn(r.type,i),og(t,e,r,i,n);case 15:return wv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),wl(t,e),e.tag=1,Et(r)?(t=!0,Ul(e)):t=!1,Ki(e,n),yv(e,r,i),Fd(e,r,i,n),Ud(null,e,r,!0,t,n);case 19:return Cv(t,e,n);case 22:return bv(t,e,n)}throw Error(B(156,e.tag))};function Bv(t,e){return py(t,e)}function $1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new $1(t,e,n,r)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F1(t){if(typeof t=="function")return _f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zh)return 11;if(t===Bh)return 14}return 2}function Rr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")_f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ri:return li(n.children,i,s,e);case Fh:o=8,i|=8;break;case cd:return t=Kt(12,n,e,i|2),t.elementType=cd,t.lanes=s,t;case ud:return t=Kt(13,n,e,i),t.elementType=ud,t.lanes=s,t;case dd:return t=Kt(19,n,e,i),t.elementType=dd,t.lanes=s,t;case G0:return Ic(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X0:o=10;break e;case J0:o=9;break e;case zh:o=11;break e;case Bh:o=14;break e;case ur:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function li(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Ic(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=G0,t.lanes=n,t.stateNode={isHidden:!1},t}function Au(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Nu(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function z1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sf(t,e,n,r,i,s,o,a,l){return t=new z1(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(s),t}function B1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Uv(t){if(!t)return Lr;t=t._reactInternals;e:{if(vi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Et(n))return Uy(t,n,e)}return e}function Vv(t,e,n,r,i,s,o,a,l){return t=Sf(n,r,!0,t,i,s,o,a,l),t.context=Uv(null),n=t.current,r=gt(),i=Mr(n),s=Wn(r,i),s.callback=e??null,jr(n,s,i),t.current.lanes=i,da(t,i,r),Pt(t,r),t}function $c(t,e,n,r){var i=e.current,s=gt(),o=Mr(i);return n=Uv(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,o),t!==null&&(un(t,i,o,s),yl(t,i,o)),o}function tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kf(t,e){vg(t,e),(t=t.alternate)&&vg(t,e)}function U1(){return null}var Hv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cf(t){this._internalRoot=t}Fc.prototype.render=Cf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));$c(t,e,null,null)};Fc.prototype.unmount=Cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pi(function(){$c(null,t,null,null)}),e[Yn]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=by();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pr.length&&e!==0&&e<pr[n].priority;n++);pr.splice(n,0,t),n===0&&Sy(t)}};function Ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xg(){}function V1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=tc(o);s.call(c)}}var o=Vv(e,r,t,0,null,!1,!1,"",xg);return t._reactRootContainer=o,t[Yn]=o.current,zo(t.nodeType===8?t.parentNode:t),pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=tc(l);a.call(c)}}var l=Sf(t,0,!1,null,null,!1,!1,"",xg);return t._reactRootContainer=l,t[Yn]=l.current,zo(t.nodeType===8?t.parentNode:t),pi(function(){$c(e,l,n,r)}),l}function Bc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=tc(o);a.call(l)}}$c(e,o,t,i)}else o=V1(n,e,t,i,r);return tc(o)}xy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eo(e.pendingLanes);n!==0&&(Hh(e,n|1),Pt(e,De()),!(le&6)&&(as=De()+500,zr()))}break;case 13:pi(function(){var r=Kn(t,1);if(r!==null){var i=gt();un(r,t,1,i)}}),kf(t,1)}};Wh=function(t){if(t.tag===13){var e=Kn(t,134217728);if(e!==null){var n=gt();un(e,t,134217728,n)}kf(t,134217728)}};wy=function(t){if(t.tag===13){var e=Mr(t),n=Kn(t,e);if(n!==null){var r=gt();un(n,t,e,r)}kf(t,e)}};by=function(){return fe};_y=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};bd=function(t,e,n){switch(e){case"input":if(pd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Mc(r);if(!i)throw Error(B(90));Z0(r),pd(r,i)}}}break;case"textarea":ty(t,n);break;case"select":e=n.value,e!=null&&Hi(t,!!n.multiple,e,!1)}};ly=xf;cy=pi;var H1={usingClientEntryPoint:!1,Events:[fa,Li,Mc,oy,ay,xf]},Vs={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W1={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hy(t),t===null?null:t.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||U1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{Pc=Ua.inject(W1),Cn=Ua}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ef(e))throw Error(B(200));return B1(t,e,null,n)};zt.createRoot=function(t,e){if(!Ef(t))throw Error(B(299));var n=!1,r="",i=Hv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sf(t,1,!1,null,null,n,!1,r,i),t[Yn]=e.current,zo(t.nodeType===8?t.parentNode:t),new Cf(e)};zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=hy(e),t=t===null?null:t.stateNode,t};zt.flushSync=function(t){return pi(t)};zt.hydrate=function(t,e,n){if(!zc(e))throw Error(B(200));return Bc(null,t,e,!0,n)};zt.hydrateRoot=function(t,e,n){if(!Ef(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Hv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Vv(e,null,t,1,n??null,i,!1,s,o),t[Yn]=e.current,zo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fc(e)};zt.render=function(t,e,n){if(!zc(e))throw Error(B(200));return Bc(null,t,e,!1,n)};zt.unmountComponentAtNode=function(t){if(!zc(t))throw Error(B(40));return t._reactRootContainer?(pi(function(){Bc(null,null,t,!1,function(){t._reactRootContainer=null,t[Yn]=null})}),!0):!1};zt.unstable_batchedUpdates=xf;zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Bc(t,e,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function Wv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wv)}catch(t){console.error(t)}}Wv(),W0.exports=zt;var Vi=W0.exports,qv,wg=Vi;qv=wg.createRoot,wg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}var br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(br||(br={}));const bg="popstate";function q1(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return eh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:nc(i)}return K1(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Y1(){return Math.random().toString(36).substr(2,8)}function _g(t,e){return{usr:t.state,key:t.key,idx:e}}function eh(t,e,n,r){return n===void 0&&(n=null),Xo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ys(e):e,{state:n,key:e&&e.key||r||Y1()})}function nc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function K1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=br.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xo({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=br.Pop;let w=u(),y=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:y})}function h(w,y){a=br.Push;let p=eh(v.location,w,y);c=u()+1;let x=_g(p,c),_=v.createHref(p);try{o.pushState(x,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}s&&l&&l({action:a,location:v.location,delta:1})}function f(w,y){a=br.Replace;let p=eh(v.location,w,y);c=u();let x=_g(p,c),_=v.createHref(p);o.replaceState(x,"",_),s&&l&&l({action:a,location:v.location,delta:0})}function m(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:nc(w);return p=p.replace(/ $/,"%20"),Pe(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bg,d),l=w,()=>{i.removeEventListener(bg,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let y=m(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(w){return o.go(w)}};return v}var Sg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Sg||(Sg={}));function X1(t,e,n){return n===void 0&&(n="/"),J1(t,e,n,!1)}function J1(t,e,n,r){let i=typeof e=="string"?ys(e):e,s=ls(i.pathname||"/",n);if(s==null)return null;let o=Kv(t);G1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=lS(s);a=oS(o[l],c,r)}return a}function Kv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Dr([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Kv(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:iS(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Xv(s.path))i(s,o,l)}),e}function Xv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Xv(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function G1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Q1=/^:[\w-]+$/,Z1=3,eS=2,tS=1,nS=10,rS=-2,kg=t=>t==="*";function iS(t,e){let n=t.split("/"),r=n.length;return n.some(kg)&&(r+=rS),e&&(r+=eS),n.filter(i=>!kg(i)).reduce((i,s)=>i+(Q1.test(s)?Z1:s===""?tS:nS),r)}function sS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oS(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=rc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=rc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Dr([s,d.pathname]),pathnameBase:hS(Dr([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Dr([s,d.pathnameBase]))}return o}function rc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function aS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function lS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ys(t):t;return{pathname:n?n.startsWith("/")?n:uS(n,e):e,search:fS(r),hash:pS(i)}}function uS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Lu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pf(t,e){let n=dS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ys(t):(i=Xo({},t),Pe(!i.pathname||!i.pathname.includes("?"),Lu("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),Lu("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),Lu("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=cS(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Dr=t=>t.join("/").replace(/\/\/+/g,"/"),hS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jv=["post","put","patch","delete"];new Set(Jv);const mS=["get",...Jv];new Set(mS);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}const Uc=b.createContext(null),Gv=b.createContext(null),Qn=b.createContext(null),Vc=b.createContext(null),Zn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Qv=b.createContext(null);function yS(t,e){let{relative:n}=e===void 0?{}:e;vs()||Pe(!1);let{basename:r,navigator:i}=b.useContext(Qn),{hash:s,pathname:o,search:a}=Hc(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Dr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function vs(){return b.useContext(Vc)!=null}function xs(){return vs()||Pe(!1),b.useContext(Vc).location}function Zv(t){b.useContext(Qn).static||b.useLayoutEffect(t)}function jf(){let{isDataRoute:t}=b.useContext(Zn);return t?RS():vS()}function vS(){vs()||Pe(!1);let t=b.useContext(Uc),{basename:e,future:n,navigator:r}=b.useContext(Qn),{matches:i}=b.useContext(Zn),{pathname:s}=xs(),o=JSON.stringify(Pf(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return Zv(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Tf(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Dr([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const xS=b.createContext(null);function wS(t){let e=b.useContext(Zn).outlet;return e&&b.createElement(xS.Provider,{value:t},e)}function Hc(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Qn),{matches:i}=b.useContext(Zn),{pathname:s}=xs(),o=JSON.stringify(Pf(i,r.v7_relativeSplatPath));return b.useMemo(()=>Tf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function bS(t,e){return _S(t,e)}function _S(t,e,n,r){vs()||Pe(!1);let{navigator:i,static:s}=b.useContext(Qn),{matches:o}=b.useContext(Zn),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=xs(),d;if(e){var h;let y=typeof e=="string"?ys(e):e;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Pe(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=!s&&n&&n.matches&&n.matches.length>0?n.matches:X1(t,{pathname:m}),w=PS(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Dr([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Dr([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&w?b.createElement(Vc.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:br.Pop}},w):w}function SS(){let t=MS(),e=gS(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const kS=b.createElement(SS,null);class CS extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Zn.Provider,{value:this.props.routeContext},b.createElement(Qv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ES(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(Uc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Zn.Provider,{value:e},r)}function PS(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Pe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,m=!1,v=null,w=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||kS,l&&(c<0&&h===0?(m=!0,w=null):c===h&&(m=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),p=()=>{let x;return f?x=v:m?x=w:d.route.Component?x=b.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,b.createElement(ES,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?b.createElement(CS,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var ex=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ex||{}),ic=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ic||{});function TS(t){let e=b.useContext(Uc);return e||Pe(!1),e}function jS(t){let e=b.useContext(Gv);return e||Pe(!1),e}function OS(t){let e=b.useContext(Zn);return e||Pe(!1),e}function tx(t){let e=OS(),n=e.matches[e.matches.length-1];return n.route.id||Pe(!1),n.route.id}function MS(){var t;let e=b.useContext(Qv),n=jS(ic.UseRouteError),r=tx(ic.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RS(){let{router:t}=TS(ex.UseNavigateStable),e=tx(ic.UseNavigateStable),n=b.useRef(!1);return Zv(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jo({fromRouteId:e},s)))},[t,e])}function DS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ei(t){let{to:e,replace:n,state:r,relative:i}=t;vs()||Pe(!1);let{future:s,static:o}=b.useContext(Qn),{matches:a}=b.useContext(Zn),{pathname:l}=xs(),c=jf(),u=Tf(e,Pf(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return b.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Cg(t){return wS(t.context)}function Nn(t){Pe(!1)}function AS(t){let{basename:e="/",children:n=null,location:r,navigationType:i=br.Pop,navigator:s,static:o=!1,future:a}=t;vs()&&Pe(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:Jo({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ys(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,v=b.useMemo(()=>{let w=ls(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:m},navigationType:i}},[l,u,d,h,f,m,i]);return v==null?null:b.createElement(Qn.Provider,{value:c},b.createElement(Vc.Provider,{children:n,value:v}))}function NS(t){let{children:e,location:n}=t;return bS(th(e),n)}new Promise(()=>{});function th(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,th(r.props.children,s));return}r.type!==Nn&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=th(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}function nx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IS(t,e){return t.button===0&&(!e||e==="_self")&&!LS(t)}const $S=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FS=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zS="6";try{window.__reactRouterVersion=zS}catch{}const BS=b.createContext({isTransitioning:!1}),US="startTransition",Eg=Nb[US];function rx(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=q1({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=b.useCallback(d=>{c&&Eg?Eg(()=>l(d)):l(d)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.useEffect(()=>DS(r),[r]),b.createElement(AS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const VS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ix=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=nx(e,$S),{basename:f}=b.useContext(Qn),m,v=!1;if(typeof c=="string"&&HS.test(c)&&(m=c,VS))try{let x=new URL(window.location.href),_=c.startsWith("//")?new URL(x.protocol+c):new URL(c),S=ls(_.pathname,f);_.origin===x.origin&&S!=null?c=S+_.search+_.hash:v=!0}catch{}let w=yS(c,{relative:i}),y=qS(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function p(x){r&&r(x),x.defaultPrevented||y(x)}return b.createElement("a",sc({},h,{href:m||w,onClick:v||s?r:p,ref:n,target:l}))}),Hr=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=nx(e,FS),h=Hc(l,{relative:d.relative}),f=xs(),m=b.useContext(Gv),{navigator:v,basename:w}=b.useContext(Qn),y=m!=null&&YS(h)&&c===!0,p=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,x=f.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),_=_?_.toLowerCase():null,p=p.toLowerCase()),_&&w&&(_=ls(_,w)||_);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let E=x===p||!o&&x.startsWith(p)&&x.charAt(S)==="/",C=_!=null&&(_===p||!o&&_.startsWith(p)&&_.charAt(p.length)==="/"),P={isActive:E,isPending:C,isTransitioning:y},$=E?r:void 0,D;typeof s=="function"?D=s(P):D=[s,E?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(P):a;return b.createElement(ix,sc({},d,{"aria-current":$,className:D,ref:n,style:N,to:l,viewTransition:c}),typeof u=="function"?u(P):u)});var nh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nh||(nh={}));var Pg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pg||(Pg={}));function WS(t){let e=b.useContext(Uc);return e||Pe(!1),e}function qS(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=jf(),c=xs(),u=Hc(t,{relative:o});return b.useCallback(d=>{if(IS(d,n)){d.preventDefault();let h=r!==void 0?r:nc(c)===nc(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function YS(t,e){e===void 0&&(e={});let n=b.useContext(BS);n==null&&Pe(!1);let{basename:r}=WS(nh.useViewTransitionState),i=Hc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ls(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ls(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rc(i.pathname,o)!=null||rc(i.pathname,s)!=null}let KS={data:""},XS=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||KS,JS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,GS=/\/\*[^]*?\*\/|  +/g,Tg=/\n+/g,mr=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?mr(o,s):s+"{"+mr(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=mr(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=mr.p?mr.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Rn={},sx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+sx(t[n]);return e}return t},QS=(t,e,n,r,i)=>{let s=sx(t),o=Rn[s]||(Rn[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!Rn[o]){let l=s!==t?t:(c=>{let u,d,h=[{}];for(;u=JS.exec(c.replace(GS,""));)u[4]?h.shift():u[3]?(d=u[3].replace(Tg," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(Tg," ").trim();return h[0]})(t);Rn[o]=mr(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Rn.g?Rn.g:null;return n&&(Rn.g=Rn[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Rn[o],e,r,a),o},ZS=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":mr(a,""):a===!1?"":a}return r+i+(o??"")},"");function Wc(t){let e=this||{},n=t.call?t(e.p):t;return QS(n.unshift?n.raw?ZS(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,XS(e.target),e.g,e.o,e.k)}let ox,rh,ih;Wc.bind({g:1});let Jn=Wc.bind({k:1});function ek(t,e,n,r){mr.p=e,ox=t,rh=n,ih=r}function Br(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:rh&&rh()},a),n.o=/ *go\d+/.test(l),a.className=Wc.apply(n,r)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),ih&&c[0]&&ih(a),ox(c,a)}return i}}var tk=t=>typeof t=="function",oc=(t,e)=>tk(t)?t(e):t,nk=(()=>{let t=0;return()=>(++t).toString()})(),ax=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rk=20,lx=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rk)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return lx(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},kl=[],si={toasts:[],pausedAt:void 0},xi=t=>{si=lx(si,t),kl.forEach(e=>{e(si)})},ik={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sk=(t={})=>{let[e,n]=b.useState(si),r=b.useRef(si);b.useEffect(()=>(r.current!==si&&n(si),kl.push(n),()=>{let s=kl.indexOf(n);s>-1&&kl.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||ik[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},ok=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||nk()}),ga=t=>(e,n)=>{let r=ok(e,t,n);return xi({type:2,toast:r}),r.id},pt=(t,e)=>ga("blank")(t,e);pt.error=ga("error");pt.success=ga("success");pt.loading=ga("loading");pt.custom=ga("custom");pt.dismiss=t=>{xi({type:3,toastId:t})};pt.remove=t=>xi({type:4,toastId:t});pt.promise=(t,e,n)=>{let r=pt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?oc(e.success,i):void 0;return s?pt.success(s,{id:r,...n,...n==null?void 0:n.success}):pt.dismiss(r),i}).catch(i=>{let s=e.error?oc(e.error,i):void 0;s?pt.error(s,{id:r,...n,...n==null?void 0:n.error}):pt.dismiss(r)}),t};var ak=(t,e)=>{xi({type:1,toast:{id:t,height:e}})},lk=()=>{xi({type:5,time:Date.now()})},xo=new Map,ck=1e3,uk=(t,e=ck)=>{if(xo.has(t))return;let n=setTimeout(()=>{xo.delete(t),xi({type:4,toastId:t})},e);xo.set(t,n)},dk=t=>{let{toasts:e,pausedAt:n}=sk(t);b.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&pt.dismiss(a.id);return}return setTimeout(()=>pt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=b.useCallback(()=>{n&&xi({type:6,time:Date.now()})},[n]),i=b.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(f=>(f.position||c)===(s.position||c)&&f.height),d=u.findIndex(f=>f.id===s.id),h=u.filter((f,m)=>m<d&&f.visible).length;return u.filter(f=>f.visible).slice(...a?[h+1]:[0,h]).reduce((f,m)=>f+(m.height||0)+l,0)},[e]);return b.useEffect(()=>{e.forEach(s=>{if(s.dismissed)uk(s.id,s.removeDelay);else{let o=xo.get(s.id);o&&(clearTimeout(o),xo.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:ak,startPause:lk,endPause:r,calculateOffset:i}}},hk=Jn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fk=Jn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pk=Jn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gk=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${hk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mk=Jn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yk=Br("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${mk} 1s linear infinite;
`,vk=Jn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xk=Jn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wk=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bk=Br("div")`
  position: absolute;
`,_k=Br("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Sk=Jn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,kk=Br("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Sk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ck=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?b.createElement(kk,null,e):e:n==="blank"?null:b.createElement(_k,null,b.createElement(yk,{...r}),n!=="loading"&&b.createElement(bk,null,n==="error"?b.createElement(gk,{...r}):b.createElement(wk,{...r})))},Ek=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Pk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Tk="0%{opacity:0;} 100%{opacity:1;}",jk="0%{opacity:1;} 100%{opacity:0;}",Ok=Br("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Mk=Br("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Rk=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=ax()?[Tk,jk]:[Ek(n),Pk(n)];return{animation:e?`${Jn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Dk=b.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Rk(t.position||e||"top-center",t.visible):{opacity:0},s=b.createElement(Ck,{toast:t}),o=b.createElement(Mk,{...t.ariaProps},oc(t.message,t));return b.createElement(Ok,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):b.createElement(b.Fragment,null,s,o))});ek(b.createElement);var Ak=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=b.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return b.createElement("div",{ref:s,className:e,style:n},i)},Nk=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ax()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Lk=Wc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Va=16,Ik=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=dk(n);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Va,left:Va,right:Va,bottom:Va,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=Nk(u,d);return b.createElement(Ak,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Lk:"",style:h},c.type==="custom"?oc(c.message,c):i?i(c):b.createElement(Dk,{toast:c,position:u}))}))},Lt=pt;const $k={BASE_URL:"/farmacia_ia_v10/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpc25vemd3bnd1dmhkZ3lwcmJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwMzI5MDksImV4cCI6MjA1ODYwODkwOX0.MRxLwNrkGyCTeW2Nlj8B8pFZPWrLyLI-QqujJiezPoE",VITE_SUPABASE_URL:"https://bisnozgwnwuvhdgyprbm.supabase.co"},jg=t=>{let e;const n=new Set,r=(u,d)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const f=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,f))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{($k?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},Fk=t=>t?jg(t):jg;var cx={exports:{}},ux={},dx={exports:{}},hx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=b;function zk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bk=typeof Object.is=="function"?Object.is:zk,Uk=cs.useState,Vk=cs.useEffect,Hk=cs.useLayoutEffect,Wk=cs.useDebugValue;function qk(t,e){var n=e(),r=Uk({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Hk(function(){i.value=n,i.getSnapshot=e,Iu(i)&&s({inst:i})},[t,n,e]),Vk(function(){return Iu(i)&&s({inst:i}),t(function(){Iu(i)&&s({inst:i})})},[t]),Wk(n),n}function Iu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bk(t,n)}catch{return!0}}function Yk(t,e){return e()}var Kk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yk:qk;hx.useSyncExternalStore=cs.useSyncExternalStore!==void 0?cs.useSyncExternalStore:Kk;dx.exports=hx;var Xk=dx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=b,Jk=Xk;function Gk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qk=typeof Object.is=="function"?Object.is:Gk,Zk=Jk.useSyncExternalStore,e2=qc.useRef,t2=qc.useEffect,n2=qc.useMemo,r2=qc.useDebugValue;ux.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=e2(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=n2(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),i!==void 0&&o.hasValue){var m=o.value;if(i(m,f))return d=m}return d=f}if(m=d,Qk(u,f))return m;var v=r(f);return i!==void 0&&i(m,v)?(u=f,m):(u=f,d=v)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=Zk(t,s[0],s[1]);return t2(function(){o.hasValue=!0,o.value=a},[a]),r2(a),a};cx.exports=ux;var i2=cx.exports;const s2=Cc(i2),fx={BASE_URL:"/farmacia_ia_v10/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpc25vemd3bnd1dmhkZ3lwcmJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwMzI5MDksImV4cCI6MjA1ODYwODkwOX0.MRxLwNrkGyCTeW2Nlj8B8pFZPWrLyLI-QqujJiezPoE",VITE_SUPABASE_URL:"https://bisnozgwnwuvhdgyprbm.supabase.co"},{useDebugValue:o2}=de,{useSyncExternalStoreWithSelector:a2}=s2;let Og=!1;const l2=t=>t;function c2(t,e=l2,n){(fx?"production":void 0)!=="production"&&n&&!Og&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Og=!0);const r=a2(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return o2(r),r}const Mg=t=>{(fx?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Fk(t):t,n=(r,i)=>c2(e,r,i);return Object.assign(n,e),n},px=t=>t?Mg(t):Mg,u2="modulepreload",d2=function(t){return"/farmacia_ia_v10/"+t},Rg={},us=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=d2(l),l in Rg)return;Rg[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":u2,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},h2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>us(async()=>{const{default:r}=await Promise.resolve().then(()=>ws);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Of extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class f2 extends Of{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p2 extends Of{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g2 extends Of{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sh||(sh={}));var m2=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class y2{constructor(e,{headers:n={},customFetch:r,region:i=sh.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=h2(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return m2(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new f2(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new p2(u);if(!u.ok)throw new g2(u);let h=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}}var bt={},Mf={},Yc={},ma={},Kc={},Xc={},v2=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ds=v2();const x2=ds.fetch,gx=ds.fetch.bind(ds),mx=ds.Headers,w2=ds.Request,b2=ds.Response,ws=Object.freeze(Object.defineProperty({__proto__:null,Headers:mx,Request:w2,Response:b2,default:gx,fetch:x2},Symbol.toStringTag,{value:"Module"})),_2=xb(ws);var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});let S2=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Jc.default=S2;var yx=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xc,"__esModule",{value:!0});const k2=yx(_2),C2=yx(Jc);let E2=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=k2.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await s.text();try{c=JSON.parse(v),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,f="OK")}catch{s.status===404&&v===""?(h=204,f="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new C2.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};Xc.default=E2;var P2=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kc,"__esModule",{value:!0});const T2=P2(Xc);let j2=class extends T2.default{select(e){let n=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kc.default=j2;var O2=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ma,"__esModule",{value:!0});const M2=O2(Kc);let R2=class extends M2.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ma.default=R2;var D2=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yc,"__esModule",{value:!0});const Hs=D2(ma);let A2=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Hs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yc.default=A2;var Gc={},Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.version=void 0;Qc.version="0.0.0-automated";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.DEFAULT_HEADERS=void 0;const N2=Qc;Gc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${N2.version}`};var vx=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mf,"__esModule",{value:!0});const L2=vx(Yc),I2=vx(ma),$2=Gc;let F2=class xx{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},$2.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new L2.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xx(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new I2.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Mf.default=F2;var bs=Tt&&Tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bt,"__esModule",{value:!0});bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const wx=bs(Mf);bt.PostgrestClient=wx.default;const bx=bs(Yc);bt.PostgrestQueryBuilder=bx.default;const _x=bs(ma);bt.PostgrestFilterBuilder=_x.default;const Sx=bs(Kc);bt.PostgrestTransformBuilder=Sx.default;const kx=bs(Xc);bt.PostgrestBuilder=kx.default;const Cx=bs(Jc);bt.PostgrestError=Cx.default;var z2=bt.default={PostgrestClient:wx.default,PostgrestQueryBuilder:bx.default,PostgrestFilterBuilder:_x.default,PostgrestTransformBuilder:Sx.default,PostgrestBuilder:kx.default,PostgrestError:Cx.default};const{PostgrestClient:B2,PostgrestQueryBuilder:GD,PostgrestFilterBuilder:QD,PostgrestTransformBuilder:ZD,PostgrestBuilder:eA,PostgrestError:tA}=z2,U2="2.11.2",V2={"X-Client-Info":`realtime-js/${U2}`},H2="1.0.0",Ex=1e4,W2=1e3;var Ji;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ji||(Ji={}));var At;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(At||(At={}));var sn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(sn||(sn={}));var oh;(function(t){t.websocket="websocket"})(oh||(oh={}));var ti;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ti||(ti={}));class q2{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Px{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(me||(me={}));const Dg=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=Y2(o,t,e,i),s),{})},Y2=(t,e,n,r)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=n[t];return s&&!r.includes(s)?Tx(s,o):ah(o)},Tx=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return G2(e,n)}switch(t){case me.bool:return K2(e);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return X2(e);case me.json:case me.jsonb:return J2(e);case me.timestamp:return Q2(e);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return ah(e);default:return ah(e)}},ah=t=>t,K2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},X2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},J2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},G2=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Tx(e,a))}return t},Q2=t=>typeof t=="string"?t.replace(" ","T"):t,jx=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $u{constructor(e,n,r={},i=Ex){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ag;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ag||(Ag={}));class wo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wo.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=wo.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wo.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(w=>w.presence_ref),f=d.map(w=>w.presence_ref),m=u.filter(w=>f.indexOf(w.presence_ref)<0),v=d.filter(w=>h.indexOf(w.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ng;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ng||(Ng={}));var Lg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Lg||(Lg={}));var Fn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fn||(Fn={}));class Rf{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $u(this,sn.join,this.params,this.timeout),this.rejoinTimer=new Px(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new wo(this),this.broadcastEndpointURL=jx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Fn.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Fn.CLOSED));const l={},c={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(Fn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let v=0;v<f;v++){const w=h[v],{filter:{event:y,schema:p,table:x,filter:_}}=w,S=u&&u[v];if(S&&S.event===y&&S.schema===p&&S.table===x&&S.filter===_)m.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),e==null||e(Fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Fn.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=At.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new $u(this,sn.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $u(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=sn;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,v,w;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(v=f.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(f=>f.callback(h,r)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var m,v,w,y,p,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,S=(m=f.filter)===null||m===void 0?void 0:m.event;return _&&((v=n.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(p=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:w,commit_timestamp:y,type:p,errors:x}=m;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Rf.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(sn.close,{},e)}_onError(e){this._on(sn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Dg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Dg(e.columns,e.old_record)),n}}const Z2=()=>{},eC=typeof WebSocket<"u",tC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nC{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=V2,this.params={},this.timeout=Ex,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Z2,this.conn=null,this.sendBuffer=[],this.serializer=new q2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>us(async()=>{const{default:l}=await Promise.resolve().then(()=>ws);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${oh.websocket}`,this.httpEndpoint=jx(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Px(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(eC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new rC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),us(async()=>{const{default:e}=await import("./browser-CPxcJWmr.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H2}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return ti.Connecting;case Ji.open:return ti.Open;case Ji.closing:return ti.Closing;default:return ti.Closed}}isConnected(){return this.connectionState()===ti.Open}channel(e,n={config:{}}){const r=new Rf(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(sn.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(W2,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(sn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([tC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class rC{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ji.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Df extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iC extends Df{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class lh extends Df{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var sC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ox=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>us(async()=>{const{default:r}=await Promise.resolve().then(()=>ws);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},oC=()=>sC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield us(()=>Promise.resolve().then(()=>ws),void 0)).Response:Response}),ch=t=>{if(Array.isArray(t))return t.map(n=>ch(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=ch(r)}),e};var wi=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Fu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aC=(t,e,n)=>wi(void 0,void 0,void 0,function*(){const r=yield oC();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new iC(Fu(i),t.status||500))}).catch(i=>{e(new lh(Fu(i),i))}):e(new lh(Fu(t),t))}),lC=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function ya(t,e,n,r,i,s){return wi(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,lC(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>aC(l,a,r))})})}function ac(t,e,n,r){return wi(this,void 0,void 0,function*(){return ya(t,"GET",e,n,r)})}function hr(t,e,n,r,i){return wi(this,void 0,void 0,function*(){return ya(t,"POST",e,r,i,n)})}function cC(t,e,n,r,i){return wi(this,void 0,void 0,function*(){return ya(t,"PUT",e,r,i,n)})}function uC(t,e,n,r){return wi(this,void 0,void 0,function*(){return ya(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Mx(t,e,n,r,i){return wi(this,void 0,void 0,function*(){return ya(t,"DELETE",e,r,i,n)})}var vt=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const dC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hC{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ox(i)}uploadOrUpdate(e,n,r,i){return vt(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Ig),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}upload(e,n,r){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return vt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Ig.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return vt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield hr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new Df("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}update(e,n,r){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return vt(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}copy(e,n,r){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return vt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield hr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return vt(this,void 0,void 0,function*(){try{const i=yield hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}download(e,n){return vt(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ac(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}info(e){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ac(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ch(r),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}exists(e){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield uC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ke(r)&&r instanceof lh){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return vt(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}list(e,n,r){return vt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},dC),n),{prefix:e||""});return{data:yield hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const fC="2.7.1",pC={"X-Client-Info":`storage-js/${fC}`};var ki=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class gC{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},pC),n),this.fetch=Ox(r)}listBuckets(){return ki(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ke(e))return{data:null,error:e};throw e}})}getBucket(e){return ki(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ki(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return ki(this,void 0,void 0,function*(){try{return{data:yield cC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ke(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ki(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ki(this,void 0,void 0,function*(){try{return{data:yield Mx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}}class mC extends gC{constructor(e,n={},r){super(e,n,r)}from(e){return new hC(this.url,this.headers,e,this.fetch)}}const yC="2.49.4";let no="";typeof Deno<"u"?no="deno":typeof document<"u"?no="web":typeof navigator<"u"&&navigator.product==="ReactNative"?no="react-native":no="node";const vC={"X-Client-Info":`supabase-js-${no}/${yC}`},xC={headers:vC},wC={schema:"public"},bC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_C={};var SC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const kC=t=>{let e;return t?e=t:typeof fetch>"u"?e=gx:e=fetch,(...n)=>e(...n)},CC=()=>typeof Headers>"u"?mx:Headers,EC=(t,e,n)=>{const r=kC(n),i=CC();return(s,o)=>SC(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:c}))})};var PC=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function TC(t){return t.replace(/\/$/,"")}function jC(t,e){const{db:n,auth:r,realtime:i,global:s}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),s),accessToken:()=>PC(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Rx="2.69.1",Oi=30*1e3,uh=3,zu=uh*Oi,OC="http://localhost:9999",MC="supabase.auth.token",RC={"X-Client-Info":`gotrue-js/${Rx}`},dh="X-Supabase-Api-Version",Dx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},DC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AC=6e5;class Af extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class NC extends Af{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function LC(t){return te(t)&&t.name==="AuthApiError"}class Ax extends Af{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ur extends Af{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ar extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function IC(t){return te(t)&&t.name==="AuthSessionMissingError"}class Bu extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ha extends Ur{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wa extends Ur{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $C(t){return te(t)&&t.name==="AuthImplicitGrantRedirectError"}class $g extends Ur{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hh extends Ur{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Uu(t){return te(t)&&t.name==="AuthRetryableFetchError"}class Fg extends Ur{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bo extends Ur{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bg=` 	
\r=`.split(""),FC=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Bg.length;e+=1)t[Bg[e].charCodeAt(0)]=-2;for(let e=0;e<zg.length;e+=1)t[zg[e].charCodeAt(0)]=e;return t})();function Nx(t,e,n){const r=FC[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ug(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{UC(o,r,n)};for(let o=0;o<t.length;o+=1)Nx(t.charCodeAt(o),i,s);return e.join("")}function zC(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BC(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}zC(r,e)}}function UC(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function VC(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Nx(t.charCodeAt(i),n,r);return new Uint8Array(e)}function HC(t){const e=[];return BC(t,n=>e.push(n)),new Uint8Array(e)}function WC(t){return Math.round(Date.now()/1e3)+t}function qC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const vn=()=>typeof window<"u"&&typeof document<"u",Wr={tested:!1,writable:!1},_o=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wr.tested)return Wr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wr.tested=!0,Wr.writable=!0}catch{Wr.tested=!0,Wr.writable=!1}return Wr.writable};function YC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Lx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>us(async()=>{const{default:r}=await Promise.resolve().then(()=>ws);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},KC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ix=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},qa=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ya=async(t,e)=>{await t.removeItem(e)};class Zc{constructor(){this.promise=new Zc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Zc.promiseConstructor=Promise;function Vu(t){const e=t.split(".");if(e.length!==3)throw new bo("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!DC.test(e[r]))throw new bo("JWT not in base64url format");return{header:JSON.parse(Ug(e[0])),payload:JSON.parse(Ug(e[1])),signature:VC(e[2]),raw:{header:e[0],payload:e[1]}}}async function XC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function JC(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){r(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function GC(t){return("0"+t.toString(16)).substr(-2)}function QC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,GC).join("")}async function ZC(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function eE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ZC(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(t,e,n=!1){const r=QC();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Ix(t,`${e}-code-verifier`,i);const s=await eE(r);return[s,r===s?"plain":"s256"]}const tE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nE(t){const e=t.headers.get(dh);if(!e||!e.match(tE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function iE(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var sE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Gr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oE=[502,503,504];async function Vg(t){var e;if(!KC(t))throw new hh(Gr(t),0);if(oE.includes(t.status))throw new hh(Gr(t),t.status);let n;try{n=await t.json()}catch(s){throw new Ax(Gr(s),s)}let r;const i=nE(t);if(i&&i.getTime()>=Dx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Fg(Gr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ar}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Fg(Gr(n),t.status,n.weak_password.reasons);throw new NC(Gr(n),t.status||500,r)}const aE=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function oe(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[dh]||(s[dh]=Dx["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await lE(t,e,n+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function lE(t,e,n,r,i,s){const o=aE(e,r,i,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new hh(Gr(l),0)}if(a.ok||await Vg(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Vg(l)}}function lr(t){var e;let n=null;hE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=WC(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hg(t){const e=lr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function cE(t){return{data:t,error:null}}function uE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,o=sE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function dE(t){return t}function hE(t){return t.access_token&&t.refresh_token&&t.expires_in}var fE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class pE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Lx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=fE(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:uE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:dE});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);c[`${w}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(te(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}const gE={getItem:t=>_o()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{_o()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{_o()&&globalThis.localStorage.removeItem(t)}};function Wg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function mE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ei={debug:!!(globalThis&&_o()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $x extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yE extends $x{}async function vE(t,e,n){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ei.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}mE();const xE={url:OC,storageKey:MC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qg(t,e,n){return await n()}class Go{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Go.nextInstanceID,Go.nextInstanceID+=1,this.instanceID>0&&vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},xE),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Lx(i.fetch),this.lock=i.lock||qg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:vn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vE:this.lock=qg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:_o()?this.storage=gE:(this.memoryStorage={},this.storage=Wg(this.memoryStorage)):(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=YC(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),$C(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?{error:n}:{error:new Ax("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:lr}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ci(this.storage,this.storageKey)),s=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:lr})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lr})}else throw new Ha("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hg})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Hg})}else throw new Ha("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bu}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await qa(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lr});if(await Ya(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Bu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(te(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=e,a=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lr}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Bu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ci(this.storage,this.storageKey));const{error:d}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ha("You must provide either an email or phone number.")}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:lr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(te(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ci(this.storage,this.storageKey)),await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:cE})}catch(s){if(te(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ar;const{error:i}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(te(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:o}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:o,error:a}=await oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ha("You must provide either an email or phone number and a type")}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zu:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yr}):await this._useSession(async n=>{var r,i,s;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ar}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:yr})})}catch(n){if(te(n))return IC(n)&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ar;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ci(this.storage,this.storageKey));const{data:c,error:u}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:yr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ar;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Vu(e.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ar;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!vn())throw new Wa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $g("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new Wa("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:v,error:w}=await this._getUser(s);if(w)throw w;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(LC(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=qC(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ci(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(te(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return vn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(te(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await JC(async i=>(i>0&&await XC(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lr})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Uu(s)&&Date.now()+o-r<Oi})}catch(r){if(this._debug(n,"error",r),te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await qa(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<zu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${zu}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),Uu(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ar;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Zc;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ar;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),te(s)){const o={session:null,error:s};return Uu(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ix(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ya(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Oi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Oi}ms, refresh threshold is ${uh} ticks`),i<=uh&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $x)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ci(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vu(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+AC>Date.now()))return r;const{data:i,error:s}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new bo("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(o=>o.kid===e),!r)throw new bo("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};r=f.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=Vu(r);if(rE(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:s,header:i,signature:o},error:null}}const c=iE(i.alg),u=await this.fetchJwk(i.kid,n),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,HC(`${a}.${l}`)))throw new bo("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}Go.nextInstanceID=0;const wE=Go;class bE extends wE{constructor(e){super(e)}}var _E=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class SE{constructor(e,n,r){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=TC(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:wC,realtime:_C,auth:Object.assign(Object.assign({},bC),{storageKey:l}),global:xC},u=jC(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=EC(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new B2(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new y2(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mC(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return _E(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bE({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nC(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kE=(t,e,n)=>new SE(t,e,n),CE="https://bisnozgwnwuvhdgyprbm.supabase.co",EE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpc25vemd3bnd1dmhkZ3lwcmJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwMzI5MDksImV4cCI6MjA1ODYwODkwOX0.MRxLwNrkGyCTeW2Nlj8B8pFZPWrLyLI-QqujJiezPoE",We=kE(CE,EE),er=px((t,e)=>({user:null,profile:null,loading:!1,error:null,setUser:n=>t({user:n}),setProfile:n=>t({profile:n}),clearUser:()=>t({user:null,profile:null}),signIn:async(n,r)=>{t({loading:!0,error:null});try{const{data:i,error:s}=await We.auth.signInWithPassword({email:n,password:r});if(s)throw s;t({user:i.user}),await e().fetchProfile()}catch(i){t({error:i.message})}finally{t({loading:!1})}},signOut:async()=>{t({loading:!0,error:null});try{const{error:n}=await We.auth.signOut();if(n)throw n;t({user:null,profile:null})}catch(n){t({error:n.message})}finally{t({loading:!1})}},fetchProfile:async()=>{const{user:n}=e();if(n){t({loading:!0,error:null});try{const{data:r,error:i}=await We.from("profiles").select("*").eq("user_id",n.id).single();if(i)throw i;t({profile:r})}catch(r){t({error:r.message})}finally{t({loading:!1})}}}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pe=(t,e)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>b.createElement("svg",{ref:u,...PE,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${TE(t)}`,a].join(" "),...c},[...e.map(([d,h])=>b.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=pe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=pe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=pe("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=pe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=pe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=pe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=pe("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=pe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=pe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var va=t=>t.type==="checkbox",oi=t=>t instanceof Date,ft=t=>t==null;const Ux=t=>typeof t=="object";var Ne=t=>!ft(t)&&!Array.isArray(t)&&Ux(t)&&!oi(t),JE=t=>Ne(t)&&t.target?va(t.target)?t.target.checked:t.target.value:t,GE=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,QE=(t,e)=>t.has(GE(e)),ZE=t=>{const e=t.constructor&&t.constructor.prototype;return Ne(e)&&e.hasOwnProperty("isPrototypeOf")},Lf=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ot(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Lf&&(t instanceof Blob||r))&&(n||Ne(t)))if(e=n?[]:{},!n&&!ZE(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=ot(t[i]));else return t;return e}var eu=t=>Array.isArray(t)?t.filter(Boolean):[],Ie=t=>t===void 0,J=(t,e,n)=>{if(!e||!Ne(t))return n;const r=eu(e.split(/[,[\].]+?/)).reduce((i,s)=>ft(i)?i:i[s],t);return Ie(r)||r===t?Ie(t[e])?n:t[e]:r},_n=t=>typeof t=="boolean",If=t=>/^\w*$/.test(t),Vx=t=>eu(t.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(t,e,n)=>{let r=-1;const i=If(e)?[e]:Vx(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=Ne(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Kg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},an={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Dn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};de.createContext(null);var eP=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==an.all&&(e._proxyFormState[o]=!r||an.all),t[o]}});return i},ph=t=>ft(t)||!Ux(t);function vr(t,e){if(ph(t)||ph(e))return t===e;if(oi(t)&&oi(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(oi(s)&&oi(o)||Ne(s)&&Ne(o)||Array.isArray(s)&&Array.isArray(o)?!vr(s,o):s!==o)return!1}}return!0}var kn=t=>typeof t=="string",tP=(t,e,n,r,i)=>kn(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n),nP=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},So=t=>Array.isArray(t)?t:[t],Xg=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},dt=t=>Ne(t)&&!Object.keys(t).length,$f=t=>t.type==="file",ln=t=>typeof t=="function",lc=t=>{if(!Lf)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Hx=t=>t.type==="select-multiple",Ff=t=>t.type==="radio",rP=t=>Ff(t)||va(t),Hu=t=>lc(t)&&t.isConnected;function iP(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Ie(t)?r++:t[e[r++]];return t}function sP(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ie(t[e]))return!1;return!0}function ze(t,e){const n=Array.isArray(e)?e:If(e)?[e]:Vx(e),r=n.length===1?t:iP(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ne(r)&&dt(r)||Array.isArray(r)&&sP(r))&&ze(t,n.slice(0,-1)),t}var Wx=t=>{for(const e in t)if(ln(t[e]))return!0;return!1};function cc(t,e={}){const n=Array.isArray(t);if(Ne(t)||n)for(const r in t)Array.isArray(t[r])||Ne(t[r])&&!Wx(t[r])?(e[r]=Array.isArray(t[r])?[]:{},cc(t[r],e[r])):ft(t[r])||(e[r]=!0);return e}function qx(t,e,n){const r=Array.isArray(t);if(Ne(t)||r)for(const i in t)Array.isArray(t[i])||Ne(t[i])&&!Wx(t[i])?Ie(e)||ph(n[i])?n[i]=Array.isArray(t[i])?cc(t[i],[]):{...cc(t[i])}:qx(t[i],ft(e)?{}:e[i],n[i]):n[i]=!vr(t[i],e[i]);return n}var Ws=(t,e)=>qx(t,e,cc(e));const Jg={value:!1,isValid:!1},Gg={value:!0,isValid:!0};var Yx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ie(t[0].attributes.value)?Ie(t[0].value)||t[0].value===""?Gg:{value:t[0].value,isValid:!0}:Gg:Jg}return Jg},Kx=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Ie(t)?t:e?t===""?NaN:t&&+t:n&&kn(t)?new Date(t):r?r(t):t;const Qg={isValid:!1,value:null};var Xx=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Qg):Qg;function Zg(t){const e=t.ref;return $f(e)?e.files:Ff(e)?Xx(t.refs).value:Hx(e)?[...e.selectedOptions].map(({value:n})=>n):va(e)?Yx(t.refs).value:Kx(Ie(e.value)?t.ref.value:e.value,t)}var oP=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&we(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},uc=t=>t instanceof RegExp,qs=t=>Ie(t)?t:uc(t)?t.source:Ne(t)?uc(t.value)?t.value.source:t.value:t,em=t=>({isOnSubmit:!t||t===an.onSubmit,isOnBlur:t===an.onBlur,isOnChange:t===an.onChange,isOnAll:t===an.all,isOnTouch:t===an.onTouched});const tm="AsyncFunction";var aP=t=>!!t&&!!t.validate&&!!(ln(t.validate)&&t.validate.constructor.name===tm||Ne(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===tm)),lP=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),nm=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ko=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=J(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ko(a,e))break}else if(Ne(a)&&ko(a,e))break}}};function rm(t,e,n){const r=J(t,n);if(r||If(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),a=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var cP=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return dt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||an.all))},uP=(t,e,n)=>!t||!e||t===e||So(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),dP=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,hP=(t,e)=>!eu(J(t,e)).length&&ze(t,e),fP=(t,e,n)=>{const r=So(J(t,n));return we(r,"root",e[n]),we(t,n,r),t},Cl=t=>kn(t);function im(t,e,n="validate"){if(Cl(t)||Array.isArray(t)&&t.every(Cl)||_n(t)&&!t)return{type:n,message:Cl(t)?t:"",ref:e}}var Pi=t=>Ne(t)&&!uc(t)?t:{value:t,message:""},sm=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:m,name:v,valueAsNumber:w,mount:y}=t._f,p=J(n,v);if(!y||e.has(v))return{};const x=a?a[0]:o,_=U=>{i&&x.reportValidity&&(x.setCustomValidity(_n(U)?"":U||""),x.reportValidity())},S={},E=Ff(o),C=va(o),P=E||C,$=(w||$f(o))&&Ie(o.value)&&Ie(p)||lc(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,D=nP.bind(null,v,r,S),N=(U,V,O,M=Dn.maxLength,R=Dn.minLength)=>{const L=U?V:O;S[v]={type:U?M:R,message:L,ref:o,...D(U?M:R,L)}};if(s?!Array.isArray(p)||!p.length:l&&(!P&&($||ft(p))||_n(p)&&!p||C&&!Yx(a).isValid||E&&!Xx(a).isValid)){const{value:U,message:V}=Cl(l)?{value:!!l,message:l}:Pi(l);if(U&&(S[v]={type:Dn.required,message:V,ref:x,...D(Dn.required,V)},!r))return _(V),S}if(!$&&(!ft(d)||!ft(h))){let U,V;const O=Pi(h),M=Pi(d);if(!ft(p)&&!isNaN(p)){const R=o.valueAsNumber||p&&+p;ft(O.value)||(U=R>O.value),ft(M.value)||(V=R<M.value)}else{const R=o.valueAsDate||new Date(p),L=F=>new Date(new Date().toDateString()+" "+F),T=o.type=="time",I=o.type=="week";kn(O.value)&&p&&(U=T?L(p)>L(O.value):I?p>O.value:R>new Date(O.value)),kn(M.value)&&p&&(V=T?L(p)<L(M.value):I?p<M.value:R<new Date(M.value))}if((U||V)&&(N(!!U,O.message,M.message,Dn.max,Dn.min),!r))return _(S[v].message),S}if((c||u)&&!$&&(kn(p)||s&&Array.isArray(p))){const U=Pi(c),V=Pi(u),O=!ft(U.value)&&p.length>+U.value,M=!ft(V.value)&&p.length<+V.value;if((O||M)&&(N(O,U.message,V.message),!r))return _(S[v].message),S}if(f&&!$&&kn(p)){const{value:U,message:V}=Pi(f);if(uc(U)&&!p.match(U)&&(S[v]={type:Dn.pattern,message:V,ref:o,...D(Dn.pattern,V)},!r))return _(V),S}if(m){if(ln(m)){const U=await m(p,n),V=im(U,x);if(V&&(S[v]={...V,...D(Dn.validate,V.message)},!r))return _(V.message),S}else if(Ne(m)){let U={};for(const V in m){if(!dt(U)&&!r)break;const O=im(await m[V](p,n),x,V);O&&(U={...O,...D(V,O.message)},_(O.message),r&&(S[v]=U))}if(!dt(U)&&(S[v]={ref:x,...U},!r))return S}}return _(!0),S};const pP={mode:an.onSubmit,reValidateMode:an.onChange,shouldFocusError:!0};function gP(t={}){let e={...pP,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ln(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Ne(e.defaultValues)||Ne(e.values)?ot(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:ot(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const h={array:Xg(),state:Xg()},f=em(e.mode),m=em(e.reValidateMode),v=e.criteriaMode===an.all,w=k=>j=>{clearTimeout(c),c=setTimeout(k,j)},y=async k=>{if(!e.disabled&&(u.isValid||d.isValid||k)){const j=e.resolver?dt((await $()).errors):await N(r,!0);j!==n.isValid&&h.state.next({isValid:j})}},p=(k,j)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((k||Array.from(a.mount)).forEach(A=>{A&&(j?we(n.validatingFields,A,j):ze(n.validatingFields,A))}),h.state.next({validatingFields:n.validatingFields,isValidating:!dt(n.validatingFields)}))},x=(k,j=[],A,W,H=!0,z=!0)=>{if(W&&A&&!e.disabled){if(o.action=!0,z&&Array.isArray(J(r,k))){const q=A(J(r,k),W.argA,W.argB);H&&we(r,k,q)}if(z&&Array.isArray(J(n.errors,k))){const q=A(J(n.errors,k),W.argA,W.argB);H&&we(n.errors,k,q),hP(n.errors,k)}if((u.touchedFields||d.touchedFields)&&z&&Array.isArray(J(n.touchedFields,k))){const q=A(J(n.touchedFields,k),W.argA,W.argB);H&&we(n.touchedFields,k,q)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=Ws(i,s)),h.state.next({name:k,isDirty:V(k,j),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else we(s,k,j)},_=(k,j)=>{we(n.errors,k,j),h.state.next({errors:n.errors})},S=k=>{n.errors=k,h.state.next({errors:n.errors,isValid:!1})},E=(k,j,A,W)=>{const H=J(r,k);if(H){const z=J(s,k,Ie(A)?J(i,k):A);Ie(z)||W&&W.defaultChecked||j?we(s,k,j?z:Zg(H._f)):R(k,z),o.mount&&y()}},C=(k,j,A,W,H)=>{let z=!1,q=!1;const ne={name:k};if(!e.disabled){if(!A||W){(u.isDirty||d.isDirty)&&(q=n.isDirty,n.isDirty=ne.isDirty=V(),z=q!==ne.isDirty);const ke=vr(J(i,k),j);q=!!J(n.dirtyFields,k),ke?ze(n.dirtyFields,k):we(n.dirtyFields,k,!0),ne.dirtyFields=n.dirtyFields,z=z||(u.dirtyFields||d.dirtyFields)&&q!==!ke}if(A){const ke=J(n.touchedFields,k);ke||(we(n.touchedFields,k,A),ne.touchedFields=n.touchedFields,z=z||(u.touchedFields||d.touchedFields)&&ke!==A)}z&&H&&h.state.next(ne)}return z?ne:{}},P=(k,j,A,W)=>{const H=J(n.errors,k),z=(u.isValid||d.isValid)&&_n(j)&&n.isValid!==j;if(e.delayError&&A?(l=w(()=>_(k,A)),l(e.delayError)):(clearTimeout(c),l=null,A?we(n.errors,k,A):ze(n.errors,k)),(A?!vr(H,A):H)||!dt(W)||z){const q={...W,...z&&_n(j)?{isValid:j}:{},errors:n.errors,name:k};n={...n,...q},h.state.next(q)}},$=async k=>{p(k,!0);const j=await e.resolver(s,e.context,oP(k||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return p(k),j},D=async k=>{const{errors:j}=await $(k);if(k)for(const A of k){const W=J(j,A);W?we(n.errors,A,W):ze(n.errors,A)}else n.errors=j;return j},N=async(k,j,A={valid:!0})=>{for(const W in k){const H=k[W];if(H){const{_f:z,...q}=H;if(z){const ne=a.array.has(z.name),ke=H._f&&aP(H._f);ke&&u.validatingFields&&p([W],!0);const ve=await sm(H,a.disabled,s,v,e.shouldUseNativeValidation&&!j,ne);if(ke&&u.validatingFields&&p([W]),ve[z.name]&&(A.valid=!1,j))break;!j&&(J(ve,z.name)?ne?fP(n.errors,ve,z.name):we(n.errors,z.name,ve[z.name]):ze(n.errors,z.name))}!dt(q)&&await N(q,j,A)}}return A.valid},U=()=>{for(const k of a.unMount){const j=J(r,k);j&&(j._f.refs?j._f.refs.every(A=>!Hu(A)):!Hu(j._f.ref))&&Re(k)}a.unMount=new Set},V=(k,j)=>!e.disabled&&(k&&j&&we(s,k,j),!vr(K(),i)),O=(k,j,A)=>tP(k,a,{...o.mount?s:Ie(j)?i:kn(k)?{[k]:j}:j},A,j),M=k=>eu(J(o.mount?s:i,k,e.shouldUnregister?J(i,k,[]):[])),R=(k,j,A={})=>{const W=J(r,k);let H=j;if(W){const z=W._f;z&&(!z.disabled&&we(s,k,Kx(j,z)),H=lc(z.ref)&&ft(j)?"":j,Hx(z.ref)?[...z.ref.options].forEach(q=>q.selected=H.includes(q.value)):z.refs?va(z.ref)?z.refs.length>1?z.refs.forEach(q=>(!q.defaultChecked||!q.disabled)&&(q.checked=Array.isArray(H)?!!H.find(ne=>ne===q.value):H===q.value)):z.refs[0]&&(z.refs[0].checked=!!H):z.refs.forEach(q=>q.checked=q.value===H):$f(z.ref)?z.ref.value="":(z.ref.value=H,z.ref.type||h.state.next({name:k,values:ot(s)})))}(A.shouldDirty||A.shouldTouch)&&C(k,H,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&X(k)},L=(k,j,A)=>{for(const W in j){const H=j[W],z=`${k}.${W}`,q=J(r,z);(a.array.has(k)||Ne(H)||q&&!q._f)&&!oi(H)?L(z,H,A):R(z,H,A)}},T=(k,j,A={})=>{const W=J(r,k),H=a.array.has(k),z=ot(j);we(s,k,z),H?(h.array.next({name:k,values:ot(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&A.shouldDirty&&h.state.next({name:k,dirtyFields:Ws(i,s),isDirty:V(k,z)})):W&&!W._f&&!ft(z)?L(k,z,A):R(k,z,A),nm(k,a)&&h.state.next({...n}),h.state.next({name:o.mount?k:void 0,values:ot(s)})},I=async k=>{o.mount=!0;const j=k.target;let A=j.name,W=!0;const H=J(r,A),z=q=>{W=Number.isNaN(q)||oi(q)&&isNaN(q.getTime())||vr(q,J(s,A,q))};if(H){let q,ne;const ke=j.type?Zg(H._f):JE(k),ve=k.type===Kg.BLUR||k.type===Kg.FOCUS_OUT,Ca=!lP(H._f)&&!e.resolver&&!J(n.errors,A)&&!H._f.deps||dP(ve,J(n.touchedFields,A),n.isSubmitted,m,f),Ts=nm(A,a,ve);we(s,A,ke),ve?(H._f.onBlur&&H._f.onBlur(k),l&&l(0)):H._f.onChange&&H._f.onChange(k);const js=C(A,ke,ve),Os=!dt(js)||Ts;if(!ve&&h.state.next({name:A,type:k.type,values:ot(s)}),Ca)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?ve&&y():ve||y()),Os&&h.state.next({name:A,...Ts?{}:js});if(!ve&&Ts&&h.state.next({...n}),e.resolver){const{errors:Ms}=await $([A]);if(z(ke),W){const lu=rm(n.errors,r,A),Rs=rm(Ms,r,lu.name||A);q=Rs.error,A=Rs.name,ne=dt(Ms)}}else p([A],!0),q=(await sm(H,a.disabled,s,v,e.shouldUseNativeValidation))[A],p([A]),z(ke),W&&(q?ne=!1:(u.isValid||d.isValid)&&(ne=await N(r,!0)));W&&(H._f.deps&&X(H._f.deps),P(A,ne,q,js))}},F=(k,j)=>{if(J(n.errors,j)&&k.focus)return k.focus(),1},X=async(k,j={})=>{let A,W;const H=So(k);if(e.resolver){const z=await D(Ie(k)?k:H);A=dt(z),W=k?!H.some(q=>J(z,q)):A}else k?(W=(await Promise.all(H.map(async z=>{const q=J(r,z);return await N(q&&q._f?{[z]:q}:q)}))).every(Boolean),!(!W&&!n.isValid)&&y()):W=A=await N(r);return h.state.next({...!kn(k)||(u.isValid||d.isValid)&&A!==n.isValid?{}:{name:k},...e.resolver||!k?{isValid:A}:{},errors:n.errors}),j.shouldFocus&&!W&&ko(r,F,k?H:a.mount),W},K=k=>{const j={...o.mount?s:i};return Ie(k)?j:kn(k)?J(j,k):k.map(A=>J(j,A))},Z=(k,j)=>({invalid:!!J((j||n).errors,k),isDirty:!!J((j||n).dirtyFields,k),error:J((j||n).errors,k),isValidating:!!J(n.validatingFields,k),isTouched:!!J((j||n).touchedFields,k)}),ee=k=>{k&&So(k).forEach(j=>ze(n.errors,j)),h.state.next({errors:k?n.errors:{}})},ue=(k,j,A)=>{const W=(J(r,k,{_f:{}})._f||{}).ref,H=J(n.errors,k)||{},{ref:z,message:q,type:ne,...ke}=H;we(n.errors,k,{...ke,...j,ref:W}),h.state.next({name:k,errors:n.errors,isValid:!1}),A&&A.shouldFocus&&W&&W.focus&&W.focus()},re=(k,j)=>ln(k)?h.state.subscribe({next:A=>k(O(void 0,j),A)}):O(k,j,!0),Le=k=>h.state.subscribe({next:j=>{uP(k.name,j.name,k.exact)&&cP(j,k.formState||u,Ps,k.reRenderRoot)&&k.callback({values:{...s},...n,...j})}}).unsubscribe,nt=k=>(o.mount=!0,d={...d,...k.formState},Le({...k,formState:d})),Re=(k,j={})=>{for(const A of k?So(k):a.mount)a.mount.delete(A),a.array.delete(A),j.keepValue||(ze(r,A),ze(s,A)),!j.keepError&&ze(n.errors,A),!j.keepDirty&&ze(n.dirtyFields,A),!j.keepTouched&&ze(n.touchedFields,A),!j.keepIsValidating&&ze(n.validatingFields,A),!e.shouldUnregister&&!j.keepDefaultValue&&ze(i,A);h.state.next({values:ot(s)}),h.state.next({...n,...j.keepDirty?{isDirty:V()}:{}}),!j.keepIsValid&&y()},Q=({disabled:k,name:j})=>{(_n(k)&&o.mount||k||a.disabled.has(j))&&(k?a.disabled.add(j):a.disabled.delete(j))},Ye=(k,j={})=>{let A=J(r,k);const W=_n(j.disabled)||_n(e.disabled);return we(r,k,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:k}},name:k,mount:!0,...j}}),a.mount.add(k),A?Q({disabled:_n(j.disabled)?j.disabled:e.disabled,name:k}):E(k,!0,j.value),{...W?{disabled:j.disabled||e.disabled}:{},...e.progressive?{required:!!j.required,min:qs(j.min),max:qs(j.max),minLength:qs(j.minLength),maxLength:qs(j.maxLength),pattern:qs(j.pattern)}:{},name:k,onChange:I,onBlur:I,ref:H=>{if(H){Ye(k,j),A=J(r,k);const z=Ie(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,q=rP(z),ne=A._f.refs||[];if(q?ne.find(ke=>ke===z):z===A._f.ref)return;we(r,k,{_f:{...A._f,...q?{refs:[...ne.filter(Hu),z,...Array.isArray(J(i,k))?[{}]:[]],ref:{type:z.type,name:k}}:{ref:z}}}),E(k,!1,void 0,z)}else A=J(r,k,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||j.shouldUnregister)&&!(QE(a.array,k)&&o.action)&&a.unMount.add(k)}}},Fe=()=>e.shouldFocusError&&ko(r,F,a.mount),Ot=k=>{_n(k)&&(h.state.next({disabled:k}),ko(r,(j,A)=>{const W=J(r,A);W&&(j.disabled=W._f.disabled||k,Array.isArray(W._f.refs)&&W._f.refs.forEach(H=>{H.disabled=W._f.disabled||k}))},0,!1))},Ut=(k,j)=>async A=>{let W;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let H=ot(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:z,values:q}=await $();n.errors=z,H=q}else await N(r);if(a.disabled.size)for(const z of a.disabled)we(H,z,void 0);if(ze(n.errors,"root"),dt(n.errors)){h.state.next({errors:{}});try{await k(H,A)}catch(z){W=z}}else j&&await j({...n.errors},A),Fe(),setTimeout(Fe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dt(n.errors)&&!W,submitCount:n.submitCount+1,errors:n.errors}),W)throw W},tr=(k,j={})=>{J(r,k)&&(Ie(j.defaultValue)?T(k,ot(J(i,k))):(T(k,j.defaultValue),we(i,k,ot(j.defaultValue))),j.keepTouched||ze(n.touchedFields,k),j.keepDirty||(ze(n.dirtyFields,k),n.isDirty=j.defaultValue?V(k,ot(J(i,k))):V()),j.keepError||(ze(n.errors,k),u.isValid&&y()),h.state.next({...n}))},jn=(k,j={})=>{const A=k?ot(k):i,W=ot(A),H=dt(k),z=H?i:W;if(j.keepDefaultValues||(i=A),!j.keepValues){if(j.keepDirtyValues){const q=new Set([...a.mount,...Object.keys(Ws(i,s))]);for(const ne of Array.from(q))J(n.dirtyFields,ne)?we(z,ne,J(s,ne)):T(ne,J(z,ne))}else{if(Lf&&Ie(k))for(const q of a.mount){const ne=J(r,q);if(ne&&ne._f){const ke=Array.isArray(ne._f.refs)?ne._f.refs[0]:ne._f.ref;if(lc(ke)){const ve=ke.closest("form");if(ve){ve.reset();break}}}}for(const q of a.mount)T(q,J(z,q))}s=ot(z),h.array.next({values:{...z}}),h.state.next({values:{...z}})}a={mount:j.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!j.keepIsValid||!!j.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:j.keepSubmitCount?n.submitCount:0,isDirty:H?!1:j.keepDirty?n.isDirty:!!(j.keepDefaultValues&&!vr(k,i)),isSubmitted:j.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:H?{}:j.keepDirtyValues?j.keepDefaultValues&&s?Ws(i,s):n.dirtyFields:j.keepDefaultValues&&k?Ws(i,k):j.keepDirty?n.dirtyFields:{},touchedFields:j.keepTouched?n.touchedFields:{},errors:j.keepErrors?n.errors:{},isSubmitSuccessful:j.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Es=(k,j)=>jn(ln(k)?k(s):k,j),ka=(k,j={})=>{const A=J(r,k),W=A&&A._f;if(W){const H=W.refs?W.refs[0]:W.ref;H.focus&&(H.focus(),j.shouldSelect&&ln(H.select)&&H.select())}},Ps=k=>{n={...n,...k}},Vr={control:{register:Ye,unregister:Re,getFieldState:Z,handleSubmit:Ut,setError:ue,_subscribe:Le,_runSchema:$,_getWatch:O,_getDirty:V,_setValid:y,_setFieldArray:x,_setDisabledField:Q,_setErrors:S,_getFieldArray:M,_reset:jn,_resetDefaultValues:()=>ln(e.defaultValues)&&e.defaultValues().then(k=>{Es(k,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:Ot,_subjects:h,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(k){o=k},get _defaultValues(){return i},get _names(){return a},set _names(k){a=k},get _formState(){return n},get _options(){return e},set _options(k){e={...e,...k}}},subscribe:nt,trigger:X,register:Ye,handleSubmit:Ut,watch:re,setValue:T,getValues:K,reset:Es,resetField:tr,clearErrors:ee,unregister:Re,setError:ue,setFocus:ka,getFieldState:Z};return{...Vr,formControl:Vr}}const mP=typeof window<"u"?de.useLayoutEffect:de.useEffect;function Jx(t={}){const e=de.useRef(void 0),n=de.useRef(void 0),[r,i]=de.useState({isDirty:!1,isValidating:!1,isLoading:ln(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:ln(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:gP(t),formState:r},t.formControl&&t.defaultValues&&!ln(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,mP(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),o},[s]),de.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),de.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode),t.errors&&!dt(t.errors)&&s._setErrors(t.errors)},[s,t.errors,t.mode,t.reValidateMode]),de.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),de.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),de.useEffect(()=>{t.values&&!vr(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),de.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=eP(r,s),e.current}const yP=()=>{const{signIn:t,loading:e,error:n}=er(),[r,i]=b.useState(null);jf();const{register:s,handleSubmit:o,formState:{errors:a}}=Jx(),l=async c=>{i(null);try{await t(c.email,c.password)}catch(u){i(u.message)}};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-teal-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[g.jsx("div",{className:"flex justify-center",children:g.jsx("div",{className:"h-12 w-12 bg-[#1e88e5] rounded-full flex items-center justify-center",children:g.jsx(fh,{className:"h-8 w-8 text-white"})})}),g.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"PharmaSaaS"}),g.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),g.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:g.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:g.jsxs("form",{className:"space-y-6",onSubmit:o(l),children:[(n||r)&&g.jsx("div",{className:"rounded-md bg-red-50 p-4",children:g.jsxs("div",{className:"flex",children:[g.jsx("div",{className:"flex-shrink-0",children:g.jsx(jE,{className:"h-5 w-5 text-red-400"})}),g.jsx("div",{className:"ml-3",children:g.jsx("p",{className:"text-sm text-red-700",children:n||r})})]})}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),g.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(BE,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{id:"email",type:"email",autoComplete:"email",className:`pl-10 block w-full border ${a.email?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"you@example.com",...s("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})})]}),a.email&&g.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.email.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),g.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(FE,{className:"h-5 w-5 text-gray-400"})}),g.jsx("input",{id:"password",type:"password",autoComplete:"current-password",className:`pl-10 block w-full border ${a.password?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,placeholder:"••••••••",...s("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})})]}),a.password&&g.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.password.message})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),g.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),g.jsx("div",{className:"text-sm",children:g.jsx("a",{href:"#",className:"font-medium text-[#1e88e5] hover:text-blue-500",children:"Forgot your password?"})})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#1e88e5] hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",disabled:e,children:e?g.jsxs("span",{className:"flex items-center",children:[g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]})})})]})};function vP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const tu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _s(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function zf(t){return"nodeType"in t}function jt(t){var e,n;return t?_s(t)?t:zf(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Bf(t){const{Document:e}=jt(t);return t instanceof e}function xa(t){return _s(t)?!1:t instanceof jt(t).HTMLElement}function Gx(t){return t instanceof jt(t).SVGElement}function Ss(t){return t?_s(t)?t.document:zf(t)?Bf(t)?t:xa(t)||Gx(t)?t.ownerDocument:document:document:document}const Tn=tu?b.useLayoutEffect:b.useEffect;function Uf(t){const e=b.useRef(t);return Tn(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function xP(){const t=b.useRef(null),e=b.useCallback((r,i)=>{t.current=setInterval(r,i)},[]),n=b.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function Zo(t,e){e===void 0&&(e=[t]);const n=b.useRef(t);return Tn(()=>{n.current!==t&&(n.current=t)},e),n}function wa(t,e){const n=b.useRef();return b.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function dc(t){const e=Uf(t),n=b.useRef(null),r=b.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function gh(t){const e=b.useRef();return b.useEffect(()=>{e.current=t},[t]),e.current}let Wu={};function ba(t,e){return b.useMemo(()=>{if(e)return e;const n=Wu[t]==null?0:Wu[t]+1;return Wu[t]=n,t+"-"+n},[t,e])}function Qx(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+t*c)}return s},{...e})}}const Gi=Qx(1),ea=Qx(-1);function wP(t){return"clientX"in t&&"clientY"in t}function Vf(t){if(!t)return!1;const{KeyboardEvent:e}=jt(t.target);return e&&t instanceof e}function bP(t){if(!t)return!1;const{TouchEvent:e}=jt(t.target);return e&&t instanceof e}function mh(t){if(bP(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return wP(t)?{x:t.clientX,y:t.clientY}:null}const ta=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[ta.Translate.toString(t),ta.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),om="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function _P(t){return t.matches(om)?t:t.querySelector(om)}const SP={display:"none"};function kP(t){let{id:e,value:n}=t;return de.createElement("div",{id:e,style:SP},n)}function CP(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return de.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function EP(){const[t,e]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const Zx=b.createContext(null);function PP(t){const e=b.useContext(Zx);b.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function TP(){const[t]=b.useState(()=>new Set),e=b.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[b.useCallback(r=>{let{type:i,event:s}=r;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const jP={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},OP={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function MP(t){let{announcements:e=OP,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=jP}=t;const{announce:s,announcement:o}=EP(),a=ba("DndLiveRegion"),[l,c]=b.useState(!1);if(b.useEffect(()=>{c(!0)},[]),PP(b.useMemo(()=>({onDragStart(d){let{active:h}=d;s(e.onDragStart({active:h}))},onDragMove(d){let{active:h,over:f}=d;e.onDragMove&&s(e.onDragMove({active:h,over:f}))},onDragOver(d){let{active:h,over:f}=d;s(e.onDragOver({active:h,over:f}))},onDragEnd(d){let{active:h,over:f}=d;s(e.onDragEnd({active:h,over:f}))},onDragCancel(d){let{active:h,over:f}=d;s(e.onDragCancel({active:h,over:f}))}}),[s,e])),!l)return null;const u=de.createElement(de.Fragment,null,de.createElement(kP,{id:r,value:i.draggable}),de.createElement(CP,{id:a,announcement:o}));return n?Vi.createPortal(u,n):u}var Ue;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ue||(Ue={}));function hc(){}function am(t,e){return b.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function RP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return b.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const hn=Object.freeze({x:0,y:0});function ew(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function tw(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function DP(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function lm(t){let{left:e,top:n,height:r,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+r},{x:e+i,y:n+r}]}function nw(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function cm(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const AP=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=cm(e,e.left,e.top),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=ew(cm(l),i);s.push({id:a,data:{droppableContainer:o,value:c}})}}return s.sort(tw)},NP=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=lm(e),s=[];for(const o of r){const{id:a}=o,l=n.get(a);if(l){const c=lm(l),u=i.reduce((h,f,m)=>h+ew(c[m],f),0),d=Number((u/4).toFixed(4));s.push({id:a,data:{droppableContainer:o,value:d}})}}return s.sort(tw)};function LP(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-r,a=s-n;if(r<i&&n<s){const l=e.width*e.height,c=t.width*t.height,u=o*a,d=u/(l+c-u);return Number(d.toFixed(4))}return 0}const IP=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const l=LP(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(DP)};function $P(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function rw(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:hn}function FP(t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...n})}}const zP=FP(1);function BP(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function UP(t,e,n){const r=BP(e);if(!r)return t;const{scaleX:i,scaleY:s,x:o,y:a}=r,l=t.left-o-(1-i)*parseFloat(n),c=t.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?t.width/i:t.width,d=s?t.height/s:t.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}const VP={ignoreTransform:!1};function ks(t,e){e===void 0&&(e=VP);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=jt(t).getComputedStyle(t);c&&(n=UP(n,c,u))}const{top:r,left:i,width:s,height:o,bottom:a,right:l}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:l}}function um(t){return ks(t,{ignoreTransform:!0})}function HP(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function WP(t,e){return e===void 0&&(e=jt(t).getComputedStyle(t)),e.position==="fixed"}function qP(t,e){e===void 0&&(e=jt(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?n.test(s):!1})}function nu(t,e){const n=[];function r(i){if(e!=null&&n.length>=e||!i)return n;if(Bf(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!xa(i)||Gx(i)||n.includes(i))return n;const s=jt(t).getComputedStyle(i);return i!==t&&qP(i,s)&&n.push(i),WP(i,s)?n:r(i.parentNode)}return t?r(t):n}function iw(t){const[e]=nu(t,1);return e??null}function qu(t){return!tu||!t?null:_s(t)?t:zf(t)?Bf(t)||t===Ss(t).scrollingElement?window:xa(t)?t:null:null}function sw(t){return _s(t)?t.scrollX:t.scrollLeft}function ow(t){return _s(t)?t.scrollY:t.scrollTop}function yh(t){return{x:sw(t),y:ow(t)}}var Je;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Je||(Je={}));function aw(t){return!tu||!t?!1:t===document.scrollingElement}function lw(t){const e={x:0,y:0},n=aw(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:e}}const YP={x:.2,y:.2};function KP(t,e,n,r,i){let{top:s,left:o,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=YP);const{isTop:c,isBottom:u,isLeft:d,isRight:h}=lw(t),f={x:0,y:0},m={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+v.height?(f.y=Je.Backward,m.y=r*Math.abs((e.top+v.height-s)/v.height)):!u&&l>=e.bottom-v.height&&(f.y=Je.Forward,m.y=r*Math.abs((e.bottom-v.height-l)/v.height)),!h&&a>=e.right-v.width?(f.x=Je.Forward,m.x=r*Math.abs((e.right-v.width-a)/v.width)):!d&&o<=e.left+v.width&&(f.x=Je.Backward,m.x=r*Math.abs((e.left+v.width-o)/v.width)),{direction:f,speed:m}}function XP(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:n,right:r,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:i,width:t.clientWidth,height:t.clientHeight}}function cw(t){return t.reduce((e,n)=>Gi(e,yh(n)),hn)}function JP(t){return t.reduce((e,n)=>e+sw(n),0)}function GP(t){return t.reduce((e,n)=>e+ow(n),0)}function QP(t,e){if(e===void 0&&(e=ks),!t)return;const{top:n,left:r,bottom:i,right:s}=e(t);iw(t)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const ZP=[["x",["left","right"],JP],["y",["top","bottom"],GP]];class Hf{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=nu(n),i=cw(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of ZP)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Co{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var i;(i=this.target)==null||i.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function eT(t){const{EventTarget:e}=jt(t);return t instanceof e?t:Ss(t)}function Yu(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var Wt;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Wt||(Wt={}));function dm(t){t.preventDefault()}function tT(t){t.stopPropagation()}var ae;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ae||(ae={}));const uw={start:[ae.Space,ae.Enter],cancel:[ae.Esc],end:[ae.Space,ae.Enter,ae.Tab]},nT=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case ae.Right:return{...n,x:n.x+25};case ae.Left:return{...n,x:n.x-25};case ae.Down:return{...n,y:n.y+25};case ae.Up:return{...n,y:n.y-25}}};class Wf{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Co(Ss(n)),this.windowListeners=new Co(jt(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Wt.Resize,this.handleCancel),this.windowListeners.add(Wt.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Wt.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&QP(r),n(hn)}handleKeyDown(e){if(Vf(e)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=uw,coordinateGetter:o=nT,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:hn;this.referenceCoordinates||(this.referenceCoordinates=u);const d=o(e,{active:n,context:r.current,currentCoordinates:u});if(d){const h=ea(d,u),f={x:0,y:0},{scrollableAncestors:m}=r.current;for(const v of m){const w=e.code,{isTop:y,isRight:p,isLeft:x,isBottom:_,maxScroll:S,minScroll:E}=lw(v),C=XP(v),P={x:Math.min(w===ae.Right?C.right-C.width/2:C.right,Math.max(w===ae.Right?C.left:C.left+C.width/2,d.x)),y:Math.min(w===ae.Down?C.bottom-C.height/2:C.bottom,Math.max(w===ae.Down?C.top:C.top+C.height/2,d.y))},$=w===ae.Right&&!p||w===ae.Left&&!x,D=w===ae.Down&&!_||w===ae.Up&&!y;if($&&P.x!==d.x){const N=v.scrollLeft+h.x,U=w===ae.Right&&N<=S.x||w===ae.Left&&N>=E.x;if(U&&!h.y){v.scrollTo({left:N,behavior:a});return}U?f.x=v.scrollLeft-N:f.x=w===ae.Right?v.scrollLeft-S.x:v.scrollLeft-E.x,f.x&&v.scrollBy({left:-f.x,behavior:a});break}else if(D&&P.y!==d.y){const N=v.scrollTop+h.y,U=w===ae.Down&&N<=S.y||w===ae.Up&&N>=E.y;if(U&&!h.x){v.scrollTo({top:N,behavior:a});return}U?f.y=v.scrollTop-N:f.y=w===ae.Down?v.scrollTop-S.y:v.scrollTop-E.y,f.y&&v.scrollBy({top:-f.y,behavior:a});break}}this.handleMove(e,Gi(ea(d,this.referenceCoordinates),f))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Wf.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=uw,onActivation:i}=e,{active:s}=n;const{code:o}=t.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function hm(t){return!!(t&&"distance"in t)}function fm(t){return!!(t&&"delay"in t)}class qf{constructor(e,n,r){var i;r===void 0&&(r=eT(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:s}=e,{target:o}=s;this.props=e,this.events=n,this.document=Ss(o),this.documentListeners=new Co(this.document),this.listeners=new Co(r),this.windowListeners=new Co(jt(o)),this.initialCoordinates=(i=mh(s))!=null?i:hn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Wt.Resize,this.handleCancel),this.windowListeners.add(Wt.DragStart,dm),this.windowListeners.add(Wt.VisibilityChange,this.handleCancel),this.windowListeners.add(Wt.ContextMenu,dm),this.documentListeners.add(Wt.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fm(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(hm(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(Wt.Click,tT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Wt.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(n=mh(e))!=null?n:hn,c=ea(i,l);if(!r&&a){if(hm(a)){if(a.tolerance!=null&&Yu(c,a.tolerance))return this.handleCancel();if(Yu(c,a.distance))return this.handleStart()}if(fm(a)&&Yu(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===ae.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const rT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Yf extends qf{constructor(e){const{event:n}=e,r=Ss(n.target);super(e,rT,r)}}Yf.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const iT={move:{name:"mousemove"},end:{name:"mouseup"}};var vh;(function(t){t[t.RightClick=2]="RightClick"})(vh||(vh={}));class sT extends qf{constructor(e){super(e,iT,Ss(e.event.target))}}sT.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===vh.RightClick?!1:(r==null||r({event:n}),!0)}}];const Ku={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class oT extends qf{constructor(e){super(e,Ku)}static setup(){return window.addEventListener(Ku.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ku.move.name,e)};function e(){}}}oT.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Eo;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Eo||(Eo={}));var fc;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(fc||(fc={}));function aT(t){let{acceleration:e,activator:n=Eo.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=fc.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:d,threshold:h}=t;const f=cT({delta:d,disabled:!s}),[m,v]=xP(),w=b.useRef({x:0,y:0}),y=b.useRef({x:0,y:0}),p=b.useMemo(()=>{switch(n){case Eo.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Eo.DraggableRect:return i}},[n,i,l]),x=b.useRef(null),_=b.useCallback(()=>{const E=x.current;if(!E)return;const C=w.current.x*y.current.x,P=w.current.y*y.current.y;E.scrollBy(C,P)},[]),S=b.useMemo(()=>a===fc.TreeOrder?[...c].reverse():c,[a,c]);b.useEffect(()=>{if(!s||!c.length||!p){v();return}for(const E of S){if((r==null?void 0:r(E))===!1)continue;const C=c.indexOf(E),P=u[C];if(!P)continue;const{direction:$,speed:D}=KP(E,P,p,e,h);for(const N of["x","y"])f[N][$[N]]||(D[N]=0,$[N]=0);if(D.x>0||D.y>0){v(),x.current=E,m(_,o),w.current=D,y.current=$;return}}w.current={x:0,y:0},y.current={x:0,y:0},v()},[e,_,r,v,s,o,JSON.stringify(p),JSON.stringify(f),m,c,S,u,JSON.stringify(h)])}const lT={x:{[Je.Backward]:!1,[Je.Forward]:!1},y:{[Je.Backward]:!1,[Je.Forward]:!1}};function cT(t){let{delta:e,disabled:n}=t;const r=gh(e);return wa(i=>{if(n||!r||!i)return lT;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[Je.Backward]:i.x[Je.Backward]||s.x===-1,[Je.Forward]:i.x[Je.Forward]||s.x===1},y:{[Je.Backward]:i.y[Je.Backward]||s.y===-1,[Je.Forward]:i.y[Je.Forward]||s.y===1}}},[n,e,r])}function uT(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return wa(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function dT(t,e){return b.useMemo(()=>t.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,r)}));return[...n,...s]},[]),[t,e])}var na;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(na||(na={}));var xh;(function(t){t.Optimized="optimized"})(xh||(xh={}));const pm=new Map;function hT(t,e){let{dragging:n,dependencies:r,config:i}=e;const[s,o]=b.useState(null),{frequency:a,measure:l,strategy:c}=i,u=b.useRef(t),d=w(),h=Zo(d),f=b.useCallback(function(y){y===void 0&&(y=[]),!h.current&&o(p=>p===null?y:p.concat(y.filter(x=>!p.includes(x))))},[h]),m=b.useRef(null),v=wa(y=>{if(d&&!n)return pm;if(!y||y===pm||u.current!==t||s!=null){const p=new Map;for(let x of t){if(!x)continue;if(s&&s.length>0&&!s.includes(x.id)&&x.rect.current){p.set(x.id,x.rect.current);continue}const _=x.node.current,S=_?new Hf(l(_),_):null;x.rect.current=S,S&&p.set(x.id,S)}return p}return y},[t,s,n,d,l]);return b.useEffect(()=>{u.current=t},[t]),b.useEffect(()=>{d||f()},[n,d]),b.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),b.useEffect(()=>{d||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{f(),m.current=null},a))},[a,d,f,...r]),{droppableRects:v,measureDroppableContainers:f,measuringScheduled:s!=null};function w(){switch(c){case na.Always:return!1;case na.BeforeDragging:return n;default:return!n}}}function dw(t,e){return wa(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function fT(t,e){return dw(t,e)}function pT(t){let{callback:e,disabled:n}=t;const r=Uf(e),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function ru(t){let{callback:e,disabled:n}=t;const r=Uf(e),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function gT(t){return new Hf(ks(t),t)}function gm(t,e,n){e===void 0&&(e=gT);const[r,i]=b.useState(null);function s(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=pT({callback(l){if(t)for(const c of l){const{type:u,target:d}=c;if(u==="childList"&&d instanceof HTMLElement&&d.contains(t)){s();break}}}}),a=ru({callback:s});return Tn(()=>{s(),t?(a==null||a.observe(t),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),o==null||o.disconnect())},[t]),r}function mT(t){const e=dw(t);return rw(t,e)}const mm=[];function yT(t){const e=b.useRef(t),n=wa(r=>t?r&&r!==mm&&t&&e.current&&t.parentNode===e.current.parentNode?r:nu(t):mm,[t]);return b.useEffect(()=>{e.current=t},[t]),n}function vT(t){const[e,n]=b.useState(null),r=b.useRef(t),i=b.useCallback(s=>{const o=qu(s.target);o&&n(a=>a?(a.set(o,yh(o)),new Map(a)):null)},[]);return b.useEffect(()=>{const s=r.current;if(t!==s){o(s);const a=t.map(l=>{const c=qu(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,yh(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const c=qu(l);c==null||c.removeEventListener("scroll",i)})}},[i,t]),b.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Gi(s,o),hn):cw(t):hn,[t,e])}function ym(t,e){e===void 0&&(e=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},e),b.useEffect(()=>{const r=t!==hn;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?ea(t,n.current):hn}function xT(t){b.useEffect(()=>{if(!tu)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function wT(t,e){return b.useMemo(()=>t.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,e)},n},{}),[t,e])}function hw(t){return b.useMemo(()=>t?HP(t):null,[t])}const vm=[];function bT(t,e){e===void 0&&(e=ks);const[n]=t,r=hw(n?jt(n):null),[i,s]=b.useState(vm);function o(){s(()=>t.length?t.map(l=>aw(l)?r:new Hf(e(l),l)):vm)}const a=ru({callback:o});return Tn(()=>{a==null||a.disconnect(),o(),t.forEach(l=>a==null?void 0:a.observe(l))},[t]),i}function _T(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return xa(e)?e:t}function ST(t){let{measure:e}=t;const[n,r]=b.useState(null),i=b.useCallback(c=>{for(const{target:u}of c)if(xa(u)){r(d=>{const h=e(u);return d?{...d,width:h.width,height:h.height}:h});break}},[e]),s=ru({callback:i}),o=b.useCallback(c=>{const u=_T(c);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?e(u):null)},[e,s]),[a,l]=dc(o);return b.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const kT=[{sensor:Yf,options:{}},{sensor:Wf,options:{}}],CT={current:{}},El={draggable:{measure:um},droppable:{measure:um,strategy:na.WhileDragging,frequency:xh.Optimized},dragOverlay:{measure:ks}};class Po extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const ET={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Po,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:hc},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:El,measureDroppableContainers:hc,windowRect:null,measuringScheduled:!1},PT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:hc,draggableNodes:new Map,over:null,measureDroppableContainers:hc},iu=b.createContext(PT),fw=b.createContext(ET);function TT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Po}}}function jT(t,e){switch(e.type){case Ue.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ue.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ue.DragEnd:case Ue.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ue.RegisterDroppable:{const{element:n}=e,{id:r}=n,i=new Po(t.droppable.containers);return i.set(r,n),{...t,droppable:{...t.droppable,containers:i}}}case Ue.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new Po(t.droppable.containers);return o.set(n,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Ue.UnregisterDroppable:{const{id:n,key:r}=e,i=t.droppable.containers.get(n);if(!i||r!==i.key)return t;const s=new Po(t.droppable.containers);return s.delete(n),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function OT(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:i}=b.useContext(iu),s=gh(r),o=gh(n==null?void 0:n.id);return b.useEffect(()=>{if(!e&&!r&&s&&o!=null){if(!Vf(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const d=_P(u);if(d){d.focus();break}}})}},[r,e,i,o,s]),null}function MT(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...r}),n):n}function RT(t){return b.useMemo(()=>({draggable:{...El.draggable,...t==null?void 0:t.draggable},droppable:{...El.droppable,...t==null?void 0:t.droppable},dragOverlay:{...El.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function DT(t){let{activeNode:e,measure:n,initialRect:r,config:i=!0}=t;const s=b.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Tn(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!r)return;const c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;const u=n(c),d=rw(u,r);if(o||(d.x=0),a||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const h=iw(c);h&&h.scrollBy({top:d.y,left:d.x})}},[e,o,a,r,n])}const pw=b.createContext({...hn,scaleX:1,scaleY:1});var fr;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(fr||(fr={}));const AT=b.memo(function(e){var n,r,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=kT,collisionDetection:d=IP,measuring:h,modifiers:f,...m}=e;const v=b.useReducer(jT,void 0,TT),[w,y]=v,[p,x]=TP(),[_,S]=b.useState(fr.Uninitialized),E=_===fr.Initialized,{draggable:{active:C,nodes:P,translate:$},droppable:{containers:D}}=w,N=C!=null?P.get(C):null,U=b.useRef({initial:null,translated:null}),V=b.useMemo(()=>{var rt;return C!=null?{id:C,data:(rt=N==null?void 0:N.data)!=null?rt:CT,rect:U}:null},[C,N]),O=b.useRef(null),[M,R]=b.useState(null),[L,T]=b.useState(null),I=Zo(m,Object.values(m)),F=ba("DndDescribedBy",o),X=b.useMemo(()=>D.getEnabled(),[D]),K=RT(h),{droppableRects:Z,measureDroppableContainers:ee,measuringScheduled:ue}=hT(X,{dragging:E,dependencies:[$.x,$.y],config:K.droppable}),re=uT(P,C),Le=b.useMemo(()=>L?mh(L):null,[L]),nt=gb(),Re=fT(re,K.draggable.measure);DT({activeNode:C!=null?P.get(C):null,config:nt.layoutShiftCompensation,initialRect:Re,measure:K.draggable.measure});const Q=gm(re,K.draggable.measure,Re),Ye=gm(re?re.parentElement:null),Fe=b.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ot=D.getNodeFor((n=Fe.current.over)==null?void 0:n.id),Ut=ST({measure:K.dragOverlay.measure}),tr=(r=Ut.nodeRef.current)!=null?r:re,jn=E?(i=Ut.rect)!=null?i:Q:null,Es=!!(Ut.nodeRef.current&&Ut.rect),ka=mT(Es?null:Q),Ps=hw(tr?jt(tr):null),On=yT(E?Ot??re:null),Vr=bT(On),k=MT(f,{transform:{x:$.x-ka.x,y:$.y-ka.y,scaleX:1,scaleY:1},activatorEvent:L,active:V,activeNodeRect:Q,containerNodeRect:Ye,draggingNodeRect:jn,over:Fe.current.over,overlayNodeRect:Ut.rect,scrollableAncestors:On,scrollableAncestorRects:Vr,windowRect:Ps}),j=Le?Gi(Le,$):null,A=vT(On),W=ym(A),H=ym(A,[Q]),z=Gi(k,W),q=jn?zP(jn,k):null,ne=V&&q?d({active:V,collisionRect:q,droppableRects:Z,droppableContainers:X,pointerCoordinates:j}):null,ke=nw(ne,"id"),[ve,Ca]=b.useState(null),Ts=Es?k:Gi(k,H),js=$P(Ts,(s=ve==null?void 0:ve.rect)!=null?s:null,Q),Os=b.useRef(null),Ms=b.useCallback((rt,Mt)=>{let{sensor:Rt,options:nr}=Mt;if(O.current==null)return;const Vt=P.get(O.current);if(!Vt)return;const Dt=rt.nativeEvent,pn=new Rt({active:O.current,activeNode:Vt,event:Dt,options:nr,context:Fe,onAbort(Qe){if(!P.get(Qe))return;const{onDragAbort:gn}=I.current,Mn={id:Qe};gn==null||gn(Mn),p({type:"onDragAbort",event:Mn})},onPending(Qe,rr,gn,Mn){if(!P.get(Qe))return;const{onDragPending:As}=I.current,ir={id:Qe,constraint:rr,initialCoordinates:gn,offset:Mn};As==null||As(ir),p({type:"onDragPending",event:ir})},onStart(Qe){const rr=O.current;if(rr==null)return;const gn=P.get(rr);if(!gn)return;const{onDragStart:Mn}=I.current,Ds={activatorEvent:Dt,active:{id:rr,data:gn.data,rect:U}};Vi.unstable_batchedUpdates(()=>{Mn==null||Mn(Ds),S(fr.Initializing),y({type:Ue.DragStart,initialCoordinates:Qe,active:rr}),p({type:"onDragStart",event:Ds}),R(Os.current),T(Dt)})},onMove(Qe){y({type:Ue.DragMove,coordinates:Qe})},onEnd:_i(Ue.DragEnd),onCancel:_i(Ue.DragCancel)});Os.current=pn;function _i(Qe){return async function(){const{active:gn,collisions:Mn,over:Ds,scrollAdjustedTranslate:As}=Fe.current;let ir=null;if(gn&&As){const{cancelDrop:Ns}=I.current;ir={activatorEvent:Dt,active:gn,collisions:Mn,delta:As,over:Ds},Qe===Ue.DragEnd&&typeof Ns=="function"&&await Promise.resolve(Ns(ir))&&(Qe=Ue.DragCancel)}O.current=null,Vi.unstable_batchedUpdates(()=>{y({type:Qe}),S(fr.Uninitialized),Ca(null),R(null),T(null),Os.current=null;const Ns=Qe===Ue.DragEnd?"onDragEnd":"onDragCancel";if(ir){const cu=I.current[Ns];cu==null||cu(ir),p({type:Ns,event:ir})}})}}},[P]),lu=b.useCallback((rt,Mt)=>(Rt,nr)=>{const Vt=Rt.nativeEvent,Dt=P.get(nr);if(O.current!==null||!Dt||Vt.dndKit||Vt.defaultPrevented)return;const pn={active:Dt};rt(Rt,Mt.options,pn)===!0&&(Vt.dndKit={capturedBy:Mt.sensor},O.current=nr,Ms(Rt,Mt))},[P,Ms]),Rs=dT(u,lu);xT(u),Tn(()=>{Q&&_===fr.Initializing&&S(fr.Initialized)},[Q,_]),b.useEffect(()=>{const{onDragMove:rt}=I.current,{active:Mt,activatorEvent:Rt,collisions:nr,over:Vt}=Fe.current;if(!Mt||!Rt)return;const Dt={active:Mt,activatorEvent:Rt,collisions:nr,delta:{x:z.x,y:z.y},over:Vt};Vi.unstable_batchedUpdates(()=>{rt==null||rt(Dt),p({type:"onDragMove",event:Dt})})},[z.x,z.y]),b.useEffect(()=>{const{active:rt,activatorEvent:Mt,collisions:Rt,droppableContainers:nr,scrollAdjustedTranslate:Vt}=Fe.current;if(!rt||O.current==null||!Mt||!Vt)return;const{onDragOver:Dt}=I.current,pn=nr.get(ke),_i=pn&&pn.rect.current?{id:pn.id,rect:pn.rect.current,data:pn.data,disabled:pn.disabled}:null,Qe={active:rt,activatorEvent:Mt,collisions:Rt,delta:{x:Vt.x,y:Vt.y},over:_i};Vi.unstable_batchedUpdates(()=>{Ca(_i),Dt==null||Dt(Qe),p({type:"onDragOver",event:Qe})})},[ke]),Tn(()=>{Fe.current={activatorEvent:L,active:V,activeNode:re,collisionRect:q,collisions:ne,droppableRects:Z,draggableNodes:P,draggingNode:tr,draggingNodeRect:jn,droppableContainers:D,over:ve,scrollableAncestors:On,scrollAdjustedTranslate:z},U.current={initial:jn,translated:q}},[V,re,ne,q,P,tr,jn,Z,D,ve,On,z]),aT({...nt,delta:$,draggingRect:q,pointerCoordinates:j,scrollableAncestors:On,scrollableAncestorRects:Vr});const fb=b.useMemo(()=>({active:V,activeNode:re,activeNodeRect:Q,activatorEvent:L,collisions:ne,containerNodeRect:Ye,dragOverlay:Ut,draggableNodes:P,droppableContainers:D,droppableRects:Z,over:ve,measureDroppableContainers:ee,scrollableAncestors:On,scrollableAncestorRects:Vr,measuringConfiguration:K,measuringScheduled:ue,windowRect:Ps}),[V,re,Q,L,ne,Ye,Ut,P,D,Z,ve,ee,On,Vr,K,ue,Ps]),pb=b.useMemo(()=>({activatorEvent:L,activators:Rs,active:V,activeNodeRect:Q,ariaDescribedById:{draggable:F},dispatch:y,draggableNodes:P,over:ve,measureDroppableContainers:ee}),[L,Rs,V,Q,y,F,P,ve,ee]);return de.createElement(Zx.Provider,{value:x},de.createElement(iu.Provider,{value:pb},de.createElement(fw.Provider,{value:fb},de.createElement(pw.Provider,{value:js},c)),de.createElement(OT,{disabled:(a==null?void 0:a.restoreFocus)===!1})),de.createElement(MP,{...a,hiddenTextDescribedById:F}));function gb(){const rt=(M==null?void 0:M.autoScrollEnabled)===!1,Mt=typeof l=="object"?l.enabled===!1:l===!1,Rt=E&&!rt&&!Mt;return typeof l=="object"?{...l,enabled:Rt}:{enabled:Rt}}}),NT=b.createContext(null),xm="button",LT="Draggable";function IT(t){let{id:e,data:n,disabled:r=!1,attributes:i}=t;const s=ba(LT),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:d,over:h}=b.useContext(iu),{role:f=xm,roleDescription:m="draggable",tabIndex:v=0}=i??{},w=(l==null?void 0:l.id)===e,y=b.useContext(w?pw:NT),[p,x]=dc(),[_,S]=dc(),E=wT(o,e),C=Zo(n);Tn(()=>(d.set(e,{id:e,key:s,node:p,activatorNode:_,data:C}),()=>{const $=d.get(e);$&&$.key===s&&d.delete(e)}),[d,e]);const P=b.useMemo(()=>({role:f,tabIndex:v,"aria-disabled":r,"aria-pressed":w&&f===xm?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,f,v,w,m,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:P,isDragging:w,listeners:r?void 0:E,node:p,over:h,setNodeRef:x,setActivatorNodeRef:S,transform:y}}function $T(){return b.useContext(fw)}const FT="Droppable",zT={timeout:25};function BT(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:i}=t;const s=ba(FT),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=b.useContext(iu),u=b.useRef({disabled:n}),d=b.useRef(!1),h=b.useRef(null),f=b.useRef(null),{disabled:m,updateMeasurementsFor:v,timeout:w}={...zT,...i},y=Zo(v??r),p=b.useCallback(()=>{if(!d.current){d.current=!0;return}f.current!=null&&clearTimeout(f.current),f.current=setTimeout(()=>{c(Array.isArray(y.current)?y.current:[y.current]),f.current=null},w)},[w]),x=ru({callback:p,disabled:m||!o}),_=b.useCallback((P,$)=>{x&&($&&(x.unobserve($),d.current=!1),P&&x.observe(P))},[x]),[S,E]=dc(_),C=Zo(e);return b.useEffect(()=>{!x||!S.current||(x.disconnect(),d.current=!1,x.observe(S.current))},[S,x]),b.useEffect(()=>(a({type:Ue.RegisterDroppable,element:{id:r,key:s,disabled:n,node:S,rect:h,data:C}}),()=>a({type:Ue.UnregisterDroppable,key:s,id:r})),[r]),b.useEffect(()=>{n!==u.current.disabled&&(a({type:Ue.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,a]),{active:o,rect:h,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:E}}function gw(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function UT(t,e){return t.reduce((n,r,i)=>{const s=e.get(r);return s&&(n[i]=s),n},Array(t.length))}function Xa(t){return t!==null&&t>=0}function VT(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function HT(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const mw=t=>{let{rects:e,activeIndex:n,overIndex:r,index:i}=t;const s=gw(e,r,n),o=e[i],a=s[i];return!a||!o?null:{x:a.left-o.left,y:a.top-o.top,scaleX:a.width/o.width,scaleY:a.height/o.height}},Ja={scaleX:1,scaleY:1},WT=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=t;const a=(e=s[n])!=null?e:r;if(!a)return null;if(i===n){const c=s[o];return c?{x:0,y:n<o?c.top+c.height-(a.top+a.height):c.top-a.top,...Ja}:null}const l=qT(s,i,n);return i>n&&i<=o?{x:0,y:-a.height-l,...Ja}:i<n&&i>=o?{x:0,y:a.height+l,...Ja}:{x:0,y:0,...Ja}};function qT(t,e,n){const r=t[e],i=t[e-1],s=t[e+1];return r?n<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const yw="Sortable",vw=de.createContext({activeIndex:-1,containerId:yw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mw,disabled:{draggable:!1,droppable:!1}});function YT(t){let{children:e,id:n,items:r,strategy:i=mw,disabled:s=!1}=t;const{active:o,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=$T(),d=ba(yw,n),h=a.rect!==null,f=b.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),m=o!=null,v=o?f.indexOf(o.id):-1,w=c?f.indexOf(c.id):-1,y=b.useRef(f),p=!VT(f,y.current),x=w!==-1&&v===-1||p,_=HT(s);Tn(()=>{p&&m&&u(f)},[p,f,m,u]),b.useEffect(()=>{y.current=f},[f]);const S=b.useMemo(()=>({activeIndex:v,containerId:d,disabled:_,disableTransforms:x,items:f,overIndex:w,useDragOverlay:h,sortedRects:UT(f,l),strategy:i}),[v,d,_.draggable,_.droppable,x,f,w,l,h,i]);return de.createElement(vw.Provider,{value:S},e)}const KT=t=>{let{id:e,items:n,activeIndex:r,overIndex:i}=t;return gw(n,r,i).indexOf(e)},XT=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:a,previousContainerId:l,transition:c}=t;return!c||!r||a!==s&&i===o?!1:n?!0:o!==i&&e===l},JT={duration:200,easing:"ease"},xw="transform",GT=ta.Transition.toString({property:xw,duration:0,easing:"linear"}),QT={roleDescription:"sortable"};function ZT(t){let{disabled:e,index:n,node:r,rect:i}=t;const[s,o]=b.useState(null),a=b.useRef(n);return Tn(()=>{if(!e&&n!==a.current&&r.current){const l=i.current;if(l){const c=ks(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&o(u)}}n!==a.current&&(a.current=n)},[e,n,r,i]),b.useEffect(()=>{s&&o(null)},[s]),s}function ej(t){let{animateLayoutChanges:e=XT,attributes:n,disabled:r,data:i,getNewIndex:s=KT,id:o,strategy:a,resizeObserverConfig:l,transition:c=JT}=t;const{items:u,containerId:d,activeIndex:h,disabled:f,disableTransforms:m,sortedRects:v,overIndex:w,useDragOverlay:y,strategy:p}=b.useContext(vw),x=tj(r,f),_=u.indexOf(o),S=b.useMemo(()=>({sortable:{containerId:d,index:_,items:u},...i}),[d,i,_,u]),E=b.useMemo(()=>u.slice(u.indexOf(o)),[u,o]),{rect:C,node:P,isOver:$,setNodeRef:D}=BT({id:o,data:S,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...l}}),{active:N,activatorEvent:U,activeNodeRect:V,attributes:O,setNodeRef:M,listeners:R,isDragging:L,over:T,setActivatorNodeRef:I,transform:F}=IT({id:o,data:S,attributes:{...QT,...n},disabled:x.draggable}),X=vP(D,M),K=!!N,Z=K&&!m&&Xa(h)&&Xa(w),ee=!y&&L,ue=ee&&Z?F:null,Le=Z?ue??(a??p)({rects:v,activeNodeRect:V,activeIndex:h,overIndex:w,index:_}):null,nt=Xa(h)&&Xa(w)?s({id:o,items:u,activeIndex:h,overIndex:w}):_,Re=N==null?void 0:N.id,Q=b.useRef({activeId:Re,items:u,newIndex:nt,containerId:d}),Ye=u!==Q.current.items,Fe=e({active:N,containerId:d,isDragging:L,isSorting:K,id:o,index:_,items:u,newIndex:Q.current.newIndex,previousItems:Q.current.items,previousContainerId:Q.current.containerId,transition:c,wasDragging:Q.current.activeId!=null}),Ot=ZT({disabled:!Fe,index:_,node:P,rect:C});return b.useEffect(()=>{K&&Q.current.newIndex!==nt&&(Q.current.newIndex=nt),d!==Q.current.containerId&&(Q.current.containerId=d),u!==Q.current.items&&(Q.current.items=u)},[K,nt,d,u]),b.useEffect(()=>{if(Re===Q.current.activeId)return;if(Re&&!Q.current.activeId){Q.current.activeId=Re;return}const tr=setTimeout(()=>{Q.current.activeId=Re},50);return()=>clearTimeout(tr)},[Re]),{active:N,activeIndex:h,attributes:O,data:S,rect:C,index:_,newIndex:nt,items:u,isOver:$,isSorting:K,isDragging:L,listeners:R,node:P,overIndex:w,over:T,setNodeRef:X,setActivatorNodeRef:I,setDroppableNodeRef:D,setDraggableNodeRef:M,transform:Ot??Le,transition:Ut()};function Ut(){if(Ot||Ye&&Q.current.newIndex===_)return GT;if(!(ee&&!Vf(U)||!c)&&(K||Fe))return ta.Transition.toString({...c,property:xw})}}function tj(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function pc(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const nj=[ae.Down,ae.Right,ae.Up,ae.Left],rj=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:a}}=e;if(nj.includes(t.code)){if(t.preventDefault(),!n||!r)return;const l=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;const h=i.get(d.id);if(h)switch(t.code){case ae.Down:r.top<h.top&&l.push(d);break;case ae.Up:r.top>h.top&&l.push(d);break;case ae.Left:r.left>h.left&&l.push(d);break;case ae.Right:r.left<h.left&&l.push(d);break}});const c=NP({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let u=nw(c,"id");if(u===(o==null?void 0:o.id)&&c.length>1&&(u=c[1].id),u!=null){const d=s.get(n.id),h=s.get(u),f=h?i.get(h.id):null,m=h==null?void 0:h.node.current;if(m&&f&&d&&h){const w=nu(m).some((E,C)=>a[C]!==E),y=ww(d,h),p=ij(d,h),x=w||!y?{x:0,y:0}:{x:p?r.width-f.width:0,y:p?r.height-f.height:0},_={x:f.left,y:f.top};return x.x&&x.y?_:ea(_,x)}}}};function ww(t,e){return!pc(t)||!pc(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function ij(t,e){return!pc(t)||!pc(e)||!ww(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const sj=px((t,e)=>({conversations:[],loading:!1,error:null,setConversations:n=>t({conversations:n}),fetchConversations:async()=>{t({loading:!0,error:null});try{const{data:n,error:r}=await We.from("conversations").select("*").order("last_message_time",{ascending:!1});if(r)throw r;t({conversations:n})}catch(n){t({error:n.message}),console.error("Error fetching conversations:",n)}finally{t({loading:!1})}},moveConversation:(n,r)=>{t(i=>{const s=i.conversations.findIndex(a=>a.id===n);if(s===-1)return i;const o=[...i.conversations];return o[s]={...o[s],status:r},{conversations:o}})}}));var bw={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Tt,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",d="month",h="quarter",f="year",m="date",v="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var M=["th","st","nd","rd"],R=O%100;return"["+O+(M[(R-20)%10]||M[R]||M[0])+"]"}},x=function(O,M,R){var L=String(O);return!L||L.length>=M?O:""+Array(M+1-L.length).join(R)+O},_={s:x,z:function(O){var M=-O.utcOffset(),R=Math.abs(M),L=Math.floor(R/60),T=R%60;return(M<=0?"+":"-")+x(L,2,"0")+":"+x(T,2,"0")},m:function O(M,R){if(M.date()<R.date())return-O(R,M);var L=12*(R.year()-M.year())+(R.month()-M.month()),T=M.clone().add(L,d),I=R-T<0,F=M.clone().add(L+(I?-1:1),d);return+(-(L+(R-T)/(I?T-F:F-T))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:d,y:f,w:u,d:c,D:m,h:l,m:a,s:o,ms:s,Q:h}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},S="en",E={};E[S]=p;var C="$isDayjsObject",P=function(O){return O instanceof U||!(!O||!O[C])},$=function O(M,R,L){var T;if(!M)return S;if(typeof M=="string"){var I=M.toLowerCase();E[I]&&(T=I),R&&(E[I]=R,T=I);var F=M.split("-");if(!T&&F.length>1)return O(F[0])}else{var X=M.name;E[X]=M,T=X}return!L&&T&&(S=T),T||!L&&S},D=function(O,M){if(P(O))return O.clone();var R=typeof M=="object"?M:{};return R.date=O,R.args=arguments,new U(R)},N=_;N.l=$,N.i=P,N.w=function(O,M){return D(O,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var U=function(){function O(R){this.$L=$(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[C]=!0}var M=O.prototype;return M.parse=function(R){this.$d=function(L){var T=L.date,I=L.utc;if(T===null)return new Date(NaN);if(N.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var F=T.match(w);if(F){var X=F[2]-1||0,K=(F[7]||"0").substring(0,3);return I?new Date(Date.UTC(F[1],X,F[3]||1,F[4]||0,F[5]||0,F[6]||0,K)):new Date(F[1],X,F[3]||1,F[4]||0,F[5]||0,F[6]||0,K)}}return new Date(T)}(R),this.init()},M.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},M.$utils=function(){return N},M.isValid=function(){return this.$d.toString()!==v},M.isSame=function(R,L){var T=D(R);return this.startOf(L)<=T&&T<=this.endOf(L)},M.isAfter=function(R,L){return D(R)<this.startOf(L)},M.isBefore=function(R,L){return this.endOf(L)<D(R)},M.$g=function(R,L,T){return N.u(R)?this[L]:this.set(T,R)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(R,L){var T=this,I=!!N.u(L)||L,F=N.p(R),X=function(Re,Q){var Ye=N.w(T.$u?Date.UTC(T.$y,Q,Re):new Date(T.$y,Q,Re),T);return I?Ye:Ye.endOf(c)},K=function(Re,Q){return N.w(T.toDate()[Re].apply(T.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(Q)),T)},Z=this.$W,ee=this.$M,ue=this.$D,re="set"+(this.$u?"UTC":"");switch(F){case f:return I?X(1,0):X(31,11);case d:return I?X(1,ee):X(0,ee+1);case u:var Le=this.$locale().weekStart||0,nt=(Z<Le?Z+7:Z)-Le;return X(I?ue-nt:ue+(6-nt),ee);case c:case m:return K(re+"Hours",0);case l:return K(re+"Minutes",1);case a:return K(re+"Seconds",2);case o:return K(re+"Milliseconds",3);default:return this.clone()}},M.endOf=function(R){return this.startOf(R,!1)},M.$set=function(R,L){var T,I=N.p(R),F="set"+(this.$u?"UTC":""),X=(T={},T[c]=F+"Date",T[m]=F+"Date",T[d]=F+"Month",T[f]=F+"FullYear",T[l]=F+"Hours",T[a]=F+"Minutes",T[o]=F+"Seconds",T[s]=F+"Milliseconds",T)[I],K=I===c?this.$D+(L-this.$W):L;if(I===d||I===f){var Z=this.clone().set(m,1);Z.$d[X](K),Z.init(),this.$d=Z.set(m,Math.min(this.$D,Z.daysInMonth())).$d}else X&&this.$d[X](K);return this.init(),this},M.set=function(R,L){return this.clone().$set(R,L)},M.get=function(R){return this[N.p(R)]()},M.add=function(R,L){var T,I=this;R=Number(R);var F=N.p(L),X=function(ee){var ue=D(I);return N.w(ue.date(ue.date()+Math.round(ee*R)),I)};if(F===d)return this.set(d,this.$M+R);if(F===f)return this.set(f,this.$y+R);if(F===c)return X(1);if(F===u)return X(7);var K=(T={},T[a]=r,T[l]=i,T[o]=n,T)[F]||1,Z=this.$d.getTime()+R*K;return N.w(Z,this)},M.subtract=function(R,L){return this.add(-1*R,L)},M.format=function(R){var L=this,T=this.$locale();if(!this.isValid())return T.invalidDate||v;var I=R||"YYYY-MM-DDTHH:mm:ssZ",F=N.z(this),X=this.$H,K=this.$m,Z=this.$M,ee=T.weekdays,ue=T.months,re=T.meridiem,Le=function(Q,Ye,Fe,Ot){return Q&&(Q[Ye]||Q(L,I))||Fe[Ye].slice(0,Ot)},nt=function(Q){return N.s(X%12||12,Q,"0")},Re=re||function(Q,Ye,Fe){var Ot=Q<12?"AM":"PM";return Fe?Ot.toLowerCase():Ot};return I.replace(y,function(Q,Ye){return Ye||function(Fe){switch(Fe){case"YY":return String(L.$y).slice(-2);case"YYYY":return N.s(L.$y,4,"0");case"M":return Z+1;case"MM":return N.s(Z+1,2,"0");case"MMM":return Le(T.monthsShort,Z,ue,3);case"MMMM":return Le(ue,Z);case"D":return L.$D;case"DD":return N.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return Le(T.weekdaysMin,L.$W,ee,2);case"ddd":return Le(T.weekdaysShort,L.$W,ee,3);case"dddd":return ee[L.$W];case"H":return String(X);case"HH":return N.s(X,2,"0");case"h":return nt(1);case"hh":return nt(2);case"a":return Re(X,K,!0);case"A":return Re(X,K,!1);case"m":return String(K);case"mm":return N.s(K,2,"0");case"s":return String(L.$s);case"ss":return N.s(L.$s,2,"0");case"SSS":return N.s(L.$ms,3,"0");case"Z":return F}return null}(Q)||F.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(R,L,T){var I,F=this,X=N.p(L),K=D(R),Z=(K.utcOffset()-this.utcOffset())*r,ee=this-K,ue=function(){return N.m(F,K)};switch(X){case f:I=ue()/12;break;case d:I=ue();break;case h:I=ue()/3;break;case u:I=(ee-Z)/6048e5;break;case c:I=(ee-Z)/864e5;break;case l:I=ee/i;break;case a:I=ee/r;break;case o:I=ee/n;break;default:I=ee}return T?I:N.a(I)},M.daysInMonth=function(){return this.endOf(d).$D},M.$locale=function(){return E[this.$L]},M.locale=function(R,L){if(!R)return this.$L;var T=this.clone(),I=$(R,L,!0);return I&&(T.$L=I),T},M.clone=function(){return N.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},O}(),V=U.prototype;return D.prototype=V,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",d],["$y",f],["$D",m]].forEach(function(O){V[O[1]]=function(M){return this.$g(M,O[0],O[1])}}),D.extend=function(O,M){return O.$i||(O(M,U,D),O.$i=!0),D},D.locale=$,D.isDayjs=P,D.unix=function(O){return D(1e3*O)},D.en=E[S],D.Ls=E,D.p={},D})})(bw);var oj=bw.exports;const gc=Cc(oj);var _w={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Tt,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,u,d,h){return s.fromToBase(c,u,d,h)}i.en.relativeTime=o,s.fromToBase=function(c,u,d,h,f){for(var m,v,w,y=d.$locale().relativeTime||o,p=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],x=p.length,_=0;_<x;_+=1){var S=p[_];S.d&&(m=h?i(c).diff(d,S.d,!0):d.diff(c,S.d,!0));var E=(n.rounding||Math.round)(Math.abs(m));if(w=m>0,E<=S.r||!S.r){E<=1&&_>0&&(S=p[_-1]);var C=y[S.l];f&&(E=f(""+E)),v=typeof C=="string"?C.replace("%d",E):C(E,u,S.l,w);break}}if(u)return v;var P=w?y.future:y.past;return typeof P=="function"?P(v):P.replace("%s",v)},s.to=function(c,u){return a(c,u,this,!0)},s.from=function(c,u){return a(c,u,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(_w);var aj=_w.exports;const lj=Cc(aj);gc.extend(lj);const cj=t=>gc(t).fromNow(),uj=t=>{const e=gc(t),n=gc();return e.isSame(n,"day")?e.format("HH:mm"):e.isSame(n.subtract(1,"day"),"day")?"Yesterday "+e.format("HH:mm"):e.isSame(n,"year")?e.format("MMM D, HH:mm"):e.format("MMM D, YYYY HH:mm")},dj=({conversation:t,onClose:e})=>{const[n,r]=b.useState([]),[i,s]=b.useState(!0),[o,a]=b.useState(""),[l,c]=b.useState(!1),{user:u,profile:d}=er();b.useEffect(()=>{(async()=>{try{const{data:v,error:w}=await We.from("messages").select("*").eq("conversation_id",t.id).order("created_at",{ascending:!0});if(w)throw w;r(v||[])}catch(v){console.error("Error fetching messages:",v)}finally{s(!1)}})();const m=We.channel(`conversation:${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${t.id}`},v=>{r(w=>[...w,v.new])}).subscribe();return()=>{m.unsubscribe()}},[t.id]);const h=async f=>{if(f.preventDefault(),!(!o.trim()||!u)){c(!0);try{const{error:m}=await We.from("messages").insert({conversation_id:t.id,content:o.trim(),sender_type:"staff",sender_id:u.id});if(m)throw m;a(""),await We.from("conversations").update({last_message:o.trim(),last_message_time:new Date().toISOString(),human_handled_count:t.human_handled_count+1}).eq("id",t.id)}catch(m){console.error("Error sending message:",m)}finally{c(!1)}}};return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl h-[80vh] flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{onClick:e,className:"mr-2 text-gray-500 hover:text-gray-700 md:hidden",children:g.jsx(ME,{className:"h-5 w-5"})}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 mr-3",children:g.jsx(Nf,{className:"h-6 w-6"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-gray-800",children:t.customer_name}),g.jsx("p",{className:"text-sm text-gray-500",children:t.customer_phone})]})]})]}),g.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 hidden md:block",children:g.jsx(Bx,{className:"h-5 w-5"})})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:i?g.jsx("div",{className:"flex justify-center items-center h-full",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):n.length===0?g.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:g.jsx("p",{children:"No messages yet"})}):g.jsx("div",{className:"space-y-3",children:n.map(f=>g.jsx("div",{className:`flex ${f.sender_type==="customer"?"justify-start":"justify-end"}`,children:g.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${f.sender_type==="customer"?"bg-gray-200 text-gray-800":f.sender_type==="ai"?"bg-blue-100 text-blue-800":"bg-[#1e88e5] text-white"}`,children:[g.jsx("div",{className:"text-sm",children:f.content}),g.jsx("div",{className:"text-xs mt-1 opacity-70",children:uj(f.created_at)})]})},f.id))})}),g.jsx("form",{onSubmit:h,className:"p-4 border-t",children:g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{type:"text",value:o,onChange:f=>a(f.target.value),placeholder:"Type your message...",className:"flex-1 border border-gray-300 rounded-l-lg py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:l}),g.jsxs("button",{type:"submit",className:"bg-[#1e88e5] text-white rounded-r-lg px-4 py-2 font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center disabled:opacity-70 disabled:bg-blue-400",disabled:l||!o.trim(),children:[l?g.jsx("div",{className:"h-5 w-5 border-t-2 border-b-2 border-white rounded-full animate-spin mr-2"}):g.jsx(qE,{className:"h-4 w-4 mr-2"}),"Send"]})]})})]})})},hj=({conversation:t})=>{const[e,n]=b.useState(!1),{user:r}=er(),[i,s]=b.useState(!1),{attributes:o,listeners:a,setNodeRef:l,transform:c,transition:u}=ej({id:t.id}),d={transform:ta.Transform.toString(c),transition:u},h=async()=>{if(r){s(!0);try{const{error:f}=await We.from("conversations").update({assigned_to:r.id,status:"waiting_human"}).eq("id",t.id);if(f)throw f;Lt.success("Conversation assigned to you")}catch(f){console.error("Error assigning conversation:",f),Lt.error("Failed to assign conversation")}finally{s(!1)}}};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{ref:l,style:d,...o,...a,className:"bg-white rounded-md shadow-sm border border-gray-200 p-3 cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 mr-2",children:g.jsx(Nf,{className:"h-4 w-4"})}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-medium text-gray-800",children:t.customer_name}),g.jsx("p",{className:"text-xs text-gray-500",children:t.customer_phone})]})]}),g.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[g.jsx(zx,{className:"h-3 w-3 mr-1"}),g.jsx("span",{children:cj(t.last_message_time)})]})]}),g.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:t.last_message}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex space-x-2",children:[g.jsxs("button",{onClick:()=>n(!0),className:"inline-flex items-center text-xs font-medium text-blue-600 hover:text-blue-800",children:[g.jsx(Qo,{className:"h-3 w-3 mr-1"}),"Details"]}),t.status==="in_progress"&&g.jsxs("button",{onClick:h,disabled:i,className:"inline-flex items-center text-xs font-medium text-green-600 hover:text-green-800 disabled:opacity-50",children:[g.jsx(VE,{className:"h-3 w-3 mr-1"}),i?"Assigning...":"Assign to me"]})]}),g.jsx("div",{className:`text-xs px-2 py-0.5 rounded-full ${t.status==="in_progress"?"bg-blue-100 text-blue-800":t.status==="waiting_human"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:t.status==="in_progress"?"AI Handling":t.status==="waiting_human"?"Human Needed":"Completed"})]})]}),e&&g.jsx(dj,{conversation:t,onClose:()=>n(!1)})]})},Xu=({id:t,title:e,conversations:n,colorClass:r,iconColorClass:i})=>g.jsxs("div",{className:`flex-1 flex flex-col ${r} border rounded-lg shadow-sm overflow-hidden`,children:[g.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(Qo,{className:`h-5 w-5 ${i} mr-2`}),g.jsx("h3",{className:"font-medium text-gray-800",children:e})]}),g.jsx("div",{className:"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded-full",children:n.length})]}),g.jsx("div",{className:"flex-1 p-2 overflow-y-auto max-h-[calc(100vh-250px)]",children:g.jsx(YT,{items:n.map(s=>s.id),strategy:WT,children:n.length>0?g.jsx("div",{className:"space-y-2",children:n.map(s=>g.jsx(hj,{conversation:s},s.id))}):g.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center text-gray-500",children:[g.jsx(Qo,{className:"h-8 w-8 mb-2 opacity-50"}),g.jsx("p",{children:"No conversations"})]})})})]}),Kf=()=>{const{conversations:t,setConversations:e,moveConversation:n,fetchConversations:r}=sj(),{user:i}=er(),[s,o]=b.useState(!0),a=RP(am(Yf),am(Wf,{coordinateGetter:rj}));b.useEffect(()=>{(async()=>{await r(),o(!1)})();const f=We.channel("conversations-changes").on("postgres_changes",{event:"*",schema:"public",table:"conversations"},m=>{if(m.eventType==="INSERT"){const v=m.new;e([...t,v]),Lt.success("New conversation received!",{icon:"🔔",position:"top-right"}),new Audio("/notification.mp3").play().catch(y=>console.error("Could not play notification sound:",y))}else if(m.eventType==="UPDATE")r();else if(m.eventType==="DELETE"){const v=m.old.id;e(t.filter(w=>w.id!==v))}}).subscribe();return()=>{f.unsubscribe()}},[r,e]);const l=async h=>{const{active:f,over:m}=h;if(!m)return;const v=f.id,w=m.id,y=t.find(p=>p.id===v);if(!(!y||y.status===w))try{n(v,w);const{error:p}=await We.from("conversations").update({status:w,assigned_to:(i==null?void 0:i.id)||null}).eq("id",v);if(p)throw p;Lt.success(`Conversation moved to ${w.replace("_"," ")}`)}catch(p){console.error("Error updating conversation status:",p),Lt.error("Failed to update conversation status"),r()}};if(s)return g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const c=t.filter(h=>h.status==="in_progress"),u=t.filter(h=>h.status==="waiting_human"),d=t.filter(h=>h.status==="completed");return g.jsx(AT,{sensors:a,collisionDetection:AP,onDragEnd:l,children:g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full",children:[g.jsx(Xu,{id:"in_progress",title:"In Progress (AI)",conversations:c,colorClass:"bg-blue-100 border-blue-300",iconColorClass:"text-blue-600"}),g.jsx(Xu,{id:"waiting_human",title:"Awaiting Human Service",conversations:u,colorClass:"bg-yellow-100 border-yellow-300",iconColorClass:"text-yellow-600"}),g.jsx(Xu,{id:"completed",title:"Completed",conversations:d,colorClass:"bg-green-100 border-green-300",iconColorClass:"text-green-600"})]})})},fj=()=>g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Conversations"}),g.jsx("p",{className:"text-gray-600",children:"Manage customer conversations and assist the AI agent"})]}),g.jsx(Kf,{})]}),pj=()=>g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prescription Conversations"}),g.jsx("p",{className:"text-gray-600",children:"Review prescription requests and provide consultations"})]}),g.jsx(Kf,{})]});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _a(t){return t+.5|0}const _r=(t,e,n)=>Math.max(Math.min(t,n),e);function ro(t){return _r(_a(t*2.55),0,255)}function Ar(t){return _r(_a(t*255),0,255)}function Bn(t){return _r(_a(t/2.55)/100,0,1)}function wm(t){return _r(_a(t*100),0,100)}const Ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wh=[..."0123456789ABCDEF"],gj=t=>wh[t&15],mj=t=>wh[(t&240)>>4]+wh[t&15],Ga=t=>(t&240)>>4===(t&15),yj=t=>Ga(t.r)&&Ga(t.g)&&Ga(t.b)&&Ga(t.a);function vj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Ht[t[1]]*17,g:255&Ht[t[2]]*17,b:255&Ht[t[3]]*17,a:e===5?Ht[t[4]]*17:255}:(e===7||e===9)&&(n={r:Ht[t[1]]<<4|Ht[t[2]],g:Ht[t[3]]<<4|Ht[t[4]],b:Ht[t[5]]<<4|Ht[t[6]],a:e===9?Ht[t[7]]<<4|Ht[t[8]]:255})),n}const xj=(t,e)=>t<255?e(t):"";function wj(t){var e=yj(t)?gj:mj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+xj(t.a,e):void 0}const bj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Sw(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function _j(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Sj(t,e,n){const r=Sw(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function kj(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Xf(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=kj(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function Jf(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ar)}function Gf(t,e,n){return Jf(Sw,t,e,n)}function Cj(t,e,n){return Jf(Sj,t,e,n)}function Ej(t,e,n){return Jf(_j,t,e,n)}function kw(t){return(t%360+360)%360}function Pj(t){const e=bj.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ro(+e[5]):Ar(+e[5]));const i=kw(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Cj(i,s,o):e[1]==="hsv"?r=Ej(i,s,o):r=Gf(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function Tj(t,e){var n=Xf(t);n[0]=kw(n[0]+e),n=Gf(n),t.r=n[0],t.g=n[1],t.b=n[2]}function jj(t){if(!t)return;const e=Xf(t),n=e[0],r=wm(e[1]),i=wm(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Bn(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const bm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_m={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Oj(){const t={},e=Object.keys(_m),n=Object.keys(bm);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,bm[s]);s=parseInt(_m[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Qa;function Mj(t){Qa||(Qa=Oj(),Qa.transparent=[0,0,0,0]);const e=Qa[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Rj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Dj(t){const e=Rj.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?ro(o):_r(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?ro(r):_r(r,0,255)),i=255&(e[4]?ro(i):_r(i,0,255)),s=255&(e[6]?ro(s):_r(s,0,255)),{r,g:i,b:s,a:n}}}function Aj(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ju=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ti=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Nj(t,e,n){const r=Ti(Bn(t.r)),i=Ti(Bn(t.g)),s=Ti(Bn(t.b));return{r:Ar(Ju(r+n*(Ti(Bn(e.r))-r))),g:Ar(Ju(i+n*(Ti(Bn(e.g))-i))),b:Ar(Ju(s+n*(Ti(Bn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Za(t,e,n){if(t){let r=Xf(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Gf(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Cw(t,e){return t&&Object.assign(e||{},t)}function Sm(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ar(t[3]))):(e=Cw(t,{r:0,g:0,b:0,a:1}),e.a=Ar(e.a)),e}function Lj(t){return t.charAt(0)==="r"?Dj(t):Pj(t)}class ra{constructor(e){if(e instanceof ra)return e;const n=typeof e;let r;n==="object"?r=Sm(e):n==="string"&&(r=vj(e)||Mj(e)||Lj(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Cw(this._rgb);return e&&(e.a=Bn(e.a)),e}set rgb(e){this._rgb=Sm(e)}rgbString(){return this._valid?Aj(this._rgb):void 0}hexString(){return this._valid?wj(this._rgb):void 0}hslString(){return this._valid?jj(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Nj(this._rgb,e._rgb,n)),this}clone(){return new ra(this.rgb)}alpha(e){return this._rgb.a=Ar(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=_a(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Za(this._rgb,2,e),this}darken(e){return Za(this._rgb,2,-e),this}saturate(e){return Za(this._rgb,1,e),this}desaturate(e){return Za(this._rgb,1,-e),this}rotate(e){return Tj(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function An(){}const Ij=(()=>{let t=0;return()=>t++})();function ge(t){return t==null}function Ve(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ce(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Zt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function yn(t,e){return Zt(t)?t:e}function ie(t,e){return typeof t>"u"?e:t}const $j=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Ew=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function he(t,e,n,r){let i,s,o;if(Ve(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(ce(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function mc(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function yc(t){if(Ve(t))return t.map(yc);if(ce(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=yc(t[n[i]]);return e}return t}function Pw(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Fj(t,e,n,r){if(!Pw(t))return;const i=e[t],s=n[t];ce(i)&&ce(s)?ia(i,s,r):e[t]=yc(s)}function ia(t,e,n){const r=Ve(e)?e:[e],i=r.length;if(!ce(t))return t;n=n||{};const s=n.merger||Fj;let o;for(let a=0;a<i;++a){if(o=r[a],!ce(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function To(t,e){return ia(t,e,{merger:zj})}function zj(t,e,n){if(!Pw(t))return;const r=e[t],i=n[t];ce(r)&&ce(i)?To(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=yc(i))}const km={"":t=>t,x:t=>t.x,y:t=>t.y};function Bj(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Uj(t){const e=Bj(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function gi(t,e){return(km[e]||(km[e]=Uj(e)))(t)}function Qf(t){return t.charAt(0).toUpperCase()+t.slice(1)}const sa=t=>typeof t<"u",Ir=t=>typeof t=="function",Cm=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Vj(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Me=Math.PI,Oe=2*Me,Hj=Oe+Me,vc=Number.POSITIVE_INFINITY,Wj=Me/180,qe=Me/2,qr=Me/4,Em=Me*2/3,bh=Math.log10,Pn=Math.sign;function jo(t,e,n){return Math.abs(t-e)<n}function Pm(t){const e=Math.round(t);t=jo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(bh(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function qj(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Yj(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function xc(t){return!Yj(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Kj(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Xj(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Hn(t){return t*(Me/180)}function Jj(t){return t*(180/Me)}function Tm(t){if(!Zt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Tw(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Me&&(s+=Oe),{angle:s,distance:i}}function _h(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Gj(t,e){return(t-e+Hj)%Oe-Me}function cr(t){return(t%Oe+Oe)%Oe}function oa(t,e,n,r){const i=cr(t),s=cr(e),o=cr(n),a=cr(s-i),l=cr(o-i),c=cr(i-s),u=cr(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function kt(t,e,n){return Math.max(e,Math.min(n,t))}function Qj(t){return kt(t,-32768,32767)}function Sr(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Zf(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Sh=(t,e,n,r)=>Zf(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Zj=(t,e,n)=>Zf(t,n,r=>t[r][e]>=n);function eO(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const jw=["push","pop","shift","splice","unshift"];function tO(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),jw.forEach(n=>{const r="_onData"+Qf(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function jm(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(jw.forEach(s=>{delete t[s]}),delete t._chartjs)}function Ow(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Mw=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Rw(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Mw.call(window,()=>{r=!1,t.apply(e,n)}))}}function nO(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const ep=t=>t==="start"?"left":t==="end"?"right":"center",at=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,rO=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,el=t=>t===0||t===1,Om=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Oe/n)),Mm=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Oe/n)+1,Oo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*qe)+1,easeOutSine:t=>Math.sin(t*qe),easeInOutSine:t=>-.5*(Math.cos(Me*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>el(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>el(t)?t:Om(t,.075,.3),easeOutElastic:t=>el(t)?t:Mm(t,.075,.3),easeInOutElastic(t){return el(t)?t:t<.5?.5*Om(t*2,.1125,.45):.5+.5*Mm(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Oo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Oo.easeInBounce(t*2)*.5:Oo.easeOutBounce(t*2-1)*.5+.5};function tp(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Rm(t){return tp(t)?t:new ra(t)}function Gu(t){return tp(t)?t:new ra(t).saturate(.5).darken(.1).hexString()}const iO=["x","y","borderWidth","radius","tension"],sO=["color","borderColor","backgroundColor"];function oO(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:sO},numbers:{type:"number",properties:iO}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function aO(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Dm=new Map;function lO(t,e){e=e||{};const n=t+JSON.stringify(e);let r=Dm.get(n);return r||(r=new Intl.NumberFormat(t,e),Dm.set(n,r)),r}function np(t,e,n){return lO(e,n).format(t)}const Dw={values(t){return Ve(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=cO(t,n)}const o=bh(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),np(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(bh(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?Dw.numeric.call(this,t,e,n):""}};function cO(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Aw={formatters:Dw};function uO(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Aw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const mi=Object.create(null),kh=Object.create(null);function Mo(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function Qu(t,e,n){return typeof e=="string"?ia(Mo(t,e),n):ia(Mo(t,""),e)}class dO{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Gu(i.backgroundColor),this.hoverBorderColor=(r,i)=>Gu(i.borderColor),this.hoverColor=(r,i)=>Gu(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Qu(this,e,n)}get(e){return Mo(this,e)}describe(e,n){return Qu(kh,e,n)}override(e,n){return Qu(mi,e,n)}route(e,n,r,i){const s=Mo(this,e),o=Mo(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ce(l)?Object.assign({},c,l):ie(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ae=new dO({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oO,aO,uO]);function hO(t){return!t||ge(t.size)||ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Am(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Yr(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Nm(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ch(t,e,n,r){Nw(t,e,n,r,null)}function Nw(t,e,n,r,i){let s,o,a,l,c,u,d,h;const f=e.pointStyle,m=e.rotation,v=e.radius;let w=(m||0)*Wj;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(w),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,v,0,0,Oe):t.arc(n,r,v,0,Oe),t.closePath();break;case"triangle":u=i?i/2:v,t.moveTo(n+Math.sin(w)*u,r-Math.cos(w)*v),w+=Em,t.lineTo(n+Math.sin(w)*u,r-Math.cos(w)*v),w+=Em,t.lineTo(n+Math.sin(w)*u,r-Math.cos(w)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(w+qr)*l,d=Math.cos(w+qr)*(i?i/2-c:l),a=Math.sin(w+qr)*l,h=Math.sin(w+qr)*(i?i/2-c:l),t.arc(n-d,r-a,c,w-Me,w-qe),t.arc(n+h,r-o,c,w-qe,w),t.arc(n+d,r+a,c,w,w+qe),t.arc(n-h,r+o,c,w+qe,w+Me),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*v,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}w+=qr;case"rectRot":d=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,h=Math.sin(w)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+h,r-o),t.lineTo(n+d,r+a),t.lineTo(n-h,r+o),t.closePath();break;case"crossRot":w+=qr;case"cross":d=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,h=Math.sin(w)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"star":d=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,h=Math.sin(w)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o),w+=qr,d=Math.cos(w)*(i?i/2:v),o=Math.cos(w)*v,a=Math.sin(w)*v,h=Math.sin(w)*(i?i/2:v),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+h,r-o),t.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(w)*v,a=Math.sin(w)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(w)*(i?i/2:v),r+Math.sin(w)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function aa(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function rp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ip(t){t.restore()}function fO(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function pO(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function gO(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function mO(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function yO(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function la(t,e,n,r,i,s={}){const o=Ve(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,gO(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&yO(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ge(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),mO(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function wc(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*Me,Me,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,Me,qe,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,qe,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-qe,!0),t.lineTo(n+o.topLeft,r)}const vO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function wO(t,e){const n=(""+t).match(vO);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const bO=t=>+t||0;function sp(t,e){const n={},r=ce(e),i=r?Object.keys(e):e,s=ce(t)?r?o=>ie(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=bO(s(o));return n}function Lw(t){return sp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Qi(t){return sp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function en(t){const e=Lw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ct(t,e){t=t||{},e=e||Ae.font;let n=ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=ie(t.style,e.style);r&&!(""+r).match(xO)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:ie(t.family,e.family),lineHeight:wO(ie(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:ie(t.weight,e.weight),string:""};return i.string=hO(i),i}function tl(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function _O(t,e,n){const{min:r,max:i}=t,s=Ew(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function bi(t,e){return Object.assign(Object.create(t),e)}function op(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=zw("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>op([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return $w(a,l,()=>OO(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Im(a).includes(l)},ownKeys(a){return Im(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function hs(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Iw(t,r),setContext:s=>hs(t,s,n,r),override:s=>hs(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return $w(s,o,()=>kO(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function Iw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Ir(n)?n:()=>n,isIndexable:Ir(r)?r:()=>r}}const SO=(t,e)=>t?t+Qf(e):e,ap=(t,e)=>ce(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function $w(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function kO(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Ir(a)&&o.isScriptable(e)&&(a=CO(e,a,t,n)),Ve(a)&&a.length&&(a=EO(e,a,t,o.isIndexable)),ap(e,a)&&(a=hs(a,i,s&&s[e],o)),a}function CO(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),ap(t,l)&&(l=lp(i._scopes,i,t,l)),l}function EO(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(ce(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=lp(c,i,t,u);e.push(hs(d,s,o&&o[t],a))}}return e}function Fw(t,e,n){return Ir(t)?t(e,n):t}const PO=(t,e)=>t===!0?e:typeof t=="string"?gi(e,t):void 0;function TO(t,e,n,r,i){for(const s of e){const o=PO(n,s);if(o){t.add(o);const a=Fw(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function lp(t,e,n,r){const i=e._rootScopes,s=Fw(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=Lm(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=Lm(a,o,s,l,r),l===null)?!1:op(Array.from(a),[""],i,s,()=>jO(e,n,r))}function Lm(t,e,n,r,i){for(;n;)n=TO(t,e,n,r,i);return n}function jO(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Ve(i)&&ce(n)?n:i||{}}function OO(t,e,n,r){let i;for(const s of e)if(i=zw(SO(s,t),n),typeof i<"u")return ap(t,i)?lp(n,r,t,i):i}function zw(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Im(t){let e=t._keys;return e||(e=t._keys=MO(t._scopes)),e}function MO(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const RO=Number.EPSILON||1e-14,fs=(t,e)=>e<t.length&&!t[e].skip&&t[e],Bw=t=>t==="x"?"y":"x";function DO(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=_h(s,i),l=_h(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function AO(t,e,n){const r=t.length;let i,s,o,a,l,c=fs(t,0);for(let u=0;u<r-1;++u)if(l=c,c=fs(t,u+1),!(!l||!c)){if(jo(e[u],0,RO)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])}}function NO(t,e,n="x"){const r=Bw(n),i=t.length;let s,o,a,l=fs(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=fs(t,c+1),!a)continue;const u=a[n],d=a[r];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${r}`]=d+s*e[c])}}function LO(t,e="x"){const n=Bw(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=fs(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=fs(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Pn(i[o-1])!==Pn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}AO(t,i,s),NO(t,s,e)}function nl(t,e,n){return Math.max(Math.min(t,n),e)}function IO(t,e){let n,r,i,s,o,a=aa(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&aa(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=nl(i.cp1x,e.left,e.right),i.cp1y=nl(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=nl(i.cp2x,e.left,e.right),i.cp2y=nl(i.cp2y,e.top,e.bottom)))}function $O(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")LO(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=DO(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&IO(t,n)}function cp(){return typeof window<"u"&&typeof document<"u"}function up(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function bc(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const su=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function FO(t,e){return su(t).getPropertyValue(e)}const zO=["top","right","bottom","left"];function ci(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=zO[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const BO=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function UO(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(BO(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Qr(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=su(n),s=i.boxSizing==="border-box",o=ci(i,"padding"),a=ci(i,"border","width"),{x:l,y:c,box:u}=UO(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:m}=e;return s&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/f*n.width/r),y:Math.round((c-h)/m*n.height/r)}}function VO(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&up(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=su(s),l=ci(a,"border","width"),c=ci(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=bc(a.maxWidth,s,"clientWidth"),i=bc(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||vc,maxHeight:i||vc}}const rl=t=>Math.round(t*10)/10;function HO(t,e,n,r){const i=su(t),s=ci(i,"margin"),o=bc(i.maxWidth,t,"clientWidth")||vc,a=bc(i.maxHeight,t,"clientHeight")||vc,l=VO(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const h=ci(i,"border","width"),f=ci(i,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=rl(Math.min(c,o,l.maxWidth)),u=rl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=rl(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=rl(Math.floor(u*r))),{width:c,height:u}}function $m(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const WO=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};cp()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Fm(t,e){const n=FO(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Zr(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function qO(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function YO(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Zr(t,i,n),a=Zr(i,s,n),l=Zr(s,e,n),c=Zr(o,a,n),u=Zr(a,l,n);return Zr(c,u,n)}const KO=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},XO=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Zi(t,e,n){return t?KO(e,n):XO()}function Uw(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function Vw(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Hw(t){return t==="angle"?{between:oa,compare:Gj,normalize:cr}:{between:Sr,compare:(e,n)=>e-n,normalize:e=>e}}function zm({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function JO(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=Hw(r),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][r]),i,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function GO(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=Hw(r),{start:u,end:d,loop:h,style:f}=JO(t,e,n),m=[];let v=!1,w=null,y,p,x;const _=()=>l(i,x,y)&&a(i,x)!==0,S=()=>a(s,y)===0||l(s,x,y),E=()=>v||_(),C=()=>!v||S();for(let P=u,$=u;P<=d;++P)p=e[P%o],!p.skip&&(y=c(p[r]),y!==x&&(v=l(y,i,s),w===null&&E()&&(w=a(y,i)===0?P:$),w!==null&&C()&&(m.push(zm({start:w,end:P,loop:h,count:o,style:f})),w=null),$=P,x=y));return w!==null&&m.push(zm({start:w,end:d,loop:h,count:o,style:f})),m}function QO(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=GO(r[i],t.points,e);s.length&&n.push(...s)}return n}function ZO(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function eM(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function tM(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=ZO(n,i,s,r);if(r===!0)return Bm(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Bm(t,eM(n,o,l,c),n,e)}function Bm(t,e,n,r){return!r||!r.setContext||!n?e:nM(t,e,n,r)}function nM(t,e,n,r){const i=t._chart.getContext(),s=Um(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,d=e[0].start,h=d;function f(m,v,w,y){const p=a?-1:1;if(m!==v){for(m+=l;n[m%l].skip;)m-=p;for(;n[v%l].skip;)v+=p;m%l!==v%l&&(c.push({start:m%l,end:v%l,loop:w,style:y}),u=y,d=v%l)}}for(const m of e){d=a?d:m.start;let v=n[d%l],w;for(h=d+1;h<=m.end;h++){const y=n[h%l];w=Um(r.setContext(bi(i,{type:"segment",p0:v,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),rM(w,u)&&f(d,h-1,m.loop,u),v=y,u=w}d<h-1&&f(d,h-1,m.loop,u)}return c}function Um(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function rM(t,e){if(!e)return!1;const n=[],r=function(i,s){return tp(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function il(t,e,n){return t.options.clip?t[n]:e[n]}function iM(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:il(n,e,"left"),right:il(n,e,"right"),top:il(r,e,"top"),bottom:il(r,e,"bottom")}:e}function sM(t,e){const n=e._clip;if(n.disabled)return!1;const r=iM(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class oM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Mw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ln=new oM;const Vm="transparent",aM={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Rm(t||Vm),i=r.valid&&Rm(e||Vm);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class lM{constructor(e,n,r,i){const s=n[r];i=tl([e.to,i,s,e.from]);const o=tl([e.from,s,i]);this._active=!0,this._fn=e.fn||aM[e.type||typeof o],this._easing=Oo[e.easing]||Oo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=tl([e.to,n,i,e.from]),this._from=tl([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class Ww{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ce(e))return;const n=Object.keys(Ae.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!ce(s))return;const o={};for(const a of n)o[a]=s[a];(Ve(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=uM(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&cM(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new lM(h,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Ln.add(this._chart,r),!0}}function cM(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function uM(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Hm(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function dM(t,e,n){if(n===!1)return!1;const r=Hm(t,n),i=Hm(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function hM(t){let e,n,r,i;return ce(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function qw(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function Wm(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Zt(c)&&(s||e===0||Pn(e)===Pn(c))&&(e+=c)}return!u&&!r.all?0:e}function fM(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}function Zu(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function pM(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function gM(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function mM(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function qm(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Ym(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=pM(s,o,r),d=e.length;let h;for(let f=0;f<d;++f){const m=e[f],{[l]:v,[c]:w}=m,y=m._stacks||(m._stacks={});h=y[c]=mM(i,u,v),h[a]=w,h._top=qm(h,o,!0,r.type),h._bottom=qm(h,o,!1,r.type);const p=h._visualValues||(h._visualValues={});p[a]=w}}function ed(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function yM(t,e){return bi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function vM(t,e,n){return bi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ys(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const td=t=>t==="reset"||t==="none",Km=(t,e)=>e?t:Object.assign({},t),xM=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:qw(n,!0),values:null};class es{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Zu(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ys(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,s=n.xAxisID=ie(r.xAxisID,ed(e,"x")),o=n.yAxisID=ie(r.yAxisID,ed(e,"y")),a=n.rAxisID=ie(r.rAxisID,ed(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&jm(this._data,this),e._stacked&&Ys(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(ce(n)){const i=this._cachedMeta;this._data=fM(n,i)}else if(r!==n){if(r){jm(r,this);const i=this._cachedMeta;Ys(i),i._parsed=[]}n&&Object.isExtensible(n)&&tO(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Zu(n.vScale,n),n.stack!==r.stack&&(i=!0,Ys(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Ym(this,n._parsed),n._stacked=Zu(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Ve(i[e])?h=this.parseArrayData(r,i,e,n):ce(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);r._sorted=l}o&&Ym(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let h,f,m;for(h=0,f=i;h<f;++h)m=h+r,d[h]={[a]:u||s.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,h,f;for(u=0,d=i;u<d;++u)h=u+r,f=n[h],c[u]={x:s.parse(gi(f,a),h),y:o.parse(gi(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:qw(i,!0),values:n._stacks[e.axis]._visualValues};return Wm(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=Wm(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=xM(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=gM(a);let h,f;function m(){f=i[h];const v=f[a.axis];return!Zt(f[e.axis])||u>v||d<v}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Zt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=hM(ie(this.options.clip,dM(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=vM(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=yM(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&sa(r);if(a)return Km(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Ae.elements[e]),m=()=>this.getContext(r,i,n),v=c.resolveNamedOptions(h,f,m,d);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(Km(v,l))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,r,n))}const c=new Ww(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||td(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){td(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!td(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Ys(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}G(es,"defaults",{}),G(es,"datasetElementType",null),G(es,"dataElementType",null);function wM(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=Ow(r.sort((i,s)=>i-s))}return t._cache.$bar}function bM(t){const e=t.iScale,n=wM(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(sa(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function _M(t,e,n,r){const i=n.barThickness;let s,o;return ge(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function SM(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function kM(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function Yw(t,e,n,r){return Ve(t)?kM(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Xm(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(Yw(h,d,s,c));return l}function nd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function CM(t,e,n){return t!==0?Pn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function EM(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function PM(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=EM(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[Jm(u,o,a,l)]=!0,i=c)),s[Jm(i,o,a,l)]=!0,t.borderSkipped=s}function Jm(t,e,n,r){return r?(t=TM(t,e,n),t=Gm(t,n,e)):t=Gm(t,e,n),t}function TM(t,e,n){return t===e?n:t===n?e:t}function Gm(t,e,n){return t==="start"?e:t==="end"?n:t}function jM(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Pl extends es{parsePrimitiveData(e,n,r,i){return Xm(e,n,r,i)}parseArrayData(e,n,r,i){return Xm(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,m,v;for(h=r,f=r+i;h<f;++h)v=n[h],m={},m[s.axis]=s.parse(gi(v,c),h),d.push(Yw(gi(v,u),m,o,h));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=nd(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let f=n;f<n+r;f++){const m=this.getParsed(f),v=s||ge(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),w=this._calculateBarIndexPixels(f,u),y=(m._stacks||{})[a.axis],p={horizontal:c,base:v.base,enableBorderRadius:!y||nd(m._custom)||o===y._top||o===y._bottom,x:c?v.head:w.center,y:c?w.center:v.head,height:c?w.size:Math.abs(v.size),width:c?Math.abs(v.size):w.size};h&&(p.options=d||this.resolveDataElementOptions(f,e[f].active?"active":i));const x=p.options||e[f].options;PM(p,x,y,o),jM(p,x,u.ratio),this.updateElement(e[f],f,p,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(f=>f[r.axis]===l),h=d&&d[u.vScale.axis];if(ge(h)||isNaN(h))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||bM(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=nd(c);let d=l[n.axis],h=0,f=r?this.applyStack(n,l,r):d,m,v;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Pn(d)!==Pn(c.barEnd)&&(h=0),h+=d);const w=!ge(s)&&!u?s:h;let y=n.getPixelForValue(w);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(h+f):m=y,v=m-y,Math.abs(v)<o){v=CM(v,n,a)*o,d===a&&(y-=v/2);const p=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),_=Math.min(p,x),S=Math.max(p,x);y=Math.max(Math.min(y,S),_),m=y+v,r&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const p=Pn(v)*n.getLineWidthForValue(a)/2;y+=p,v-=p}return{size:v,base:y,head:m,center:m+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=ie(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?SM(e,n,i,c):_M(e,n,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}G(Pl,"id","bar"),G(Pl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),G(Pl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function OM(t,e,n){let r=1,i=1,s=0,o=0;if(e<Oe){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(x,_,S)=>oa(x,a,l,!0)?1:Math.max(_,_*n,S,S*n),m=(x,_,S)=>oa(x,a,l,!0)?-1:Math.min(_,_*n,S,S*n),v=f(0,c,d),w=f(qe,u,h),y=m(Me,c,d),p=m(Me+qe,u,h);r=(v-y)/2,i=(w-p)/2,s=-(v+y)/2,o=-(w+p)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class io extends es{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(ce(r[e])){const{key:l="value"}=this._parsing;s=c=>+gi(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return Hn(this.options.rotation-90)}_getCircumference(){return Hn(this.options.circumference)}_getRotationExtents(){let e=Oe,n=-Oe;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min($j(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:m,offsetY:v}=OM(d,u,l),w=(r.width-o)/h,y=(r.height-o)/f,p=Math.max(Math.min(w,y)/2,0),x=Ew(this.options.radius,p),_=Math.max(x*l,0),S=(x-_)/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=v*x,i.total=this.calculateTotal(),this.outerRadius=x-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/Oe)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=s&&c.animateScale,f=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:v,includeOptions:w}=this._getSharedOptions(n,i);let y=this._getRotation(),p;for(p=0;p<n;++p)y+=this._circumference(p,s);for(p=n;p<n+r;++p){const x=this._circumference(p,s),_=e[p],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+x,circumference:x,outerRadius:m,innerRadius:f};w&&(S.options=v||this.resolveDataElementOptions(p,_.active?"active":i)),y+=x,this.updateElement(_,p,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Oe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=np(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}G(io,"id","doughnut"),G(io,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),G(io,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),G(io,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});function Kr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dp{constructor(e){G(this,"options");this.options=e||{}}static override(e){Object.assign(dp.prototype,e)}init(){}formats(){return Kr()}parse(){return Kr()}format(){return Kr()}add(){return Kr()}diff(){return Kr()}startOf(){return Kr()}endOf(){return Kr()}}var MM={_date:dp};function RM(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const c=a._reversePixels?Zj:Sh;if(r){if(i._sharedOptions){const u=s[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(s,e,n-d),f=c(s,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(v=>!ge(v[d.axis]));u.lo-=Math.max(0,f);const m=h.slice(u.hi).findIndex(v=>!ge(v[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:s.length-1}}function Sa(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:h}=RM(s[a],e,o,i);for(let f=d;f<=h;++f){const m=u[f];m.skip||r(m,c,f)}}}function DM(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function rd(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Sa(t,n,e,function(a,l,c){!i&&!aa(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function AM(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Tw(o,{x:e.x,y:e.y});oa(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Sa(t,n,e,s),i}function NM(t,e,n,r,i,s){let o=[];const a=DM(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,i);if(r&&!f)return;const m=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!f)return;const w=a(e,m);w<l?(o=[{element:u,datasetIndex:d,index:h}],l=w):w===l&&o.push({element:u,datasetIndex:d,index:h})}return Sa(t,n,e,c),o}function id(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?AM(t,e,n,i):NM(t,e,n,r,i,s)}function Qm(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Sa(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var LM={evaluateInteractionItems:Sa,modes:{index(t,e,n,r){const i=Qr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?rd(t,i,s,r,o):id(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Qr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?rd(t,i,s,r,o):id(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Qr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return rd(t,i,s,r,o)},nearest(t,e,n,r){const i=Qr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return id(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Qr(e,t);return Qm(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Qr(e,t);return Qm(t,i,"y",n.intersect,r)}}};const Kw=["left","top","right","bottom"];function Ks(t,e){return t.filter(n=>n.pos===e)}function Zm(t,e){return t.filter(n=>Kw.indexOf(n.pos)===-1&&n.box.axis===e)}function Xs(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function IM(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function $M(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!Kw.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function FM(t,e){const n=$M(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function zM(t){const e=IM(t),n=Xs(e.filter(c=>c.box.fullSize),!0),r=Xs(Ks(e,"left"),!0),i=Xs(Ks(e,"right")),s=Xs(Ks(e,"top"),!0),o=Xs(Ks(e,"bottom")),a=Zm(e,"x"),l=Zm(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Ks(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function e0(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function Xw(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function BM(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!ce(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&Xw(o,s.getPadding());const a=Math.max(0,e.outerWidth-e0(o,t,"left","right")),l=Math.max(0,e.outerHeight-e0(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function UM(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function VM(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function so(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,VM(a.horizontal,e));const{same:d,other:h}=BM(e,n,a,r);c|=d&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&so(i,e,n,r)||u}function sl(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function t0(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;sa(c.start)&&(o=c.start),l.fullSize?sl(l,i.left,o,n.outerWidth-i.right-i.left,h):sl(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;sa(c.start)&&(s=c.start),l.fullSize?sl(l,s,i.top,h,n.outerHeight-i.bottom-i.top):sl(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var Xt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=en(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=zM(t.boxes),l=a.vertical,c=a.horizontal;he(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,w)=>w.box.options&&w.box.options.display===!1?v:v+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},i);Xw(h,en(r));const f=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),m=FM(l.concat(c),d);so(a.fullSize,f,d,m),so(l,f,d,m),so(c,f,d,m)&&so(l,f,d,m),UM(f),t0(a.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,t0(a.rightAndBottom,f,d,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},he(a.chartArea,v=>{const w=v.box;Object.assign(w,t.chartArea),w.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Jw{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class HM extends Jw{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tl="$chartjs",WM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},n0=t=>t===null||t==="";function qM(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Tl]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",n0(i)){const s=Fm(t,"width");s!==void 0&&(t.width=s)}if(n0(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Fm(t,"height");s!==void 0&&(t.height=s)}return t}const Gw=WO?{passive:!0}:!1;function YM(t,e,n){t&&t.addEventListener(e,n,Gw)}function KM(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Gw)}function XM(t,e){const n=WM[t.type]||t.type,{x:r,y:i}=Qr(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function _c(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function JM(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_c(a.addedNodes,r),o=o&&!_c(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function GM(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_c(a.removedNodes,r),o=o&&!_c(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const ca=new Map;let r0=0;function Qw(){const t=window.devicePixelRatio;t!==r0&&(r0=t,ca.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function QM(t,e){ca.size||window.addEventListener("resize",Qw),ca.set(t,e)}function ZM(t){ca.delete(t),ca.size||window.removeEventListener("resize",Qw)}function eR(t,e,n){const r=t.canvas,i=r&&up(r);if(!i)return;const s=Rw((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),QM(t,s),o}function sd(t,e,n){n&&n.disconnect(),e==="resize"&&ZM(t)}function tR(t,e,n){const r=t.canvas,i=Rw(s=>{t.ctx!==null&&n(XM(s,t))},t);return YM(r,e,i),i}class nR extends Jw{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(qM(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Tl])return!1;const r=n[Tl].initial;["height","width"].forEach(s=>{const o=r[s];ge(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Tl],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:JM,detach:GM,resize:eR}[n]||tR;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:sd,detach:sd,resize:sd}[n]||KM)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return HO(e,n,r,i)}isAttached(e){const n=e&&up(e);return!!(n&&n.isConnected)}}function rR(t){return!cp()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?HM:nR}class fn{constructor(){G(this,"x");G(this,"y");G(this,"active",!1);G(this,"options");G(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return xc(this.x)&&xc(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}G(fn,"defaults",{}),G(fn,"defaultRoutes");function iR(t,e){const n=t.options.ticks,r=sR(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?aR(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return lR(e,c,s,o/i),c;const u=oR(s,e,i);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(ol(e,c,u,ge(f)?0:a-f,a),d=0,h=o-1;d<h;d++)ol(e,c,u,s[d],s[d+1]);return ol(e,c,u,l,ge(f)?e.length:l+f),c}return ol(e,c,u),c}function sR(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function oR(t,e,n){const r=cR(t),i=e.length/n;if(!r)return Math.max(i,1);const s=qj(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function aR(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function lR(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function ol(t,e,n,r,i){const s=ie(r,0),o=Math.min(ie(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function cR(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const uR=t=>t==="left"?"right":t==="right"?"left":t,i0=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,s0=(t,e)=>Math.min(e||t,t);function o0(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function dR(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function hR(t,e){he(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Js(t){return t.drawTicks?t.tickLength:0}function a0(t,e){if(!t.display)return 0;const n=ct(t.font,e),r=en(t.padding);return(Ve(t.text)?t.text.length:1)*n.lineHeight+r.height}function fR(t,e){return bi(t,{scale:e,type:"scale"})}function pR(t,e,n){return bi(t,{tick:n,index:e,type:"tick"})}function gR(t,e,n){let r=ep(t);return(n&&e!=="right"||!n&&e==="right")&&(r=uR(r)),r}function mR(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,m;const v=o-i,w=a-s;if(t.isHorizontal()){if(f=at(r,s,a),ce(n)){const y=Object.keys(n)[0],p=n[y];m=u[y].getPixelForValue(p)+v-e}else n==="center"?m=(c.bottom+c.top)/2+v-e:m=i0(t,n,e);h=a-s}else{if(ce(n)){const y=Object.keys(n)[0],p=n[y];f=u[y].getPixelForValue(p)-w+e}else n==="center"?f=(c.left+c.right)/2-w+e:f=i0(t,n,e);m=at(r,o,i),d=n==="left"?-qe:qe}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class Cs extends fn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=yn(e,Number.POSITIVE_INFINITY),n=yn(n,Number.NEGATIVE_INFINITY),r=yn(r,Number.POSITIVE_INFINITY),i=yn(i,Number.NEGATIVE_INFINITY),{min:yn(e,r),max:yn(n,i),minDefined:Zt(e),maxDefined:Zt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:yn(n,yn(r,n)),max:yn(r,yn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_O(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?o0(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=iR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=be(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=s0(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=kt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:f/(r-1),d+6>a&&(a=f/(r-(e.offset?.5:1)),l=this.maxHeight-Js(e.grid)-n.padding-a0(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=Jj(Math.min(Math.asin(kt((u.highest.height+6)/a,-1,1)),Math.asin(kt(l/c,-1,1))-Math.asin(kt(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=a0(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Js(s)+l):(e.height=this.maxHeight,e.width=Js(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=r.padding*2,m=Hn(this.labelRotation),v=Math.cos(m),w=Math.sin(m);if(a){const y=r.mirror?0:w*d.width+v*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{const y=r.mirror?0:v*d.width+w*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,w,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=i*e.width,f=r*n.height):(h=r*e.height,f=i*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)ge(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=o0(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/s0(n,r));let c=0,u=0,d,h,f,m,v,w,y,p,x,_,S;for(d=0;d<n;d+=l){if(m=e[d].label,v=this._resolveTickFontOptions(d),i.font=w=v.string,y=s[w]=s[w]||{data:{},gc:[]},p=v.lineHeight,x=_=0,!ge(m)&&!Ve(m))x=Am(i,y.data,y.gc,x,m),_=p;else if(Ve(m))for(h=0,f=m.length;h<f;++h)S=m[h],!ge(S)&&!Ve(S)&&(x=Am(i,y.data,y.gc,x,S),_+=p);o.push(x),a.push(_),c=Math.max(x,c),u=Math.max(_,u)}hR(s,n);const E=o.indexOf(c),C=a.indexOf(u),P=$=>({width:o[$]||0,height:a[$]||0});return{first:P(0),last:P(n-1),widest:P(E),highest:P(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Qj(this._alignToPixels?Yr(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=pR(this.getContext(),e,r))}return this.$context||(this.$context=fR(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Hn(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Js(s),f=[],m=a.setContext(this.getContext()),v=m.display?m.width:0,w=v/2,y=function(R){return Yr(r,R,v)};let p,x,_,S,E,C,P,$,D,N,U,V;if(o==="top")p=y(this.bottom),C=this.bottom-h,$=p-w,N=y(e.top)+w,V=e.bottom;else if(o==="bottom")p=y(this.top),N=e.top,V=y(e.bottom)-w,C=p+w,$=this.top+h;else if(o==="left")p=y(this.right),E=this.right-h,P=p-w,D=y(e.left)+w,U=e.right;else if(o==="right")p=y(this.left),D=e.left,U=y(e.right)-w,E=p+w,P=this.left+h;else if(n==="x"){if(o==="center")p=y((e.top+e.bottom)/2+.5);else if(ce(o)){const R=Object.keys(o)[0],L=o[R];p=y(this.chart.scales[R].getPixelForValue(L))}N=e.top,V=e.bottom,C=p+w,$=C+h}else if(n==="y"){if(o==="center")p=y((e.left+e.right)/2);else if(ce(o)){const R=Object.keys(o)[0],L=o[R];p=y(this.chart.scales[R].getPixelForValue(L))}E=p-w,P=E-h,D=e.left,U=e.right}const O=ie(i.ticks.maxTicksLimit,d),M=Math.max(1,Math.ceil(d/O));for(x=0;x<d;x+=M){const R=this.getContext(x),L=s.setContext(R),T=a.setContext(R),I=L.lineWidth,F=L.color,X=T.dash||[],K=T.dashOffset,Z=L.tickWidth,ee=L.tickColor,ue=L.tickBorderDash||[],re=L.tickBorderDashOffset;_=dR(this,x,l),_!==void 0&&(S=Yr(r,_,I),c?E=P=D=U=S:C=$=N=V=S,f.push({tx1:E,ty1:C,tx2:P,ty2:$,x1:D,y1:N,x2:U,y2:V,width:I,color:F,borderDash:X,borderDashOffset:K,tickWidth:Z,tickColor:ee,tickBorderDash:ue,tickBorderDashOffset:re}))}return this._ticksLength=d,this._borderValue=p,f}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=Js(r.grid),f=h+u,m=d?-u:f,v=-Hn(this.labelRotation),w=[];let y,p,x,_,S,E,C,P,$,D,N,U,V="middle";if(i==="top")E=this.bottom-m,C=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+m,C=this._getXAxisLabelAlignment();else if(i==="left"){const M=this._getYAxisLabelAlignment(h);C=M.textAlign,S=M.x}else if(i==="right"){const M=this._getYAxisLabelAlignment(h);C=M.textAlign,S=M.x}else if(n==="x"){if(i==="center")E=(e.top+e.bottom)/2+f;else if(ce(i)){const M=Object.keys(i)[0],R=i[M];E=this.chart.scales[M].getPixelForValue(R)+f}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-f;else if(ce(i)){const M=Object.keys(i)[0],R=i[M];S=this.chart.scales[M].getPixelForValue(R)}C=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?V="top":l==="end"&&(V="bottom"));const O=this._getLabelSizes();for(y=0,p=a.length;y<p;++y){x=a[y],_=x.label;const M=s.setContext(this.getContext(y));P=this.getPixelForTick(y)+s.labelOffset,$=this._resolveTickFontOptions(y),D=$.lineHeight,N=Ve(_)?_.length:1;const R=N/2,L=M.color,T=M.textStrokeColor,I=M.textStrokeWidth;let F=C;o?(S=P,C==="inner"&&(y===p-1?F=this.options.reverse?"left":"right":y===0?F=this.options.reverse?"right":"left":F="center"),i==="top"?c==="near"||v!==0?U=-N*D+D/2:c==="center"?U=-O.highest.height/2-R*D+D:U=-O.highest.height+D/2:c==="near"||v!==0?U=D/2:c==="center"?U=O.highest.height/2-R*D:U=O.highest.height-N*D,d&&(U*=-1),v!==0&&!M.showLabelBackdrop&&(S+=D/2*Math.sin(v))):(E=P,U=(1-N)*D/2);let X;if(M.showLabelBackdrop){const K=en(M.backdropPadding),Z=O.heights[y],ee=O.widths[y];let ue=U-K.top,re=0-K.left;switch(V){case"middle":ue-=Z/2;break;case"bottom":ue-=Z;break}switch(C){case"center":re-=ee/2;break;case"right":re-=ee;break;case"inner":y===p-1?re-=ee:y>0&&(re-=ee/2);break}X={left:re,top:ue,width:ee+K.width,height:Z+K.height,color:M.backdropColor}}w.push({label:_,font:$,textOffset:U,options:{rotation:v,color:L,strokeColor:T,strokeWidth:I,textAlign:F,textBaseline:V,translation:[S,E],backdrop:X}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Hn(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Yr(e,this.left,o)-o/2,u=Yr(e,this.right,a)+a/2,d=h=l):(d=Yr(e,this.top,o)-o/2,h=Yr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&rp(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;la(r,c,0,u,l,a)}i&&ip(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ct(r.font),o=en(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ce(n)?(l+=o.bottom,Ve(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=mR(this,l,n,a);la(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:gR(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=ie(e.grid&&e.grid.z,-1),i=ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Cs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return ct(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class al{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;xR(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,yR(e,o,r),this.override&&Ae.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Ae[i]&&(delete Ae[i][r],this.override&&delete mi[r])}}function yR(t,e,n){const r=ia(Object.create(null),[n?Ae.get(n):{},Ae.get(e),t.defaults]);Ae.set(e,r),t.defaultRoutes&&vR(e,t.defaultRoutes),t.descriptors&&Ae.describe(e,t.descriptors)}function vR(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ae.route(s,i,l,a)})}function xR(t){return"id"in t&&"defaults"in t}class wR{constructor(){this.controllers=new al(es,"datasets",!0),this.elements=new al(fn,"elements"),this.plugins=new al(Object,"plugins"),this.scales=new al(Cs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):he(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=Qf(e);be(r["before"+i],[],r),n[e](r),be(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var bn=new wR;class bR{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(be(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=ie(r.options&&r.options.plugins,{}),s=_R(r);return i===!1&&!n?[]:kR(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function _R(t){const e={},n=[],r=Object.keys(bn.plugins.items);for(let s=0;s<r.length;s++)n.push(bn.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function SR(t,e){return!e&&t===!1?null:t===!0?{}:t}function kR(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=SR(r[l],i);c!==null&&s.push({plugin:a,options:CR(t.config,{plugin:a,local:n[l]},c,o)})}return s}function CR(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Eh(t,e){const n=Ae.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ER(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function PR(t,e){return t===e?"_index_":"_value_"}function l0(t){if(t==="x"||t==="y"||t==="r")return t}function TR(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ph(t,...e){if(l0(t))return t;for(const n of e){const r=n.axis||TR(n.position)||t.length>1&&l0(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function c0(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function jR(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return c0(t,"x",n[0])||c0(t,"y",n[0])}return{}}function OR(t,e){const n=mi[t.type]||{scales:{}},r=e.scales||{},i=Eh(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ce(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ph(o,a,jR(o,t),Ae.scales[a.type]),c=PR(l,i),u=n.scales||{};s[o]=To(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Eh(a,e),u=(mi[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=ER(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),To(s[f],[{axis:h},r[f],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];To(a,[Ae.scales[a.type],Ae.scale])}),s}function Zw(t){const e=t.options||(t.options={});e.plugins=ie(e.plugins,{}),e.scales=OR(t,e)}function eb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function MR(t){return t=t||{},t.data=eb(t.data),Zw(t),t}const u0=new Map,tb=new Set;function ll(t,e){let n=u0.get(t);return n||(n=e(),u0.set(t,n),tb.add(n)),n}const Gs=(t,e,n)=>{const r=gi(e,n);r!==void 0&&t.add(r)};class RR{constructor(e){this._config=MR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=eb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zw(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ll(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ll(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ll(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ll(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Gs(l,e,d))),u.forEach(d=>Gs(l,i,d)),u.forEach(d=>Gs(l,mi[s]||{},d)),u.forEach(d=>Gs(l,Ae,d)),u.forEach(d=>Gs(l,kh,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),tb.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,mi[n]||{},Ae.datasets[n]||{},{type:n},Ae,kh]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=d0(this._resolverCache,e,i);let l=o;if(AR(o,n)){s.$shared=!1,r=Ir(r)?r():r;const c=this.createResolver(e,r,a);l=hs(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=d0(this._resolverCache,e,r);return ce(n)?hs(s,n,void 0,i):s}}function d0(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:op(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const DR=t=>ce(t)&&Object.getOwnPropertyNames(t).some(e=>Ir(t[e]));function AR(t,e){const{isScriptable:n,isIndexable:r}=Iw(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Ir(a)||DR(a))||o&&Ve(a))return!0}return!1}var NR="4.4.9";const LR=["top","bottom","left","right","chartArea"];function h0(t,e){return t==="top"||t==="bottom"||LR.indexOf(t)===-1&&e==="x"}function f0(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function p0(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),be(n&&n.onComplete,[t],e)}function IR(t){const e=t.chart,n=e.options.animation;be(n&&n.onProgress,[t],e)}function nb(t){return cp()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const jl={},g0=t=>{const e=nb(t);return Object.values(jl).filter(n=>n.canvas===e).pop()};function $R(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function FR(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var or;let ou=(or=class{static register(...e){bn.add(...e),m0()}static unregister(...e){bn.remove(...e),m0()}constructor(e,n){const r=this.config=new RR(n),i=nb(e),s=g0(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||rR(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Ij(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nO(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],jl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ln.listen(this,"complete",p0),Ln.listen(this,"progress",IR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return ge(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$m(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Nm(this.canvas,this.ctx),this}stop(){return Ln.stop(this),this}resize(e,n){Ln.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,$m(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),be(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};he(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Ph(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),he(s,o=>{const a=o.options,l=a.id,c=Ph(l,a),u=ie(a.type,o.dtype);(a.position===void 0||h0(a.position,c)!==h0(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const h=bn.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),he(i,(o,a)=>{o||delete r[a]}),he(r,o=>{Xt.configure(this,o,o.options),Xt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(f0("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Eh(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=bn.getController(a),{datasetElementType:c,dataElementType:u}=Ae.datasets[a];Object.assign(l,{dataElementType:bn.getElement(u),datasetElementType:c&&bn.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){he(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||he(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(f0("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){he(this.scales,e=>{Xt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Cm(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;$R(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Cm(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Xt.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],he(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ir(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ln.has(this)?this.attached&&!Ln.running(this)&&Ln.start(this):(this.draw(),p0({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=sM(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&rp(n,i),e.controller.draw(),i&&ip(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return aa(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=LM.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=bi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);sa(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ln.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Nm(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete jl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};he(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){he(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},he(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!mc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=Vj(e),c=FR(e,this._lastEvent,r,l);r&&(this._lastEvent=null,be(s.onHover,[e,a,this],this),l&&be(s.onClick,[e,a,this],this));const u=!mc(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},G(or,"defaults",Ae),G(or,"instances",jl),G(or,"overrides",mi),G(or,"registry",bn),G(or,"version",NR),G(or,"getChart",g0),or);function m0(){return he(ou.instances,t=>t._plugins.invalidate())}function zR(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+qe,r-qe),t.closePath(),t.clip()}function BR(t){return sp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function UR(t,e,n,r){const i=BR(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return kt(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:kt(i.innerStart,0,o),innerEnd:kt(i.innerEnd,0,o)}}function ji(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Sc(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let f=0;const m=i-l;if(r){const M=u>0?u-r:0,R=d>0?d-r:0,L=(M+R)/2,T=L!==0?m*L/(L+r):m;f=(m-T)/2}const v=Math.max(.001,m*d-n/Me)/d,w=(m-v)/2,y=l+w+f,p=i-w-f,{outerStart:x,outerEnd:_,innerStart:S,innerEnd:E}=UR(e,h,d,p-y),C=d-x,P=d-_,$=y+x/C,D=p-_/P,N=h+S,U=h+E,V=y+S/N,O=p-E/U;if(t.beginPath(),s){const M=($+D)/2;if(t.arc(o,a,d,$,M),t.arc(o,a,d,M,D),_>0){const I=ji(P,D,o,a);t.arc(I.x,I.y,_,D,p+qe)}const R=ji(U,p,o,a);if(t.lineTo(R.x,R.y),E>0){const I=ji(U,O,o,a);t.arc(I.x,I.y,E,p+qe,O+Math.PI)}const L=(p-E/h+(y+S/h))/2;if(t.arc(o,a,h,p-E/h,L,!0),t.arc(o,a,h,L,y+S/h,!0),S>0){const I=ji(N,V,o,a);t.arc(I.x,I.y,S,V+Math.PI,y-qe)}const T=ji(C,y,o,a);if(t.lineTo(T.x,T.y),x>0){const I=ji(C,$,o,a);t.arc(I.x,I.y,x,y-qe,$)}}else{t.moveTo(o,a);const M=Math.cos($)*d+o,R=Math.sin($)*d+a;t.lineTo(M,R);const L=Math.cos(D)*d+o,T=Math.sin(D)*d+a;t.lineTo(L,T)}t.closePath()}function VR(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Sc(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Oe||Oe))}return Sc(t,e,n,r,l,i),t.fill(),l}function HR(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(s){Sc(t,e,n,r,m,i);for(let v=0;v<s;++v)t.stroke();isNaN(a)||(m=o+(a%Oe||Oe))}f&&zR(t,e,m),s||(Sc(t,e,n,r,m,i),t.stroke())}class oo extends fn{constructor(n){super();G(this,"circumference");G(this,"endAngle");G(this,"fullCircles");G(this,"innerRadius");G(this,"outerRadius");G(this,"pixelMargin");G(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=Tw(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,m=ie(h,c-l),v=oa(o,l,c)&&l!==c,w=m>=Oe||v,y=Sr(a,u+f,d+f);return w&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,h=(a+l+u+c)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Oe?Math.floor(i/Oe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Me,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,VR(n,this,u,o,a),HR(n,this,u,o,a),n.restore()}}G(oo,"id","arc"),G(oo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),G(oo,"defaultRoutes",{backgroundColor:"backgroundColor"}),G(oo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function rb(t,e,n=e){t.lineCap=ie(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ie(n.borderDash,e.borderDash)),t.lineDashOffset=ie(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ie(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ie(n.borderWidth,e.borderWidth),t.strokeStyle=ie(n.borderColor,e.borderColor)}function WR(t,e,n){t.lineTo(n.x,n.y)}function qR(t){return t.stepped?fO:t.tension||t.cubicInterpolationMode==="monotone"?pO:WR}function ib(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function YR(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=ib(i,n,r),u=qR(s);let{move:d=!0,reverse:h}=r||{},f,m,v;for(f=0;f<=c;++f)m=i[(a+(h?c-f:f))%o],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,v,m,h,s.stepped),v=m);return l&&(m=i[(a+(h?c:0))%o],u(t,v,m,h,s.stepped)),!!l}function KR(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=ib(i,n,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,h,f,m,v,w,y;const p=_=>(o+(c?a-_:_))%s,x=()=>{v!==w&&(t.lineTo(u,w),t.lineTo(u,v),t.lineTo(u,y))};for(l&&(f=i[p(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=i[p(h)],f.skip)continue;const _=f.x,S=f.y,E=_|0;E===m?(S<v?v=S:S>w&&(w=S),u=(d*u+_)/++d):(x(),t.lineTo(_,S),m=E,d=0,v=w=S),y=S}x()}function Th(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?KR:YR}function XR(t){return t.stepped?qO:t.tension||t.cubicInterpolationMode==="monotone"?YO:Zr}function JR(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),rb(t,e.options),t.stroke(i)}function GR(t,e,n,r){const{segments:i,options:s}=e,o=Th(e);for(const a of i)rb(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const QR=typeof Path2D=="function";function ZR(t,e,n,r){QR&&!e.options.segment?JR(t,e,n,r):GR(t,e,n,r)}class ao extends fn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;$O(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tM(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=QO(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=XR(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=s[d],m=s[h];if(f===m){a.push(f);continue}const v=Math.abs((i-f[n])/(m[n]-f[n])),w=l(f,m,v,r.stepped);w[n]=e[n],a.push(w)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Th(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Th(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ZR(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}G(ao,"id","line"),G(ao,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),G(ao,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),G(ao,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function y0(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Ol extends fn{constructor(n){super();G(this,"parsed");G(this,"skip");G(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return y0(this,n,"x",r)}inYRange(n,r){return y0(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!aa(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Ch(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}G(Ol,"id","point"),G(Ol,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),G(Ol,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function sb(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=s/2,a=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function kr(t,e,n,r){return t?0:kt(e,n,r)}function eD(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=Lw(r);return{t:kr(i.top,s.top,0,n),r:kr(i.right,s.right,0,e),b:kr(i.bottom,s.bottom,0,n),l:kr(i.left,s.left,0,e)}}function tD(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Qi(i),o=Math.min(e,n),a=t.borderSkipped,l=r||ce(i);return{topLeft:kr(!l||a.top||a.left,s.topLeft,0,o),topRight:kr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:kr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:kr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function nD(t){const e=sb(t),n=e.right-e.left,r=e.bottom-e.top,i=eD(t,n/2,r/2),s=tD(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function od(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&sb(t,r);return a&&(i||Sr(e,a.left,a.right))&&(s||Sr(n,a.top,a.bottom))}function rD(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function iD(t,e){t.rect(e.x,e.y,e.w,e.h)}function ad(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class Ml extends fn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=nD(this),a=rD(o.radius)?wc:iD;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,ad(o,n,s)),e.clip(),a(e,ad(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,ad(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return od(this,e,n,r)}inXRange(e,n){return od(this,e,null,n)}inYRange(e,n){return od(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}G(Ml,"id","bar"),G(Ml,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),G(Ml,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const v0=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},sD=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class x0 extends fn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=ct(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=v0(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,v)=>{const w=r+n/2+s.measureText(m.text).width;(v===0||c[c.length-1]+w+2*a>o)&&(d+=u,c[c.length-(v>0?0:1)]=0,f+=u,h++),l[v]={left:0,top:f,row:h,width:w,height:i},c[c.length-1]+=w+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,m=0,v=0;return this.legendItems.forEach((w,y)=>{const{itemWidth:p,itemHeight:x}=oD(r,n,s,w,i);y>0&&f+x+2*a>u&&(d+=h+a,c.push({width:h,height:f}),m+=h+a,v++,h=f=0),l[y]={left:m,top:f,col:v,width:p,height:x},h=Math.max(h,p),f+=x+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Zi(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=at(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=at(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=at(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=at(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;rp(e,this),this._draw(),ip(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Ae.color,l=Zi(e.rtl,this.left,this.width),c=ct(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:v,itemHeight:w}=v0(o,d),y=function(E,C,P){if(isNaN(m)||m<=0||isNaN(v)||v<0)return;i.save();const $=ie(P.lineWidth,1);if(i.fillStyle=ie(P.fillStyle,a),i.lineCap=ie(P.lineCap,"butt"),i.lineDashOffset=ie(P.lineDashOffset,0),i.lineJoin=ie(P.lineJoin,"miter"),i.lineWidth=$,i.strokeStyle=ie(P.strokeStyle,a),i.setLineDash(ie(P.lineDash,[])),o.usePointStyle){const D={radius:v*Math.SQRT2/2,pointStyle:P.pointStyle,rotation:P.rotation,borderWidth:$},N=l.xPlus(E,m/2),U=C+h;Nw(i,D,N,U,o.pointStyleWidth&&m)}else{const D=C+Math.max((d-v)/2,0),N=l.leftForLtr(E,m),U=Qi(P.borderRadius);i.beginPath(),Object.values(U).some(V=>V!==0)?wc(i,{x:N,y:D,w:m,h:v,radius:U}):i.rect(N,D,m,v),i.fill(),$!==0&&i.stroke()}i.restore()},p=function(E,C,P){la(i,P.text,E,C+w/2,c,{strikethrough:P.hidden,textAlign:l.textAlign(P.textAlign)})},x=this.isHorizontal(),_=this._computeTitleHeight();x?f={x:at(s,this.left+u,this.right-r[0]),y:this.top+u+_,line:0}:f={x:this.left+u,y:at(s,this.top+_+u,this.bottom-n[0].height),line:0},Uw(this.ctx,e.textDirection);const S=w+u;this.legendItems.forEach((E,C)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const P=i.measureText(E.text).width,$=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),D=m+h+P;let N=f.x,U=f.y;l.setWidth(this.width),x?C>0&&N+D+u>this.right&&(U=f.y+=S,f.line++,N=f.x=at(s,this.left+u,this.right-r[f.line])):C>0&&U+S>this.bottom&&(N=f.x=N+n[f.line].width+u,f.line++,U=f.y=at(s,this.top+_+u,this.bottom-n[f.line].height));const V=l.x(N);if(y(V,U,E),N=rO($,N+m+h,x?N+D:this.right,e.rtl),p(l.x(N),U,E),x)f.x+=D+u;else if(typeof E.text!="string"){const O=c.lineHeight;f.y+=ob(E,O)+u}else f.y+=S}),Vw(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=ct(n.font),i=en(n.padding);if(!n.display)return;const s=Zi(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=at(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((v,w)=>Math.max(v,w.height),0);u=c+at(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=at(a,d,d+h);o.textAlign=s.textAlign(ep(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,la(o,n.text,f,u,r)}_computeTitleHeight(){const e=this.options.title,n=ct(e.font),r=en(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Sr(e,this.left,this.right)&&Sr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Sr(e,i.left,i.left+i.width)&&Sr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!cD(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=sD(i,r);i&&!s&&be(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&be(n.onHover,[e,r,this],this)}else r&&be(n.onClick,[e,r,this],this)}}function oD(t,e,n,r,i){const s=aD(r,t,e,n),o=lD(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function aD(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function lD(t,e,n){let r=t;return typeof e.text!="string"&&(r=ob(e,n)),r}function ob(t,e){const n=t.text?t.text.length:0;return e*n}function cD(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var uD={id:"legend",_element:x0,start(t,e,n){const r=t.legend=new x0({ctx:t.ctx,options:n,chart:t});Xt.configure(t,r,n),Xt.addBox(t,r)},stop(t){Xt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Xt.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=en(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ab extends fn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Ve(r.text)?r.text.length:1;this._padding=en(r.padding);const s=i*ct(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=at(a,r,s),d=n+e,c=s-r):(o.position==="left"?(u=r+e,d=at(a,i,n),l=Me*-.5):(u=s-e,d=at(a,n,i),l=Me*.5),c=i-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=ct(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);la(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:ep(n.align),textBaseline:"middle",translation:[o,a]})}}function dD(t,e){const n=new ab({ctx:t.ctx,options:e,chart:t});Xt.configure(t,n,e),Xt.addBox(t,n),t.titleBlock=n}var hD={id:"title",_element:ab,start(t,e,n){dD(t,n)},stop(t){const e=t.titleBlock;Xt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Xt.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lo={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=_h(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function xn(t,e){return e&&(Ve(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function In(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fD(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function w0(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=ct(e.bodyFont),c=ct(e.titleFont),u=ct(e.footerFont),d=s.length,h=i.length,f=r.length,m=en(e.padding);let v=m.height,w=0,y=r.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(v+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=f*_+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(v+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let p=0;const x=function(_){w=Math.max(w,n.measureText(_).width+p)};return n.save(),n.font=c.string,he(t.title,x),n.font=l.string,he(t.beforeBody.concat(t.afterBody),x),p=e.displayColors?o+2+e.boxPadding:0,he(r,_=>{he(_.before,x),he(_.lines,x),he(_.after,x)}),p=0,n.font=u.string,he(t.footer,x),n.restore(),w+=m.width,{width:w,height:v}}function pD(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function gD(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function mD(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),gD(c,t,e,n)&&(c="center"),c}function b0(t,e,n){const r=n.yAlign||e.yAlign||pD(t,n);return{xAlign:n.xAlign||e.xAlign||mD(t,e,n,r),yAlign:r}}function yD(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function vD(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function _0(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Qi(o);let m=yD(e,a);const v=vD(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,h)+i:a==="right"&&(m+=Math.max(d,f)+i),{x:kt(m,0,r.width-e.width),y:kt(v,0,r.height-e.height)}}function cl(t,e,n){const r=en(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function S0(t){return xn([],In(t))}function xD(t,e,n){return bi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function k0(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const lb={beforeTitle:An,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:An,beforeBody:An,beforeLabel:An,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ge(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:An,afterBody:An,beforeFooter:An,footer:An,afterFooter:An};function xt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?lb[e].call(n,r):i}class jh extends fn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new Ww(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=xD(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=xt(r,"beforeTitle",this,e),s=xt(r,"title",this,e),o=xt(r,"afterTitle",this,e);let a=[];return a=xn(a,In(i)),a=xn(a,In(s)),a=xn(a,In(o)),a}getBeforeBody(e,n){return S0(xt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return he(e,s=>{const o={before:[],lines:[],after:[]},a=k0(r,s);xn(o.before,In(xt(a,"beforeLabel",this,s))),xn(o.lines,xt(a,"label",this,s)),xn(o.after,In(xt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return S0(xt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=xt(r,"beforeFooter",this,e),s=xt(r,"footer",this,e),o=xt(r,"afterFooter",this,e);let a=[];return a=xn(a,In(i)),a=xn(a,In(s)),a=xn(a,In(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(fD(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),he(a,u=>{const d=k0(e.callbacks,u);i.push(xt(d,"labelColor",this,u)),s.push(xt(d,"labelPointStyle",this,u)),o.push(xt(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=lo[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=w0(this,r),c=Object.assign({},a,l),u=b0(this.chart,r,c),d=_0(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Qi(a),{x:h,y:f}=e,{width:m,height:v}=n;let w,y,p,x,_,S;return s==="center"?(_=f+v/2,i==="left"?(w=h,y=w-o,x=_+o,S=_-o):(w=h+m,y=w+o,x=_-o,S=_+o),p=w):(i==="left"?y=h+Math.max(l,u)+o:i==="right"?y=h+m-Math.max(c,d)-o:y=this.caretX,s==="top"?(x=f,_=x-o,w=y-o,p=y+o):(x=f+v,_=x+o,w=y+o,p=y-o),S=x),{x1:w,x2:y,x3:p,y1:x,y2:_,y3:S}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Zi(r.rtl,this.x,this.width);for(e.x=cl(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=ct(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=ct(s.bodyFont),d=cl(this,"left",s),h=i.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+f;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},w=i.leftForLtr(h,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ch(e,v,w,y),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Ch(e,v,w,y)}else{e.lineWidth=ce(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(h,c),w=i.leftForLtr(i.xPlus(h,1),c-2),y=Qi(o.borderRadius);Object.values(y).some(p=>p!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,wc(e,{x:v,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),wc(e,{x:w,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,m,c,l),e.strokeRect(v,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(w,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=ct(r.bodyFont);let h=d.lineHeight,f=0;const m=Zi(r.rtl,this.x,this.width),v=function(P){n.fillText(P,m.x(e.x+f),e.y+h/2),e.y+=h+s},w=m.textAlign(o);let y,p,x,_,S,E,C;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=cl(this,w,r),n.fillStyle=r.bodyColor,he(this.beforeBody,v),f=a&&w!=="right"?o==="center"?c/2+u:c+2+u:0,_=0,E=i.length;_<E;++_){for(y=i[_],p=this.labelTextColors[_],n.fillStyle=p,he(y.before,v),x=y.lines,a&&x.length&&(this._drawColorBox(n,e,_,m,r),h=Math.max(d.lineHeight,l)),S=0,C=x.length;S<C;++S)v(x[S]),h=d.lineHeight;he(y.after,v)}f=0,h=d.lineHeight,he(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Zi(r.rtl,this.x,this.width);for(e.x=cl(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=ct(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=Qi(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=lo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=w0(this,e),l=Object.assign({},o,this._size),c=b0(n,e,l),u=_0(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=en(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),Uw(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),Vw(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!mc(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!mc(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=lo[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}G(jh,"positioners",lo);var wD={id:"tooltip",_element:jh,positioners:lo,afterInit(t,e,n){n&&(t.tooltip=new jh({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const bD=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function _D(t,e,n,r){const i=t.indexOf(e);if(i===-1)return bD(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const SD=(t,e)=>t===null?null:kt(Math.round(t),0,e);function C0(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Oh extends Cs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ge(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:_D(r,e,ie(n,e),this._addedLabels),SD(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return C0.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}G(Oh,"id","category"),G(Oh,"defaults",{ticks:{callback:C0}});function kD(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,m=u-1,{min:v,max:w}=e,y=!ge(o),p=!ge(a),x=!ge(c),_=(w-v)/(d+1);let S=Pm((w-v)/m/f)*f,E,C,P,$;if(S<1e-14&&!y&&!p)return[{value:v},{value:w}];$=Math.ceil(w/S)-Math.floor(v/S),$>m&&(S=Pm($*S/m/f)*f),ge(l)||(E=Math.pow(10,l),S=Math.ceil(S*E)/E),i==="ticks"?(C=Math.floor(v/S)*S,P=Math.ceil(w/S)*S):(C=v,P=w),y&&p&&s&&Kj((a-o)/s,S/1e3)?($=Math.round(Math.min((a-o)/S,u)),S=(a-o)/$,C=o,P=a):x?(C=y?o:C,P=p?a:P,$=c-1,S=(P-C)/$):($=(P-C)/S,jo($,Math.round($),S/1e3)?$=Math.round($):$=Math.ceil($));const D=Math.max(Tm(S),Tm(C));E=Math.pow(10,ge(l)?D:l),C=Math.round(C*E)/E,P=Math.round(P*E)/E;let N=0;for(y&&(h&&C!==o?(n.push({value:o}),C<o&&N++,jo(Math.round((C+N*S)*E)/E,o,E0(o,_,t))&&N++):C<o&&N++);N<$;++N){const U=Math.round((C+N*S)*E)/E;if(p&&U>a)break;n.push({value:U})}return p&&h&&P!==a?n.length&&jo(n[n.length-1].value,a,E0(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!p||P===a)&&n.push({value:P}),n}function E0(t,e,{horizontal:n,minRotation:r}){const i=Hn(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class CD extends Cs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Pn(i),c=Pn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=kD(i,s);return e.bounds==="ticks"&&Xj(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return np(e,this.chart.options.locale,this.options.ticks.format)}}class Mh extends CD{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Zt(e)?e:0,this.max=Zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Hn(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}G(Mh,"id","linear"),G(Mh,"defaults",{ticks:{callback:Aw.formatters.numeric}});const au={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_t=Object.keys(au);function P0(t,e){return t-e}function T0(t,e){if(ge(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Zt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(xc(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function j0(t,e,n,r){const i=_t.length;for(let s=_t.indexOf(t);s<i-1;++s){const o=au[_t[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return _t[s]}return _t[i-1]}function ED(t,e,n,r,i){for(let s=_t.length-1;s>=_t.indexOf(n);s--){const o=_t[s];if(au[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return _t[n?_t.indexOf(n):0]}function PD(t){for(let e=_t.indexOf(t)+1,n=_t.length;e<n;++e)if(au[_t[e]].common)return _t[e]}function O0(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Zf(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function TD(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function M0(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:TD(t,r,i,n)}class kc extends Cs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new MM._date(e.adapters.date);i.init(n),To(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:T0(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Zt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Zt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=eO(i,s,o);return this._unit=n.unit||(r.autoSkip?j0(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):ED(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:PD(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),M0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=kt(n,0,o),r=kt(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||j0(s.minUnit,n,r,this._getLabelCapacity(n)),a=ie(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=xc(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<r;h=+e.add(h,a,o),f++)O0(u,h,m);return(h===r||i.bounds==="ticks"||f===1)&&O0(u,h,m),Object.keys(u).sort(P0).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return be(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=r[n],f=c&&d&&h&&h.major;return this._adapter.format(e,i||(f?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Hn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,M0(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(T0(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ow(e.sort(P0))}}G(kc,"id","time"),G(kc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ul(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Sh(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Sh(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class R0 extends kc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ul(n,this.min),this._tableRange=ul(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ul(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return ul(this._table,r*this._tableRange+this._minPos,!0)}}G(R0,"id","timeseries"),G(R0,"defaults",kc.defaults);const cb="label";function D0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function jD(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function ub(t,e){t.labels=e}function db(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cb;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function OD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cb;const n={labels:[],datasets:[]};return ub(n,t.labels),db(n,t.datasets,e),n}function MD(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=b.useRef(null),m=b.useRef(null),v=()=>{f.current&&(m.current=new ou(f.current,{type:o,data:OD(a,s),options:l&&{...l},plugins:c}),D0(e,m.current))},w=()=>{D0(e,null),m.current&&(m.current.destroy(),m.current=null)};return b.useEffect(()=>{!i&&m.current&&l&&jD(m.current,l)},[i,l]),b.useEffect(()=>{!i&&m.current&&ub(m.current.config.data,a.labels)},[i,a.labels]),b.useEffect(()=>{!i&&m.current&&a.datasets&&db(m.current.config.data,a.datasets,s)},[i,a.datasets]),b.useEffect(()=>{m.current&&(i?(w(),setTimeout(v)):m.current.update(d))},[i,l,a.labels,a.datasets,d]),b.useEffect(()=>{m.current&&(w(),setTimeout(v))},[o]),b.useEffect(()=>(v(),()=>w()),[]),de.createElement("canvas",{ref:f,role:"img",height:n,width:r,...h},u)}const RD=b.forwardRef(MD);function hb(t,e){return ou.register(e),b.forwardRef((n,r)=>de.createElement(RD,{...n,ref:r,type:t}))}const DD=hb("bar",Pl),AD=hb("doughnut",io);ou.register(Oh,Mh,Ol,ao,Ml,hD,wD,uD,oo);const ND=({metrics:t,loading:e})=>{const n={labels:t.conversationsPerDay.map(i=>new Date(i.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Conversations",data:t.conversationsPerDay.map(i=>i.count),backgroundColor:"rgba(30, 136, 229, 0.8)",borderColor:"rgba(30, 136, 229, 1)",borderWidth:1}]},r={labels:["AI Resolved","Human Intervention"],datasets:[{label:"Resolution Rate",data:[t.aiResolutionRate,Math.max(0,100-t.aiResolutionRate)],backgroundColor:["rgba(38, 166, 154, 0.8)","rgba(255, 171, 64, 0.8)"],borderColor:["rgba(38, 166, 154, 1)","rgba(255, 171, 64, 1)"],borderWidth:1}]};return e?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):g.jsxs("div",{children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[g.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"rounded-full bg-blue-100 p-3 mr-4",children:g.jsx(Qo,{className:"h-6 w-6 text-blue-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm",children:"Total Conversations"}),g.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.totalConversations})]})]})}),g.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"rounded-full bg-teal-100 p-3 mr-4",children:g.jsx(Fx,{className:"h-6 w-6 text-teal-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm",children:"AI Resolution Rate"}),g.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[t.aiResolutionRate.toFixed(1),"%"]})]})]})}),g.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"rounded-full bg-orange-100 p-3 mr-4",children:g.jsx(zx,{className:"h-6 w-6 text-orange-600"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-500 text-sm",children:"Avg. Response Time"}),g.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[t.avgResponseTime.toFixed(1),"s"]})]})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Conversations Over Time"}),g.jsx("div",{className:"h-64",children:g.jsx(DD,{data:n,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}})})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"AI Resolution Rate"}),g.jsx("div",{className:"h-64 flex items-center justify-center",children:g.jsx(AD,{data:r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}},cutout:"70%"}})})]})]}),g.jsx("div",{className:"mt-6 text-right",children:g.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors duration-200 text-sm font-medium",children:"Export Report"})})]})},LD=({startDate:t,endDate:e,onStartDateChange:n,onEndDateChange:r})=>{const i=()=>{const l=new Date,c=new Date;c.setDate(l.getDate()-7),n(c.toISOString().split("T")[0]),r(l.toISOString().split("T")[0])},s=()=>{const l=new Date,c=new Date;c.setDate(l.getDate()-30),n(c.toISOString().split("T")[0]),r(l.toISOString().split("T")[0])},o=()=>{const l=new Date,c=new Date(l.getFullYear(),l.getMonth(),1);n(c.toISOString().split("T")[0]),r(l.toISOString().split("T")[0])},a=()=>{const l=new Date,c=new Date(l.getFullYear(),l.getMonth()-1,1),u=new Date(l.getFullYear(),l.getMonth(),0);n(c.toISOString().split("T")[0]),r(u.toISOString().split("T")[0])};return g.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-gray-800 font-medium mb-2 sm:mb-0",children:"Date Range"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx("button",{onClick:i,className:"text-xs px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-800",children:"Last 7 days"}),g.jsx("button",{onClick:s,className:"text-xs px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-800",children:"Last 30 days"}),g.jsx("button",{onClick:o,className:"text-xs px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-800",children:"This month"}),g.jsx("button",{onClick:a,className:"text-xs px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 text-gray-800",children:"Last month"})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[g.jsx("div",{className:"w-full sm:w-auto",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Yg,{className:"h-4 w-4 text-gray-400"})}),g.jsx("input",{type:"date",value:t,onChange:l=>n(l.target.value),className:"pl-10 block w-full sm:w-auto border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),g.jsx("span",{className:"text-gray-500",children:"to"}),g.jsx("div",{className:"w-full sm:w-auto",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Yg,{className:"h-4 w-4 text-gray-400"})}),g.jsx("input",{type:"date",value:e,onChange:l=>r(l.target.value),className:"pl-10 block w-full sm:w-auto border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})})]})]})},ID=()=>{const[t,e]=b.useState("metrics"),[n,r]=b.useState(new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0]),[i,s]=b.useState(new Date().toISOString().split("T")[0]),[o,a]=b.useState({totalConversations:0,aiResolutionRate:0,avgResponseTime:0,conversationsPerDay:[]}),[l,c]=b.useState(!0);return b.useEffect(()=>{(async()=>{c(!0);try{const{data:d,error:h}=await We.from("conversations").select("id, status, created_at, ai_handled_count, human_handled_count").gte("created_at",n).lte("created_at",i);if(h)throw h;const f=d.length,m=d.filter(C=>C.status==="completed"&&C.human_handled_count===0).length,v=f>0?m/f*100:0,{data:w,error:y}=await We.from("response_times").select("duration").gte("created_at",n).lte("created_at",i);if(y)throw y;const p=w.length>0?w.reduce((C,P)=>C+P.duration,0)/w.length:0,x={},_=new Date(n),S=new Date(i);for(let C=new Date(_);C<=S;C.setDate(C.getDate()+1)){const P=C.toISOString().split("T")[0];x[P]=0}d.forEach(C=>{const P=new Date(C.created_at).toISOString().split("T")[0];x[P]=(x[P]||0)+1});const E=Object.entries(x).map(([C,P])=>({date:C,count:P})).sort((C,P)=>C.date.localeCompare(P.date));a({totalConversations:f,aiResolutionRate:v,avgResponseTime:p,conversationsPerDay:E})}catch(d){console.error("Error fetching metrics:",d)}finally{c(!1)}})()},[n,i]),g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),g.jsx("p",{className:"text-gray-600",children:"Overview of pharmacy operations and metrics"})]}),g.jsx("div",{className:"mb-6",children:g.jsxs("div",{className:"bg-white shadow-sm rounded-lg p-4",children:[g.jsx("div",{className:"border-b border-gray-200 mb-4",children:g.jsxs("nav",{className:"-mb-px flex space-x-8",children:[g.jsx("button",{onClick:()=>e("metrics"),className:`pb-3 px-1 font-medium text-sm ${t==="metrics"?"border-b-2 border-[#1e88e5] text-[#1e88e5]":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Metrics Dashboard"}),g.jsx("button",{onClick:()=>e("conversations"),className:`pb-3 px-1 font-medium text-sm ${t==="conversations"?"border-b-2 border-[#1e88e5] text-[#1e88e5]":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Conversations"})]})}),t==="metrics"&&g.jsxs("div",{children:[g.jsx(LD,{startDate:n,endDate:i,onStartDateChange:r,onEndDateChange:s}),g.jsx(ND,{metrics:o,loading:l})]}),t==="conversations"&&g.jsx(Kf,{})]})})]})},$D=({product:t,categories:e,onSubmit:n,onCancel:r})=>{const{register:i,handleSubmit:s,formState:{errors:o},watch:a}=Jx({defaultValues:t?{name:t.name,description:t.description||"",category:t.category,price:t.price,stock_quantity:t.stock_quantity,critical_level:t.critical_level,image_url:t.image_url||""}:{name:"",description:"",category:e[0]||"",price:0,stock_quantity:0,critical_level:5,image_url:""}}),l=a("image_url");return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl",children:[g.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[g.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t?"Edit Product":"Add New Product"}),g.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:g.jsx(Bx,{className:"h-5 w-5"})})]}),g.jsxs("form",{onSubmit:s(n),children:[g.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name*"}),g.jsx("input",{id:"name",type:"text",className:`block w-full border ${o.name?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...i("name",{required:"Product name is required"})}),o.name&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),g.jsx("textarea",{id:"description",rows:3,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",...i("description")})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),g.jsxs("div",{children:[g.jsx("input",{id:"category",type:"text",list:"categories",className:`block w-full border ${o.category?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...i("category",{required:"Category is required"})}),g.jsx("datalist",{id:"categories",children:e.map(c=>g.jsx("option",{value:c},c))})]}),o.category&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.category.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Price ($)*"}),g.jsx("input",{id:"price",type:"number",step:"0.01",min:"0",className:`block w-full border ${o.price?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...i("price",{required:"Price is required",min:{value:0,message:"Price cannot be negative"},valueAsNumber:!0})}),o.price&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.price.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"stock_quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock Quantity*"}),g.jsx("input",{id:"stock_quantity",type:"number",min:"0",className:`block w-full border ${o.stock_quantity?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...i("stock_quantity",{required:"Stock quantity is required",min:{value:0,message:"Stock cannot be negative"},valueAsNumber:!0})}),o.stock_quantity&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.stock_quantity.message})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"critical_level",className:"block text-sm font-medium text-gray-700 mb-1",children:"Critical Level*"}),g.jsx("input",{id:"critical_level",type:"number",min:"0",className:`block w-full border ${o.critical_level?"border-red-300":"border-gray-300"} rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm`,...i("critical_level",{required:"Critical level is required",min:{value:0,message:"Critical level cannot be negative"},valueAsNumber:!0})}),o.critical_level&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.critical_level.message})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{htmlFor:"image_url",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL"}),g.jsx("input",{id:"image_url",type:"text",className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",...i("image_url")}),l&&g.jsxs("div",{className:"mt-2",children:[g.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Image Preview:"}),g.jsx("img",{src:l,alt:"Product preview",className:"h-16 w-16 object-cover rounded border border-gray-300",onError:c=>{c.target.src="https://via.placeholder.com/150?text=Invalid+URL"}})]})]})]}),g.jsxs("div",{className:"px-4 py-3 bg-gray-50 text-right sm:px-6 rounded-b-lg",children:[g.jsx("button",{type:"button",onClick:r,className:"mr-3 bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),g.jsx("button",{type:"submit",className:"bg-[#1e88e5] py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:t?"Update Product":"Add Product"})]})]})]})})},FD=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!0),[i,s]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState(!1),[u,d]=b.useState({column:"name",direction:"asc"}),[h,f]=b.useState([]),[m,v]=b.useState(1),[w,y]=b.useState(!1),[p,x]=b.useState(null),_=10;b.useEffect(()=>{S()},[]);const S=async()=>{r(!0);try{let O=We.from("products").select("*");const{data:M,error:R}=await O;if(R)throw R;e(M||[]);const L=[...new Set((M==null?void 0:M.map(T=>T.category))||[])];f(L)}catch(O){console.error("Error fetching products:",O),Lt.error("Failed to load products")}finally{r(!1)}},E=async O=>{try{const{data:M,error:R}=await We.from("products").insert(O).select().single();if(R)throw R;e([...t,M]),y(!1),Lt.success("Product added successfully"),h.includes(O.category)||f([...h,O.category])}catch(M){console.error("Error adding product:",M),Lt.error("Failed to add product")}},C=async(O,M)=>{try{const{data:R,error:L}=await We.from("products").update(M).eq("id",O).select().single();if(L)throw L;e(t.map(T=>T.id===O?R:T)),x(null),Lt.success("Product updated successfully"),M.category&&!h.includes(M.category)&&f([...h,M.category])}catch(R){console.error("Error updating product:",R),Lt.error("Failed to update product")}},P=async O=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:M}=await We.from("products").delete().eq("id",O);if(M)throw M;e(t.filter(R=>R.id!==O)),Lt.success("Product deleted successfully")}catch(M){console.error("Error deleting product:",M),Lt.error("Failed to delete product")}},$=t.filter(O=>{var T;const M=O.name.toLowerCase().includes(i.toLowerCase())||(((T=O.description)==null?void 0:T.toLowerCase())||"").includes(i.toLowerCase()),R=o?O.category===o:!0,L=l?O.stock_quantity<=O.critical_level:!0;return M&&R&&L}).sort((O,M)=>{if(!u.column)return 0;const R=O[u.column],L=M[u.column];return R===null?u.direction==="asc"?-1:1:L===null?u.direction==="asc"?1:-1:typeof R=="string"&&typeof L=="string"?u.direction==="asc"?R.localeCompare(L):L.localeCompare(R):u.direction==="asc"?R-L:L-R}),D=Math.ceil($.length/_),N=(m-1)*_,U=$.slice(N,N+_),V=O=>{d({column:O,direction:u.column===O&&u.direction==="asc"?"desc":"asc"})};return g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),g.jsx("p",{className:"text-gray-600",children:"Manage product inventory and stock levels"})]}),g.jsxs("button",{onClick:()=>y(!0),className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-[#1e88e5] text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:[g.jsx(HE,{className:"h-4 w-4 mr-2"}),"Add Product"]})]}),g.jsx("div",{className:"mb-6 bg-white p-4 rounded-lg shadow-sm",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(WE,{className:"h-4 w-4 text-gray-400"})}),g.jsx("input",{type:"text",value:i,onChange:O=>s(O.target.value),placeholder:"Search products...",className:"pl-10 w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(IE,{className:"h-4 w-4 text-gray-400"})}),g.jsxs("select",{value:o,onChange:O=>a(O.target.value),className:"pl-10 w-full border border-gray-300 rounded-md py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[g.jsx("option",{value:"",children:"All Categories"}),h.map(O=>g.jsx("option",{value:O,children:O},O))]})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("input",{id:"show-low-stock",type:"checkbox",checked:l,onChange:O=>c(O.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),g.jsx("label",{htmlFor:"show-low-stock",className:"ml-2 block text-sm text-gray-900",children:"Show Low Stock Only"})]})]})}),g.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):U.length===0?g.jsx("div",{className:"p-6 text-center",children:g.jsx("p",{className:"text-gray-500 text-lg",children:"No products found matching your criteria"})}):g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>V("name"),children:g.jsxs("div",{className:"flex items-center",children:["Product Name",u.column==="name"&&g.jsx(Ka,{className:"ml-1 h-4 w-4"})]})}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>V("category"),children:g.jsxs("div",{className:"flex items-center",children:["Category",u.column==="category"&&g.jsx(Ka,{className:"ml-1 h-4 w-4"})]})}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>V("price"),children:g.jsxs("div",{className:"flex items-center",children:["Price",u.column==="price"&&g.jsx(Ka,{className:"ml-1 h-4 w-4"})]})}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>V("stock_quantity"),children:g.jsxs("div",{className:"flex items-center",children:["Stock",u.column==="stock_quantity"&&g.jsx(Ka,{className:"ml-1 h-4 w-4"})]})}),g.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(O=>g.jsxs("tr",{className:"hover:bg-gray-50",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"flex items-center",children:[O.image_url?g.jsx("img",{src:O.image_url,alt:O.name,className:"h-10 w-10 rounded object-cover mr-3"}):g.jsx("div",{className:"h-10 w-10 rounded bg-gray-200 flex items-center justify-center mr-3",children:g.jsx("span",{className:"text-gray-500 text-xs",children:"No img"})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium text-gray-900",children:O.name}),O.description&&g.jsx("div",{className:"text-gray-500 text-sm truncate max-w-xs",children:O.description})]})]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:O.category})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsxs("div",{className:"text-gray-900",children:["$",O.price.toFixed(2)]})}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("div",{className:"flex items-center",children:O.stock_quantity<=O.critical_level?g.jsxs("div",{className:"flex items-center text-red-600",children:[g.jsx(OE,{className:"h-4 w-4 mr-1"}),g.jsx("span",{children:O.stock_quantity})]}):g.jsxs("div",{className:"flex items-center text-green-600",children:[g.jsx(Fx,{className:"h-4 w-4 mr-1"}),g.jsx("span",{children:O.stock_quantity})]})})}),g.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[g.jsx("button",{onClick:()=>x(O),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),g.jsx("button",{onClick:()=>P(O.id),className:"text-red-600 hover:text-red-900",children:g.jsx(KE,{className:"h-4 w-4"})})]})]},O.id))})]})}),!n&&D>1&&g.jsx("div",{className:"px-6 py-3 flex items-center justify-between border-t border-gray-200",children:g.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[g.jsx("button",{onClick:()=>v(Math.max(m-1,1)),disabled:m===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),g.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",m," of ",D]}),g.jsx("button",{onClick:()=>v(Math.min(m+1,D)),disabled:m===D,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]}),(w||p)&&g.jsx($D,{product:p,categories:h,onSubmit:p?O=>C(p.id,O):E,onCancel:()=>{y(!1),x(null)}})]})},zD=()=>g.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center items-center p-4",children:[g.jsx("div",{className:"text-[#1e88e5] text-8xl font-bold mb-4",children:"404"}),g.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Page Not Found"}),g.jsx("p",{className:"text-gray-600 mb-8 text-center max-w-md",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),g.jsxs(ix,{to:"/",className:"inline-flex items-center px-4 py-2 bg-[#1e88e5] text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:[g.jsx($E,{className:"h-4 w-4 mr-2"}),"Return to Home"]})]}),BD=()=>{const[t,e]=b.useState(!1),{profile:n}=er(),r=()=>{e(!t)},i=(n==null?void 0:n.role)==="admin",s=(n==null?void 0:n.role)==="pharmacist"||i,o=(n==null?void 0:n.role)==="vendor"||i;return g.jsxs("aside",{className:`bg-[#1e88e5] text-white transition-all duration-300 ${t?"w-16":"w-64"} hidden md:block relative`,children:[g.jsxs("div",{className:"p-4 flex items-center justify-between",children:[g.jsxs("div",{className:`flex items-center ${t?"justify-center w-full":""}`,children:[g.jsx(fh,{className:"h-8 w-8"}),!t&&g.jsx("span",{className:"ml-2 text-xl font-bold",children:"PharmaSaaS"})]}),g.jsx("button",{onClick:r,className:"text-white p-1 rounded hover:bg-blue-600",children:t?g.jsx(NE,{size:20}):g.jsx(AE,{size:20})})]}),g.jsx("nav",{className:"mt-6",children:g.jsxs("ul",{className:"space-y-2 px-2",children:[o&&g.jsx("li",{children:g.jsxs(Hr,{to:"/vendor",className:({isActive:a})=>`flex items-center p-2 rounded-lg ${a?"bg-blue-700":"hover:bg-blue-600"} ${t?"justify-center":"pl-3"}`,children:[g.jsx(Qo,{className:"h-5 w-5"}),!t&&g.jsx("span",{className:"ml-3",children:"Conversations"})]})}),s&&g.jsx("li",{children:g.jsxs(Hr,{to:"/pharmacist",className:({isActive:a})=>`flex items-center p-2 rounded-lg ${a?"bg-blue-700":"hover:bg-blue-600"} ${t?"justify-center":"pl-3"}`,children:[g.jsx(fh,{className:"h-5 w-5"}),!t&&g.jsx("span",{className:"ml-3",children:"Prescriptions"})]})}),i&&g.jsxs(g.Fragment,{children:[g.jsx("li",{children:g.jsxs(Hr,{to:"/admin",className:({isActive:a})=>`flex items-center p-2 rounded-lg ${a?"bg-blue-700":"hover:bg-blue-600"} ${t?"justify-center":"pl-3"}`,children:[g.jsx(RE,{className:"h-5 w-5"}),!t&&g.jsx("span",{className:"ml-3",children:"Dashboard"})]})}),g.jsx("li",{children:g.jsxs(Hr,{to:"/stock",className:({isActive:a})=>`flex items-center p-2 rounded-lg ${a?"bg-blue-700":"hover:bg-blue-600"} ${t?"justify-center":"pl-3"}`,children:[g.jsx(UE,{className:"h-5 w-5"}),!t&&g.jsx("span",{className:"ml-3",children:"Inventory"})]})}),g.jsx("li",{children:g.jsxs(Hr,{to:"/reports",className:({isActive:a})=>`flex items-center p-2 rounded-lg ${a?"bg-blue-700":"hover:bg-blue-600"} ${t?"justify-center":"pl-3"}`,children:[g.jsx(LE,{className:"h-5 w-5"}),!t&&g.jsx("span",{className:"ml-3",children:"Reports"})]})}),g.jsx("li",{children:g.jsxs(Hr,{to:"/users",className:({isActive:a})=>`flex items-center p-2 rounded-lg ${a?"bg-blue-700":"hover:bg-blue-600"} ${t?"justify-center":"pl-3"}`,children:[g.jsx(XE,{className:"h-5 w-5"}),!t&&g.jsx("span",{className:"ml-3",children:"Users"})]})}),g.jsx("li",{children:g.jsxs(Hr,{to:"/settings",className:({isActive:a})=>`flex items-center p-2 rounded-lg ${a?"bg-blue-700":"hover:bg-blue-600"} ${t?"justify-center":"pl-3"}`,children:[g.jsx(YE,{className:"h-5 w-5"}),!t&&g.jsx("span",{className:"ml-3",children:"Settings"})]})})]})]})}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:g.jsx("div",{className:`text-xs text-blue-100 ${t?"text-center":""}`,children:!t&&g.jsx("p",{children:"Version 1.0.0"})})})]})},UD=()=>{const{profile:t,signOut:e}=er(),n=async()=>{await e(),Lt.success("You have been signed out")};return g.jsx("header",{className:"bg-white shadow-sm z-10",children:g.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h1",{className:"text-lg md:text-xl font-semibold text-gray-800",children:[(t==null?void 0:t.role)==="vendor"&&"Vendor Dashboard",(t==null?void 0:t.role)==="pharmacist"&&"Pharmacist Dashboard",(t==null?void 0:t.role)==="admin"&&"Admin Dashboard"]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsxs("button",{className:"p-1.5 rounded-full hover:bg-gray-100 relative",children:[g.jsx(DE,{className:"h-5 w-5 text-gray-600"}),g.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),g.jsx("div",{className:"relative",children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("span",{className:"text-sm font-medium text-gray-700 hidden md:block",children:(t==null?void 0:t.full_name)||"User"}),g.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:t!=null&&t.avatar_url?g.jsx("img",{src:t.avatar_url,alt:t.full_name,className:"h-8 w-8 rounded-full object-cover"}):g.jsx(Nf,{className:"h-5 w-5"})}),g.jsx("button",{onClick:n,className:"p-1.5 rounded-full hover:bg-gray-100",title:"Sign out",children:g.jsx(zE,{className:"h-5 w-5 text-gray-600"})})]})})]})]})})})},VD=()=>{const{user:t}=er();return t?g.jsxs("div",{className:"flex h-screen bg-gray-50",children:[g.jsx(BD,{}),g.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[g.jsx(UD,{}),g.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:g.jsx(Cg,{})})]})]}):g.jsx(Cg,{})},dl=({children:t,allowedRoles:e})=>{const{user:n,profile:r,loading:i}=er();return i?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):n?r?e.includes(r.role)?g.jsx(g.Fragment,{children:t}):r.role==="vendor"?g.jsx(ei,{to:"/vendor",replace:!0}):r.role==="pharmacist"?g.jsx(ei,{to:"/pharmacist",replace:!0}):r.role==="admin"?g.jsx(ei,{to:"/admin",replace:!0}):g.jsx(ei,{to:"/login",replace:!0}):g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):g.jsx(ei,{to:"/login",replace:!0})};function HD(){const{user:t,setUser:e,clearUser:n}=er();return b.useEffect(()=>{We.auth.getSession().then(({data:{session:i}})=>{i&&e(i.user)});const{data:{subscription:r}}=We.auth.onAuthStateChange((i,s)=>{i==="SIGNED_IN"&&s?e(s.user):i==="SIGNED_OUT"&&n()});return()=>{r.unsubscribe()}},[e,n]),g.jsxs(rx,{children:[g.jsx(Ik,{position:"top-right"}),g.jsxs(NS,{children:[g.jsx(Nn,{path:"/login",element:t?g.jsx(ei,{to:"/"}):g.jsx(yP,{})}),g.jsxs(Nn,{path:"/",element:g.jsx(VD,{}),children:[g.jsx(Nn,{index:!0,element:g.jsx(ei,{to:"/vendor",replace:!0})}),g.jsx(Nn,{path:"vendor",element:g.jsx(dl,{allowedRoles:["vendor","admin"],children:g.jsx(fj,{})})}),g.jsx(Nn,{path:"pharmacist",element:g.jsx(dl,{allowedRoles:["pharmacist","admin"],children:g.jsx(pj,{})})}),g.jsx(Nn,{path:"admin",element:g.jsx(dl,{allowedRoles:["admin"],children:g.jsx(ID,{})})}),g.jsx(Nn,{path:"stock",element:g.jsx(dl,{allowedRoles:["admin"],children:g.jsx(FD,{})})})]}),g.jsx(Nn,{path:"*",element:g.jsx(zD,{})})]})]})}qv(document.getElementById("root")).render(g.jsx(b.StrictMode,{children:g.jsxs(rx,{basename:"/farmacia_ia_v10",children:["  ",g.jsx(HD,{})]})}));export{Cc as g};
